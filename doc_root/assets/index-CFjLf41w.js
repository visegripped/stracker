var KI=Object.defineProperty;var $I=(e,t,n)=>t in e?KI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ie=(e,t,n)=>$I(e,typeof t!="symbol"?t+"":t,n);function kD(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in e)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(e,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();var XI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function CD(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var LD={exports:{}},Wf={},ED={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bd=Symbol.for("react.element"),ZI=Symbol.for("react.portal"),qI=Symbol.for("react.fragment"),QI=Symbol.for("react.strict_mode"),JI=Symbol.for("react.profiler"),eN=Symbol.for("react.provider"),tN=Symbol.for("react.context"),nN=Symbol.for("react.forward_ref"),iN=Symbol.for("react.suspense"),rN=Symbol.for("react.memo"),sN=Symbol.for("react.lazy"),rw=Symbol.iterator;function oN(e){return e===null||typeof e!="object"?null:(e=rw&&e[rw]||e["@@iterator"],typeof e=="function"?e:null)}var TD={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ID=Object.assign,ND={};function oc(e,t,n){this.props=e,this.context=t,this.refs=ND,this.updater=n||TD}oc.prototype.isReactComponent={};oc.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};oc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function RD(){}RD.prototype=oc.prototype;function Hv(e,t,n){this.props=e,this.context=t,this.refs=ND,this.updater=n||TD}var Uv=Hv.prototype=new RD;Uv.constructor=Hv;ID(Uv,oc.prototype);Uv.isPureReactComponent=!0;var sw=Array.isArray,AD=Object.prototype.hasOwnProperty,Vv={current:null},PD={key:!0,ref:!0,__self:!0,__source:!0};function OD(e,t,n){var i,r={},s=null,o=null;if(t!=null)for(i in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)AD.call(t,i)&&!PD.hasOwnProperty(i)&&(r[i]=t[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(e&&e.defaultProps)for(i in a=e.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:Bd,type:e,key:s,ref:o,props:r,_owner:Vv.current}}function aN(e,t){return{$$typeof:Bd,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Kv(e){return typeof e=="object"&&e!==null&&e.$$typeof===Bd}function lN(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ow=/\/+/g;function Zg(e,t){return typeof e=="object"&&e!==null&&e.key!=null?lN(""+e.key):t.toString(36)}function op(e,t,n,i,r){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Bd:case ZI:o=!0}}if(o)return o=e,r=r(o),e=i===""?"."+Zg(o,0):i,sw(r)?(n="",e!=null&&(n=e.replace(ow,"$&/")+"/"),op(r,t,n,"",function(c){return c})):r!=null&&(Kv(r)&&(r=aN(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(ow,"$&/")+"/")+e)),t.push(r)),1;if(o=0,i=i===""?".":i+":",sw(e))for(var a=0;a<e.length;a++){s=e[a];var l=i+Zg(s,a);o+=op(s,t,n,l,r)}else if(l=oN(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=i+Zg(s,a++),o+=op(s,t,n,l,r);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function xh(e,t,n){if(e==null)return e;var i=[],r=0;return op(e,i,"","",function(s){return t.call(n,s,r++)}),i}function cN(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Pn={current:null},ap={transition:null},uN={ReactCurrentDispatcher:Pn,ReactCurrentBatchConfig:ap,ReactCurrentOwner:Vv};function _D(){throw Error("act(...) is not supported in production builds of React.")}Ne.Children={map:xh,forEach:function(e,t,n){xh(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return xh(e,function(){t++}),t},toArray:function(e){return xh(e,function(t){return t})||[]},only:function(e){if(!Kv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ne.Component=oc;Ne.Fragment=qI;Ne.Profiler=JI;Ne.PureComponent=Hv;Ne.StrictMode=QI;Ne.Suspense=iN;Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uN;Ne.act=_D;Ne.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=ID({},e.props),r=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Vv.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)AD.call(t,l)&&!PD.hasOwnProperty(l)&&(i[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:Bd,type:e.type,key:r,ref:s,props:i,_owner:o}};Ne.createContext=function(e){return e={$$typeof:tN,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:eN,_context:e},e.Consumer=e};Ne.createElement=OD;Ne.createFactory=function(e){var t=OD.bind(null,e);return t.type=e,t};Ne.createRef=function(){return{current:null}};Ne.forwardRef=function(e){return{$$typeof:nN,render:e}};Ne.isValidElement=Kv;Ne.lazy=function(e){return{$$typeof:sN,_payload:{_status:-1,_result:e},_init:cN}};Ne.memo=function(e,t){return{$$typeof:rN,type:e,compare:t===void 0?null:t}};Ne.startTransition=function(e){var t=ap.transition;ap.transition={};try{e()}finally{ap.transition=t}};Ne.unstable_act=_D;Ne.useCallback=function(e,t){return Pn.current.useCallback(e,t)};Ne.useContext=function(e){return Pn.current.useContext(e)};Ne.useDebugValue=function(){};Ne.useDeferredValue=function(e){return Pn.current.useDeferredValue(e)};Ne.useEffect=function(e,t){return Pn.current.useEffect(e,t)};Ne.useId=function(){return Pn.current.useId()};Ne.useImperativeHandle=function(e,t,n){return Pn.current.useImperativeHandle(e,t,n)};Ne.useInsertionEffect=function(e,t){return Pn.current.useInsertionEffect(e,t)};Ne.useLayoutEffect=function(e,t){return Pn.current.useLayoutEffect(e,t)};Ne.useMemo=function(e,t){return Pn.current.useMemo(e,t)};Ne.useReducer=function(e,t,n){return Pn.current.useReducer(e,t,n)};Ne.useRef=function(e){return Pn.current.useRef(e)};Ne.useState=function(e){return Pn.current.useState(e)};Ne.useSyncExternalStore=function(e,t,n){return Pn.current.useSyncExternalStore(e,t,n)};Ne.useTransition=function(){return Pn.current.useTransition()};Ne.version="18.3.1";ED.exports=Ne;var N=ED.exports;const j=CD(N),FD=kD({__proto__:null,default:j},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dN=N,hN=Symbol.for("react.element"),pN=Symbol.for("react.fragment"),fN=Object.prototype.hasOwnProperty,gN=dN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mN={key:!0,ref:!0,__self:!0,__source:!0};function BD(e,t,n){var i,r={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(i in t)fN.call(t,i)&&!mN.hasOwnProperty(i)&&(r[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)r[i]===void 0&&(r[i]=t[i]);return{$$typeof:hN,type:e,key:s,ref:o,props:r,_owner:gN.current}}Wf.Fragment=pN;Wf.jsx=BD;Wf.jsxs=BD;LD.exports=Wf;var U=LD.exports,ay={},zD={exports:{}},fi={},YD={exports:{}},GD={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(F,G){var H=F.length;F.push(G);e:for(;0<H;){var Z=H-1>>>1,J=F[Z];if(0<r(J,G))F[Z]=G,F[H]=J,H=Z;else break e}}function n(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var G=F[0],H=F.pop();if(H!==G){F[0]=H;e:for(var Z=0,J=F.length,he=J>>>1;Z<he;){var pe=2*(Z+1)-1,Te=F[pe],V=pe+1,ue=F[V];if(0>r(Te,H))V<J&&0>r(ue,Te)?(F[Z]=ue,F[V]=H,Z=V):(F[Z]=Te,F[pe]=H,Z=pe);else if(V<J&&0>r(ue,H))F[Z]=ue,F[V]=H,Z=V;else break e}}return G}function r(F,G){var H=F.sortIndex-G.sortIndex;return H!==0?H:F.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,p=!1,f=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(F){for(var G=n(c);G!==null;){if(G.callback===null)i(c);else if(G.startTime<=F)i(c),G.sortIndex=G.expirationTime,t(l,G);else break;G=n(c)}}function S(F){if(g=!1,x(F),!f)if(n(l)!==null)f=!0,z(D);else{var G=n(c);G!==null&&P(S,G.startTime-F)}}function D(F,G){f=!1,g&&(g=!1,y(k),k=-1),p=!0;var H=h;try{for(x(G),d=n(l);d!==null&&(!(d.expirationTime>G)||F&&!O());){var Z=d.callback;if(typeof Z=="function"){d.callback=null,h=d.priorityLevel;var J=Z(d.expirationTime<=G);G=e.unstable_now(),typeof J=="function"?d.callback=J:d===n(l)&&i(l),x(G)}else i(l);d=n(l)}if(d!==null)var he=!0;else{var pe=n(c);pe!==null&&P(S,pe.startTime-G),he=!1}return he}finally{d=null,h=H,p=!1}}var M=!1,C=null,k=-1,L=5,T=-1;function O(){return!(e.unstable_now()-T<L)}function Y(){if(C!==null){var F=e.unstable_now();T=F;var G=!0;try{G=C(!0,F)}finally{G?E():(M=!1,C=null)}}else M=!1}var E;if(typeof m=="function")E=function(){m(Y)};else if(typeof MessageChannel<"u"){var _=new MessageChannel,R=_.port2;_.port1.onmessage=Y,E=function(){R.postMessage(null)}}else E=function(){v(Y,0)};function z(F){C=F,M||(M=!0,E())}function P(F,G){k=v(function(){F(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){f||p||(f=!0,z(D))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(F){switch(h){case 1:case 2:case 3:var G=3;break;default:G=h}var H=h;h=G;try{return F()}finally{h=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,G){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var H=h;h=F;try{return G()}finally{h=H}},e.unstable_scheduleCallback=function(F,G,H){var Z=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?Z+H:Z):H=Z,F){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=H+J,F={id:u++,callback:G,priorityLevel:F,startTime:H,expirationTime:J,sortIndex:-1},H>Z?(F.sortIndex=H,t(c,F),n(l)===null&&F===n(c)&&(g?(y(k),k=-1):g=!0,P(S,H-Z))):(F.sortIndex=J,t(l,F),f||p||(f=!0,z(D))),F},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(F){var G=h;return function(){var H=h;h=G;try{return F.apply(this,arguments)}finally{h=H}}}})(GD);YD.exports=GD;var yN=YD.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vN=N,hi=yN;function K(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jD=new Set,Vu={};function Aa(e,t){Yl(e,t),Yl(e+"Capture",t)}function Yl(e,t){for(Vu[e]=t,e=0;e<t.length;e++)jD.add(t[e])}var ys=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ly=Object.prototype.hasOwnProperty,xN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,aw={},lw={};function bN(e){return ly.call(lw,e)?!0:ly.call(aw,e)?!1:xN.test(e)?lw[e]=!0:(aw[e]=!0,!1)}function wN(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function SN(e,t,n,i){if(t===null||typeof t>"u"||wN(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function On(e,t,n,i,r,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var fn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){fn[e]=new On(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];fn[t]=new On(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){fn[e]=new On(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){fn[e]=new On(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){fn[e]=new On(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){fn[e]=new On(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){fn[e]=new On(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){fn[e]=new On(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){fn[e]=new On(e,5,!1,e.toLowerCase(),null,!1,!1)});var $v=/[\-:]([a-z])/g;function Xv(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace($v,Xv);fn[t]=new On(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace($v,Xv);fn[t]=new On(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace($v,Xv);fn[t]=new On(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){fn[e]=new On(e,1,!1,e.toLowerCase(),null,!1,!1)});fn.xlinkHref=new On("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){fn[e]=new On(e,1,!1,e.toLowerCase(),null,!0,!0)});function Zv(e,t,n,i){var r=fn.hasOwnProperty(t)?fn[t]:null;(r!==null?r.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(SN(t,n,r,i)&&(n=null),i||r===null?bN(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=n===null?r.type===3?!1:"":n:(t=r.attributeName,i=r.attributeNamespace,n===null?e.removeAttribute(t):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var Ds=vN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bh=Symbol.for("react.element"),ul=Symbol.for("react.portal"),dl=Symbol.for("react.fragment"),qv=Symbol.for("react.strict_mode"),cy=Symbol.for("react.profiler"),WD=Symbol.for("react.provider"),HD=Symbol.for("react.context"),Qv=Symbol.for("react.forward_ref"),uy=Symbol.for("react.suspense"),dy=Symbol.for("react.suspense_list"),Jv=Symbol.for("react.memo"),Gs=Symbol.for("react.lazy"),UD=Symbol.for("react.offscreen"),cw=Symbol.iterator;function Fc(e){return e===null||typeof e!="object"?null:(e=cw&&e[cw]||e["@@iterator"],typeof e=="function"?e:null)}var Dt=Object.assign,qg;function iu(e){if(qg===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);qg=t&&t[1]||""}return`
`+qg+e}var Qg=!1;function Jg(e,t){if(!e||Qg)return"";Qg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var i=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){i=c}e.call(t.prototype)}else{try{throw Error()}catch(c){i=c}e()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Qg=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?iu(e):""}function MN(e){switch(e.tag){case 5:return iu(e.type);case 16:return iu("Lazy");case 13:return iu("Suspense");case 19:return iu("SuspenseList");case 0:case 2:case 15:return e=Jg(e.type,!1),e;case 11:return e=Jg(e.type.render,!1),e;case 1:return e=Jg(e.type,!0),e;default:return""}}function hy(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case dl:return"Fragment";case ul:return"Portal";case cy:return"Profiler";case qv:return"StrictMode";case uy:return"Suspense";case dy:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case HD:return(e.displayName||"Context")+".Consumer";case WD:return(e._context.displayName||"Context")+".Provider";case Qv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Jv:return t=e.displayName||null,t!==null?t:hy(e.type)||"Memo";case Gs:t=e._payload,e=e._init;try{return hy(e(t))}catch{}}return null}function DN(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hy(t);case 8:return t===qv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function vo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function VD(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function kN(e){var t=VD(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function wh(e){e._valueTracker||(e._valueTracker=kN(e))}function KD(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=VD(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Bp(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function py(e,t){var n=t.checked;return Dt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function uw(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=vo(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function $D(e,t){t=t.checked,t!=null&&Zv(e,"checked",t,!1)}function fy(e,t){$D(e,t);var n=vo(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?gy(e,t.type,n):t.hasOwnProperty("defaultValue")&&gy(e,t.type,vo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function dw(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function gy(e,t,n){(t!=="number"||Bp(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ru=Array.isArray;function kl(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+vo(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,i&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function my(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(K(91));return Dt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hw(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(K(92));if(ru(n)){if(1<n.length)throw Error(K(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:vo(n)}}function XD(e,t){var n=vo(t.value),i=vo(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function pw(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ZD(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yy(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ZD(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Sh,qD=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Sh=Sh||document.createElement("div"),Sh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Sh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ku(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ku={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},CN=["Webkit","ms","Moz","O"];Object.keys(ku).forEach(function(e){CN.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ku[t]=ku[e]})});function QD(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ku.hasOwnProperty(e)&&ku[e]?(""+t).trim():t+"px"}function JD(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=QD(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}var LN=Dt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vy(e,t){if(t){if(LN[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(K(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(K(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(K(61))}if(t.style!=null&&typeof t.style!="object")throw Error(K(62))}}function xy(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var by=null;function e0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wy=null,Cl=null,Ll=null;function fw(e){if(e=Gd(e)){if(typeof wy!="function")throw Error(K(280));var t=e.stateNode;t&&(t=$f(t),wy(e.stateNode,e.type,t))}}function ek(e){Cl?Ll?Ll.push(e):Ll=[e]:Cl=e}function tk(){if(Cl){var e=Cl,t=Ll;if(Ll=Cl=null,fw(e),t)for(e=0;e<t.length;e++)fw(t[e])}}function nk(e,t){return e(t)}function ik(){}var em=!1;function rk(e,t,n){if(em)return e(t,n);em=!0;try{return nk(e,t,n)}finally{em=!1,(Cl!==null||Ll!==null)&&(ik(),tk())}}function $u(e,t){var n=e.stateNode;if(n===null)return null;var i=$f(n);if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(K(231,t,typeof n));return n}var Sy=!1;if(ys)try{var Bc={};Object.defineProperty(Bc,"passive",{get:function(){Sy=!0}}),window.addEventListener("test",Bc,Bc),window.removeEventListener("test",Bc,Bc)}catch{Sy=!1}function EN(e,t,n,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Cu=!1,zp=null,Yp=!1,My=null,TN={onError:function(e){Cu=!0,zp=e}};function IN(e,t,n,i,r,s,o,a,l){Cu=!1,zp=null,EN.apply(TN,arguments)}function NN(e,t,n,i,r,s,o,a,l){if(IN.apply(this,arguments),Cu){if(Cu){var c=zp;Cu=!1,zp=null}else throw Error(K(198));Yp||(Yp=!0,My=c)}}function Pa(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function sk(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function gw(e){if(Pa(e)!==e)throw Error(K(188))}function RN(e){var t=e.alternate;if(!t){if(t=Pa(e),t===null)throw Error(K(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return gw(r),e;if(s===i)return gw(r),t;s=s.sibling}throw Error(K(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o)throw Error(K(189))}}if(n.alternate!==i)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?e:t}function ok(e){return e=RN(e),e!==null?ak(e):null}function ak(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ak(e);if(t!==null)return t;e=e.sibling}return null}var lk=hi.unstable_scheduleCallback,mw=hi.unstable_cancelCallback,AN=hi.unstable_shouldYield,PN=hi.unstable_requestPaint,Rt=hi.unstable_now,ON=hi.unstable_getCurrentPriorityLevel,t0=hi.unstable_ImmediatePriority,ck=hi.unstable_UserBlockingPriority,Gp=hi.unstable_NormalPriority,_N=hi.unstable_LowPriority,uk=hi.unstable_IdlePriority,Hf=null,Ar=null;function FN(e){if(Ar&&typeof Ar.onCommitFiberRoot=="function")try{Ar.onCommitFiberRoot(Hf,e,void 0,(e.current.flags&128)===128)}catch{}}var ir=Math.clz32?Math.clz32:YN,BN=Math.log,zN=Math.LN2;function YN(e){return e>>>=0,e===0?32:31-(BN(e)/zN|0)|0}var Mh=64,Dh=4194304;function su(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function jp(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,r=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?i=su(a):(s&=o,s!==0&&(i=su(s)))}else o=n&~r,o!==0?i=su(o):s!==0&&(i=su(s));if(i===0)return 0;if(t!==0&&t!==i&&!(t&r)&&(r=i&-i,s=t&-t,r>=s||r===16&&(s&4194240)!==0))return t;if(i&4&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-ir(t),r=1<<n,i|=e[n],t&=~r;return i}function GN(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jN(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ir(s),a=1<<o,l=r[o];l===-1?(!(a&n)||a&i)&&(r[o]=GN(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function Dy(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function dk(){var e=Mh;return Mh<<=1,!(Mh&4194240)&&(Mh=64),e}function tm(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zd(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ir(t),e[t]=n}function WN(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-ir(n),s=1<<r;t[r]=0,i[r]=-1,e[r]=-1,n&=~s}}function n0(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-ir(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}var qe=0;function hk(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var pk,i0,fk,gk,mk,ky=!1,kh=[],to=null,no=null,io=null,Xu=new Map,Zu=new Map,Ws=[],HN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yw(e,t){switch(e){case"focusin":case"focusout":to=null;break;case"dragenter":case"dragleave":no=null;break;case"mouseover":case"mouseout":io=null;break;case"pointerover":case"pointerout":Xu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zu.delete(t.pointerId)}}function zc(e,t,n,i,r,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},t!==null&&(t=Gd(t),t!==null&&i0(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function UN(e,t,n,i,r){switch(t){case"focusin":return to=zc(to,e,t,n,i,r),!0;case"dragenter":return no=zc(no,e,t,n,i,r),!0;case"mouseover":return io=zc(io,e,t,n,i,r),!0;case"pointerover":var s=r.pointerId;return Xu.set(s,zc(Xu.get(s)||null,e,t,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Zu.set(s,zc(Zu.get(s)||null,e,t,n,i,r)),!0}return!1}function yk(e){var t=na(e.target);if(t!==null){var n=Pa(t);if(n!==null){if(t=n.tag,t===13){if(t=sk(n),t!==null){e.blockedOn=t,mk(e.priority,function(){fk(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function lp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Cy(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);by=i,n.target.dispatchEvent(i),by=null}else return t=Gd(n),t!==null&&i0(t),e.blockedOn=n,!1;t.shift()}return!0}function vw(e,t,n){lp(e)&&n.delete(t)}function VN(){ky=!1,to!==null&&lp(to)&&(to=null),no!==null&&lp(no)&&(no=null),io!==null&&lp(io)&&(io=null),Xu.forEach(vw),Zu.forEach(vw)}function Yc(e,t){e.blockedOn===t&&(e.blockedOn=null,ky||(ky=!0,hi.unstable_scheduleCallback(hi.unstable_NormalPriority,VN)))}function qu(e){function t(r){return Yc(r,e)}if(0<kh.length){Yc(kh[0],e);for(var n=1;n<kh.length;n++){var i=kh[n];i.blockedOn===e&&(i.blockedOn=null)}}for(to!==null&&Yc(to,e),no!==null&&Yc(no,e),io!==null&&Yc(io,e),Xu.forEach(t),Zu.forEach(t),n=0;n<Ws.length;n++)i=Ws[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<Ws.length&&(n=Ws[0],n.blockedOn===null);)yk(n),n.blockedOn===null&&Ws.shift()}var El=Ds.ReactCurrentBatchConfig,Wp=!0;function KN(e,t,n,i){var r=qe,s=El.transition;El.transition=null;try{qe=1,r0(e,t,n,i)}finally{qe=r,El.transition=s}}function $N(e,t,n,i){var r=qe,s=El.transition;El.transition=null;try{qe=4,r0(e,t,n,i)}finally{qe=r,El.transition=s}}function r0(e,t,n,i){if(Wp){var r=Cy(e,t,n,i);if(r===null)dm(e,t,i,Hp,n),yw(e,i);else if(UN(r,e,t,n,i))i.stopPropagation();else if(yw(e,i),t&4&&-1<HN.indexOf(e)){for(;r!==null;){var s=Gd(r);if(s!==null&&pk(s),s=Cy(e,t,n,i),s===null&&dm(e,t,i,Hp,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else dm(e,t,i,null,n)}}var Hp=null;function Cy(e,t,n,i){if(Hp=null,e=e0(i),e=na(e),e!==null)if(t=Pa(e),t===null)e=null;else if(n=t.tag,n===13){if(e=sk(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Hp=e,null}function vk(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ON()){case t0:return 1;case ck:return 4;case Gp:case _N:return 16;case uk:return 536870912;default:return 16}default:return 16}}var Vs=null,s0=null,cp=null;function xk(){if(cp)return cp;var e,t=s0,n=t.length,i,r="value"in Vs?Vs.value:Vs.textContent,s=r.length;for(e=0;e<n&&t[e]===r[e];e++);var o=n-e;for(i=1;i<=o&&t[n-i]===r[s-i];i++);return cp=r.slice(e,1<i?1-i:void 0)}function up(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ch(){return!0}function xw(){return!1}function gi(e){function t(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ch:xw,this.isPropagationStopped=xw,this}return Dt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ch)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ch)},persist:function(){},isPersistent:Ch}),t}var ac={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},o0=gi(ac),Yd=Dt({},ac,{view:0,detail:0}),XN=gi(Yd),nm,im,Gc,Uf=Dt({},Yd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:a0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gc&&(Gc&&e.type==="mousemove"?(nm=e.screenX-Gc.screenX,im=e.screenY-Gc.screenY):im=nm=0,Gc=e),nm)},movementY:function(e){return"movementY"in e?e.movementY:im}}),bw=gi(Uf),ZN=Dt({},Uf,{dataTransfer:0}),qN=gi(ZN),QN=Dt({},Yd,{relatedTarget:0}),rm=gi(QN),JN=Dt({},ac,{animationName:0,elapsedTime:0,pseudoElement:0}),eR=gi(JN),tR=Dt({},ac,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),nR=gi(tR),iR=Dt({},ac,{data:0}),ww=gi(iR),rR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aR(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=oR[e])?!!t[e]:!1}function a0(){return aR}var lR=Dt({},Yd,{key:function(e){if(e.key){var t=rR[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=up(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?sR[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:a0,charCode:function(e){return e.type==="keypress"?up(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?up(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),cR=gi(lR),uR=Dt({},Uf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sw=gi(uR),dR=Dt({},Yd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:a0}),hR=gi(dR),pR=Dt({},ac,{propertyName:0,elapsedTime:0,pseudoElement:0}),fR=gi(pR),gR=Dt({},Uf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),mR=gi(gR),yR=[9,13,27,32],l0=ys&&"CompositionEvent"in window,Lu=null;ys&&"documentMode"in document&&(Lu=document.documentMode);var vR=ys&&"TextEvent"in window&&!Lu,bk=ys&&(!l0||Lu&&8<Lu&&11>=Lu),Mw=" ",Dw=!1;function wk(e,t){switch(e){case"keyup":return yR.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sk(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var hl=!1;function xR(e,t){switch(e){case"compositionend":return Sk(t);case"keypress":return t.which!==32?null:(Dw=!0,Mw);case"textInput":return e=t.data,e===Mw&&Dw?null:e;default:return null}}function bR(e,t){if(hl)return e==="compositionend"||!l0&&wk(e,t)?(e=xk(),cp=s0=Vs=null,hl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bk&&t.locale!=="ko"?null:t.data;default:return null}}var wR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!wR[e.type]:t==="textarea"}function Mk(e,t,n,i){ek(i),t=Up(t,"onChange"),0<t.length&&(n=new o0("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Eu=null,Qu=null;function SR(e){Pk(e,0)}function Vf(e){var t=gl(e);if(KD(t))return e}function MR(e,t){if(e==="change")return t}var Dk=!1;if(ys){var sm;if(ys){var om="oninput"in document;if(!om){var Cw=document.createElement("div");Cw.setAttribute("oninput","return;"),om=typeof Cw.oninput=="function"}sm=om}else sm=!1;Dk=sm&&(!document.documentMode||9<document.documentMode)}function Lw(){Eu&&(Eu.detachEvent("onpropertychange",kk),Qu=Eu=null)}function kk(e){if(e.propertyName==="value"&&Vf(Qu)){var t=[];Mk(t,Qu,e,e0(e)),rk(SR,t)}}function DR(e,t,n){e==="focusin"?(Lw(),Eu=t,Qu=n,Eu.attachEvent("onpropertychange",kk)):e==="focusout"&&Lw()}function kR(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vf(Qu)}function CR(e,t){if(e==="click")return Vf(t)}function LR(e,t){if(e==="input"||e==="change")return Vf(t)}function ER(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sr=typeof Object.is=="function"?Object.is:ER;function Ju(e,t){if(sr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!ly.call(t,r)||!sr(e[r],t[r]))return!1}return!0}function Ew(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Tw(e,t){var n=Ew(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ew(n)}}function Ck(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ck(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Lk(){for(var e=window,t=Bp();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Bp(e.document)}return t}function c0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function TR(e){var t=Lk(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ck(n.ownerDocument.documentElement,n)){if(i!==null&&c0(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!e.extend&&s>i&&(r=i,i=s,s=r),r=Tw(n,s);var o=Tw(n,i);r&&o&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),s>i?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var IR=ys&&"documentMode"in document&&11>=document.documentMode,pl=null,Ly=null,Tu=null,Ey=!1;function Iw(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ey||pl==null||pl!==Bp(i)||(i=pl,"selectionStart"in i&&c0(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Tu&&Ju(Tu,i)||(Tu=i,i=Up(Ly,"onSelect"),0<i.length&&(t=new o0("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=pl)))}function Lh(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var fl={animationend:Lh("Animation","AnimationEnd"),animationiteration:Lh("Animation","AnimationIteration"),animationstart:Lh("Animation","AnimationStart"),transitionend:Lh("Transition","TransitionEnd")},am={},Ek={};ys&&(Ek=document.createElement("div").style,"AnimationEvent"in window||(delete fl.animationend.animation,delete fl.animationiteration.animation,delete fl.animationstart.animation),"TransitionEvent"in window||delete fl.transitionend.transition);function Kf(e){if(am[e])return am[e];if(!fl[e])return e;var t=fl[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ek)return am[e]=t[n];return e}var Tk=Kf("animationend"),Ik=Kf("animationiteration"),Nk=Kf("animationstart"),Rk=Kf("transitionend"),Ak=new Map,Nw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Eo(e,t){Ak.set(e,t),Aa(t,[e])}for(var lm=0;lm<Nw.length;lm++){var cm=Nw[lm],NR=cm.toLowerCase(),RR=cm[0].toUpperCase()+cm.slice(1);Eo(NR,"on"+RR)}Eo(Tk,"onAnimationEnd");Eo(Ik,"onAnimationIteration");Eo(Nk,"onAnimationStart");Eo("dblclick","onDoubleClick");Eo("focusin","onFocus");Eo("focusout","onBlur");Eo(Rk,"onTransitionEnd");Yl("onMouseEnter",["mouseout","mouseover"]);Yl("onMouseLeave",["mouseout","mouseover"]);Yl("onPointerEnter",["pointerout","pointerover"]);Yl("onPointerLeave",["pointerout","pointerover"]);Aa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Aa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Aa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Aa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Aa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Aa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AR=new Set("cancel close invalid load scroll toggle".split(" ").concat(ou));function Rw(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,NN(i,t,void 0,e),e.currentTarget=null}function Pk(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var s=void 0;if(t)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;Rw(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;Rw(r,a,c),s=l}}}if(Yp)throw e=My,Yp=!1,My=null,e}function dt(e,t){var n=t[Ay];n===void 0&&(n=t[Ay]=new Set);var i=e+"__bubble";n.has(i)||(Ok(t,e,2,!1),n.add(i))}function um(e,t,n){var i=0;t&&(i|=4),Ok(n,e,i,t)}var Eh="_reactListening"+Math.random().toString(36).slice(2);function ed(e){if(!e[Eh]){e[Eh]=!0,jD.forEach(function(n){n!=="selectionchange"&&(AR.has(n)||um(n,!1,e),um(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Eh]||(t[Eh]=!0,um("selectionchange",!1,t))}}function Ok(e,t,n,i){switch(vk(t)){case 1:var r=KN;break;case 4:r=$N;break;default:r=r0}n=r.bind(null,t,n,e),r=void 0,!Sy||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),i?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function dm(e,t,n,i,r){var s=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=na(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}rk(function(){var c=s,u=e0(n),d=[];e:{var h=Ak.get(e);if(h!==void 0){var p=o0,f=e;switch(e){case"keypress":if(up(n)===0)break e;case"keydown":case"keyup":p=cR;break;case"focusin":f="focus",p=rm;break;case"focusout":f="blur",p=rm;break;case"beforeblur":case"afterblur":p=rm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=bw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=qN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=hR;break;case Tk:case Ik:case Nk:p=eR;break;case Rk:p=fR;break;case"scroll":p=XN;break;case"wheel":p=mR;break;case"copy":case"cut":case"paste":p=nR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Sw}var g=(t&4)!==0,v=!g&&e==="scroll",y=g?h!==null?h+"Capture":null:h;g=[];for(var m=c,x;m!==null;){x=m;var S=x.stateNode;if(x.tag===5&&S!==null&&(x=S,y!==null&&(S=$u(m,y),S!=null&&g.push(td(m,S,x)))),v)break;m=m.return}0<g.length&&(h=new p(h,f,null,n,u),d.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==by&&(f=n.relatedTarget||n.fromElement)&&(na(f)||f[vs]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(f=n.relatedTarget||n.toElement,p=c,f=f?na(f):null,f!==null&&(v=Pa(f),f!==v||f.tag!==5&&f.tag!==6)&&(f=null)):(p=null,f=c),p!==f)){if(g=bw,S="onMouseLeave",y="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(g=Sw,S="onPointerLeave",y="onPointerEnter",m="pointer"),v=p==null?h:gl(p),x=f==null?h:gl(f),h=new g(S,m+"leave",p,n,u),h.target=v,h.relatedTarget=x,S=null,na(u)===c&&(g=new g(y,m+"enter",f,n,u),g.target=x,g.relatedTarget=v,S=g),v=S,p&&f)t:{for(g=p,y=f,m=0,x=g;x;x=tl(x))m++;for(x=0,S=y;S;S=tl(S))x++;for(;0<m-x;)g=tl(g),m--;for(;0<x-m;)y=tl(y),x--;for(;m--;){if(g===y||y!==null&&g===y.alternate)break t;g=tl(g),y=tl(y)}g=null}else g=null;p!==null&&Aw(d,h,p,g,!1),f!==null&&v!==null&&Aw(d,v,f,g,!0)}}e:{if(h=c?gl(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var D=MR;else if(kw(h))if(Dk)D=LR;else{D=kR;var M=DR}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(D=CR);if(D&&(D=D(e,c))){Mk(d,D,n,u);break e}M&&M(e,h,c),e==="focusout"&&(M=h._wrapperState)&&M.controlled&&h.type==="number"&&gy(h,"number",h.value)}switch(M=c?gl(c):window,e){case"focusin":(kw(M)||M.contentEditable==="true")&&(pl=M,Ly=c,Tu=null);break;case"focusout":Tu=Ly=pl=null;break;case"mousedown":Ey=!0;break;case"contextmenu":case"mouseup":case"dragend":Ey=!1,Iw(d,n,u);break;case"selectionchange":if(IR)break;case"keydown":case"keyup":Iw(d,n,u)}var C;if(l0)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else hl?wk(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(bk&&n.locale!=="ko"&&(hl||k!=="onCompositionStart"?k==="onCompositionEnd"&&hl&&(C=xk()):(Vs=u,s0="value"in Vs?Vs.value:Vs.textContent,hl=!0)),M=Up(c,k),0<M.length&&(k=new ww(k,e,null,n,u),d.push({event:k,listeners:M}),C?k.data=C:(C=Sk(n),C!==null&&(k.data=C)))),(C=vR?xR(e,n):bR(e,n))&&(c=Up(c,"onBeforeInput"),0<c.length&&(u=new ww("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=C))}Pk(d,t)})}function td(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Up(e,t){for(var n=t+"Capture",i=[];e!==null;){var r=e,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=$u(e,n),s!=null&&i.unshift(td(e,s,r)),s=$u(e,t),s!=null&&i.push(td(e,s,r))),e=e.return}return i}function tl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Aw(e,t,n,i,r){for(var s=t._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=$u(n,s),l!=null&&o.unshift(td(n,l,a))):r||(l=$u(n,s),l!=null&&o.push(td(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var PR=/\r\n?/g,OR=/\u0000|\uFFFD/g;function Pw(e){return(typeof e=="string"?e:""+e).replace(PR,`
`).replace(OR,"")}function Th(e,t,n){if(t=Pw(t),Pw(e)!==t&&n)throw Error(K(425))}function Vp(){}var Ty=null,Iy=null;function Ny(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ry=typeof setTimeout=="function"?setTimeout:void 0,_R=typeof clearTimeout=="function"?clearTimeout:void 0,Ow=typeof Promise=="function"?Promise:void 0,FR=typeof queueMicrotask=="function"?queueMicrotask:typeof Ow<"u"?function(e){return Ow.resolve(null).then(e).catch(BR)}:Ry;function BR(e){setTimeout(function(){throw e})}function hm(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){e.removeChild(r),qu(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);qu(t)}function ro(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _w(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var lc=Math.random().toString(36).slice(2),Cr="__reactFiber$"+lc,nd="__reactProps$"+lc,vs="__reactContainer$"+lc,Ay="__reactEvents$"+lc,zR="__reactListeners$"+lc,YR="__reactHandles$"+lc;function na(e){var t=e[Cr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[vs]||n[Cr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=_w(e);e!==null;){if(n=e[Cr])return n;e=_w(e)}return t}e=n,n=e.parentNode}return null}function Gd(e){return e=e[Cr]||e[vs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function gl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(K(33))}function $f(e){return e[nd]||null}var Py=[],ml=-1;function To(e){return{current:e}}function ft(e){0>ml||(e.current=Py[ml],Py[ml]=null,ml--)}function lt(e,t){ml++,Py[ml]=e.current,e.current=t}var xo={},wn=To(xo),$n=To(!1),Sa=xo;function Gl(e,t){var n=e.type.contextTypes;if(!n)return xo;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=t[s];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function Xn(e){return e=e.childContextTypes,e!=null}function Kp(){ft($n),ft(wn)}function Fw(e,t,n){if(wn.current!==xo)throw Error(K(168));lt(wn,t),lt($n,n)}function _k(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in t))throw Error(K(108,DN(e)||"Unknown",r));return Dt({},n,i)}function $p(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xo,Sa=wn.current,lt(wn,e),lt($n,$n.current),!0}function Bw(e,t,n){var i=e.stateNode;if(!i)throw Error(K(169));n?(e=_k(e,t,Sa),i.__reactInternalMemoizedMergedChildContext=e,ft($n),ft(wn),lt(wn,e)):ft($n),lt($n,n)}var ts=null,Xf=!1,pm=!1;function Fk(e){ts===null?ts=[e]:ts.push(e)}function GR(e){Xf=!0,Fk(e)}function Io(){if(!pm&&ts!==null){pm=!0;var e=0,t=qe;try{var n=ts;for(qe=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}ts=null,Xf=!1}catch(r){throw ts!==null&&(ts=ts.slice(e+1)),lk(t0,Io),r}finally{qe=t,pm=!1}}return null}var yl=[],vl=0,Xp=null,Zp=0,Ci=[],Li=0,Ma=null,ss=1,os="";function Xo(e,t){yl[vl++]=Zp,yl[vl++]=Xp,Xp=e,Zp=t}function Bk(e,t,n){Ci[Li++]=ss,Ci[Li++]=os,Ci[Li++]=Ma,Ma=e;var i=ss;e=os;var r=32-ir(i)-1;i&=~(1<<r),n+=1;var s=32-ir(t)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,ss=1<<32-ir(t)+r|n<<r|i,os=s+e}else ss=1<<s|n<<r|i,os=e}function u0(e){e.return!==null&&(Xo(e,1),Bk(e,1,0))}function d0(e){for(;e===Xp;)Xp=yl[--vl],yl[vl]=null,Zp=yl[--vl],yl[vl]=null;for(;e===Ma;)Ma=Ci[--Li],Ci[Li]=null,os=Ci[--Li],Ci[Li]=null,ss=Ci[--Li],Ci[Li]=null}var ui=null,li=null,yt=!1,er=null;function zk(e,t){var n=Ti(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function zw(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ui=e,li=ro(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ui=e,li=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ma!==null?{id:ss,overflow:os}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ti(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ui=e,li=null,!0):!1;default:return!1}}function Oy(e){return(e.mode&1)!==0&&(e.flags&128)===0}function _y(e){if(yt){var t=li;if(t){var n=t;if(!zw(e,t)){if(Oy(e))throw Error(K(418));t=ro(n.nextSibling);var i=ui;t&&zw(e,t)?zk(i,n):(e.flags=e.flags&-4097|2,yt=!1,ui=e)}}else{if(Oy(e))throw Error(K(418));e.flags=e.flags&-4097|2,yt=!1,ui=e}}}function Yw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ui=e}function Ih(e){if(e!==ui)return!1;if(!yt)return Yw(e),yt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ny(e.type,e.memoizedProps)),t&&(t=li)){if(Oy(e))throw Yk(),Error(K(418));for(;t;)zk(e,t),t=ro(t.nextSibling)}if(Yw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(K(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){li=ro(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}li=null}}else li=ui?ro(e.stateNode.nextSibling):null;return!0}function Yk(){for(var e=li;e;)e=ro(e.nextSibling)}function jl(){li=ui=null,yt=!1}function h0(e){er===null?er=[e]:er.push(e)}var jR=Ds.ReactCurrentBatchConfig;function jc(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var i=n.stateNode}if(!i)throw Error(K(147,e));var r=i,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,e))}return e}function Nh(e,t){throw e=Object.prototype.toString.call(t),Error(K(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Gw(e){var t=e._init;return t(e._payload)}function Gk(e){function t(y,m){if(e){var x=y.deletions;x===null?(y.deletions=[m],y.flags|=16):x.push(m)}}function n(y,m){if(!e)return null;for(;m!==null;)t(y,m),m=m.sibling;return null}function i(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function r(y,m){return y=lo(y,m),y.index=0,y.sibling=null,y}function s(y,m,x){return y.index=x,e?(x=y.alternate,x!==null?(x=x.index,x<m?(y.flags|=2,m):x):(y.flags|=2,m)):(y.flags|=1048576,m)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,m,x,S){return m===null||m.tag!==6?(m=bm(x,y.mode,S),m.return=y,m):(m=r(m,x),m.return=y,m)}function l(y,m,x,S){var D=x.type;return D===dl?u(y,m,x.props.children,S,x.key):m!==null&&(m.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Gs&&Gw(D)===m.type)?(S=r(m,x.props),S.ref=jc(y,m,x),S.return=y,S):(S=yp(x.type,x.key,x.props,null,y.mode,S),S.ref=jc(y,m,x),S.return=y,S)}function c(y,m,x,S){return m===null||m.tag!==4||m.stateNode.containerInfo!==x.containerInfo||m.stateNode.implementation!==x.implementation?(m=wm(x,y.mode,S),m.return=y,m):(m=r(m,x.children||[]),m.return=y,m)}function u(y,m,x,S,D){return m===null||m.tag!==7?(m=pa(x,y.mode,S,D),m.return=y,m):(m=r(m,x),m.return=y,m)}function d(y,m,x){if(typeof m=="string"&&m!==""||typeof m=="number")return m=bm(""+m,y.mode,x),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case bh:return x=yp(m.type,m.key,m.props,null,y.mode,x),x.ref=jc(y,null,m),x.return=y,x;case ul:return m=wm(m,y.mode,x),m.return=y,m;case Gs:var S=m._init;return d(y,S(m._payload),x)}if(ru(m)||Fc(m))return m=pa(m,y.mode,x,null),m.return=y,m;Nh(y,m)}return null}function h(y,m,x,S){var D=m!==null?m.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return D!==null?null:a(y,m,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case bh:return x.key===D?l(y,m,x,S):null;case ul:return x.key===D?c(y,m,x,S):null;case Gs:return D=x._init,h(y,m,D(x._payload),S)}if(ru(x)||Fc(x))return D!==null?null:u(y,m,x,S,null);Nh(y,x)}return null}function p(y,m,x,S,D){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(x)||null,a(m,y,""+S,D);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case bh:return y=y.get(S.key===null?x:S.key)||null,l(m,y,S,D);case ul:return y=y.get(S.key===null?x:S.key)||null,c(m,y,S,D);case Gs:var M=S._init;return p(y,m,x,M(S._payload),D)}if(ru(S)||Fc(S))return y=y.get(x)||null,u(m,y,S,D,null);Nh(m,S)}return null}function f(y,m,x,S){for(var D=null,M=null,C=m,k=m=0,L=null;C!==null&&k<x.length;k++){C.index>k?(L=C,C=null):L=C.sibling;var T=h(y,C,x[k],S);if(T===null){C===null&&(C=L);break}e&&C&&T.alternate===null&&t(y,C),m=s(T,m,k),M===null?D=T:M.sibling=T,M=T,C=L}if(k===x.length)return n(y,C),yt&&Xo(y,k),D;if(C===null){for(;k<x.length;k++)C=d(y,x[k],S),C!==null&&(m=s(C,m,k),M===null?D=C:M.sibling=C,M=C);return yt&&Xo(y,k),D}for(C=i(y,C);k<x.length;k++)L=p(C,y,k,x[k],S),L!==null&&(e&&L.alternate!==null&&C.delete(L.key===null?k:L.key),m=s(L,m,k),M===null?D=L:M.sibling=L,M=L);return e&&C.forEach(function(O){return t(y,O)}),yt&&Xo(y,k),D}function g(y,m,x,S){var D=Fc(x);if(typeof D!="function")throw Error(K(150));if(x=D.call(x),x==null)throw Error(K(151));for(var M=D=null,C=m,k=m=0,L=null,T=x.next();C!==null&&!T.done;k++,T=x.next()){C.index>k?(L=C,C=null):L=C.sibling;var O=h(y,C,T.value,S);if(O===null){C===null&&(C=L);break}e&&C&&O.alternate===null&&t(y,C),m=s(O,m,k),M===null?D=O:M.sibling=O,M=O,C=L}if(T.done)return n(y,C),yt&&Xo(y,k),D;if(C===null){for(;!T.done;k++,T=x.next())T=d(y,T.value,S),T!==null&&(m=s(T,m,k),M===null?D=T:M.sibling=T,M=T);return yt&&Xo(y,k),D}for(C=i(y,C);!T.done;k++,T=x.next())T=p(C,y,k,T.value,S),T!==null&&(e&&T.alternate!==null&&C.delete(T.key===null?k:T.key),m=s(T,m,k),M===null?D=T:M.sibling=T,M=T);return e&&C.forEach(function(Y){return t(y,Y)}),yt&&Xo(y,k),D}function v(y,m,x,S){if(typeof x=="object"&&x!==null&&x.type===dl&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case bh:e:{for(var D=x.key,M=m;M!==null;){if(M.key===D){if(D=x.type,D===dl){if(M.tag===7){n(y,M.sibling),m=r(M,x.props.children),m.return=y,y=m;break e}}else if(M.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Gs&&Gw(D)===M.type){n(y,M.sibling),m=r(M,x.props),m.ref=jc(y,M,x),m.return=y,y=m;break e}n(y,M);break}else t(y,M);M=M.sibling}x.type===dl?(m=pa(x.props.children,y.mode,S,x.key),m.return=y,y=m):(S=yp(x.type,x.key,x.props,null,y.mode,S),S.ref=jc(y,m,x),S.return=y,y=S)}return o(y);case ul:e:{for(M=x.key;m!==null;){if(m.key===M)if(m.tag===4&&m.stateNode.containerInfo===x.containerInfo&&m.stateNode.implementation===x.implementation){n(y,m.sibling),m=r(m,x.children||[]),m.return=y,y=m;break e}else{n(y,m);break}else t(y,m);m=m.sibling}m=wm(x,y.mode,S),m.return=y,y=m}return o(y);case Gs:return M=x._init,v(y,m,M(x._payload),S)}if(ru(x))return f(y,m,x,S);if(Fc(x))return g(y,m,x,S);Nh(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,m!==null&&m.tag===6?(n(y,m.sibling),m=r(m,x),m.return=y,y=m):(n(y,m),m=bm(x,y.mode,S),m.return=y,y=m),o(y)):n(y,m)}return v}var Wl=Gk(!0),jk=Gk(!1),qp=To(null),Qp=null,xl=null,p0=null;function f0(){p0=xl=Qp=null}function g0(e){var t=qp.current;ft(qp),e._currentValue=t}function Fy(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Tl(e,t){Qp=e,p0=xl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Vn=!0),e.firstContext=null)}function Fi(e){var t=e._currentValue;if(p0!==e)if(e={context:e,memoizedValue:t,next:null},xl===null){if(Qp===null)throw Error(K(308));xl=e,Qp.dependencies={lanes:0,firstContext:e}}else xl=xl.next=e;return t}var ia=null;function m0(e){ia===null?ia=[e]:ia.push(e)}function Wk(e,t,n,i){var r=t.interleaved;return r===null?(n.next=n,m0(t)):(n.next=r.next,r.next=n),t.interleaved=n,xs(e,i)}function xs(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var js=!1;function y0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hk(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function us(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function so(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,Be&2){var r=i.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),i.pending=t,xs(e,n)}return r=i.interleaved,r===null?(t.next=t,m0(i)):(t.next=r.next,r.next=t),i.interleaved=t,xs(e,n)}function dp(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,n0(e,n)}}function jw(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=t:s=s.next=t}else r=s=t;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Jp(e,t,n,i){var r=e.updateQueue;js=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=r.baseState;o=0,u=c=l=null,a=s;do{var h=a.lane,p=a.eventTime;if((i&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=e,g=a;switch(h=t,p=n,g.tag){case 1:if(f=g.payload,typeof f=="function"){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=f.flags&-65537|128;case 0:if(f=g.payload,h=typeof f=="function"?f.call(p,d,h):f,h==null)break e;d=Dt({},d,h);break e;case 2:js=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=r.effects,h===null?r.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=h;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;h=a,a=h.next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}while(!0);if(u===null&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,t=r.shared.interleaved,t!==null){r=t;do o|=r.lane,r=r.next;while(r!==t)}else s===null&&(r.shared.lanes=0);ka|=o,e.lanes=o,e.memoizedState=d}}function Ww(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(K(191,r));r.call(i)}}}var jd={},Pr=To(jd),id=To(jd),rd=To(jd);function ra(e){if(e===jd)throw Error(K(174));return e}function v0(e,t){switch(lt(rd,t),lt(id,e),lt(Pr,jd),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:yy(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=yy(t,e)}ft(Pr),lt(Pr,t)}function Hl(){ft(Pr),ft(id),ft(rd)}function Uk(e){ra(rd.current);var t=ra(Pr.current),n=yy(t,e.type);t!==n&&(lt(id,e),lt(Pr,n))}function x0(e){id.current===e&&(ft(Pr),ft(id))}var wt=To(0);function ef(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fm=[];function b0(){for(var e=0;e<fm.length;e++)fm[e]._workInProgressVersionPrimary=null;fm.length=0}var hp=Ds.ReactCurrentDispatcher,gm=Ds.ReactCurrentBatchConfig,Da=0,Mt=null,Wt=null,qt=null,tf=!1,Iu=!1,sd=0,WR=0;function vn(){throw Error(K(321))}function w0(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function S0(e,t,n,i,r,s){if(Da=s,Mt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,hp.current=e===null||e.memoizedState===null?KR:$R,e=n(i,r),Iu){s=0;do{if(Iu=!1,sd=0,25<=s)throw Error(K(301));s+=1,qt=Wt=null,t.updateQueue=null,hp.current=XR,e=n(i,r)}while(Iu)}if(hp.current=nf,t=Wt!==null&&Wt.next!==null,Da=0,qt=Wt=Mt=null,tf=!1,t)throw Error(K(300));return e}function M0(){var e=sd!==0;return sd=0,e}function Sr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?Mt.memoizedState=qt=e:qt=qt.next=e,qt}function Bi(){if(Wt===null){var e=Mt.alternate;e=e!==null?e.memoizedState:null}else e=Wt.next;var t=qt===null?Mt.memoizedState:qt.next;if(t!==null)qt=t,Wt=e;else{if(e===null)throw Error(K(310));Wt=e,e={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},qt===null?Mt.memoizedState=qt=e:qt=qt.next=e}return qt}function od(e,t){return typeof t=="function"?t(e):t}function mm(e){var t=Bi(),n=t.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=e;var i=Wt,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Da&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:e(i,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=i):l=l.next=d,Mt.lanes|=u,ka|=u}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,sr(i,t.memoizedState)||(Vn=!0),t.memoizedState=i,t.baseState=o,t.baseQueue=l,n.lastRenderedState=i}if(e=n.interleaved,e!==null){r=e;do s=r.lane,Mt.lanes|=s,ka|=s,r=r.next;while(r!==e)}else r===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ym(e){var t=Bi(),n=t.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,s=t.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=e(s,o.action),o=o.next;while(o!==r);sr(s,t.memoizedState)||(Vn=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function Vk(){}function Kk(e,t){var n=Mt,i=Bi(),r=t(),s=!sr(i.memoizedState,r);if(s&&(i.memoizedState=r,Vn=!0),i=i.queue,D0(Zk.bind(null,n,i,e),[e]),i.getSnapshot!==t||s||qt!==null&&qt.memoizedState.tag&1){if(n.flags|=2048,ad(9,Xk.bind(null,n,i,r,t),void 0,null),en===null)throw Error(K(349));Da&30||$k(n,t,r)}return r}function $k(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Mt.updateQueue,t===null?(t={lastEffect:null,stores:null},Mt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Xk(e,t,n,i){t.value=n,t.getSnapshot=i,qk(t)&&Qk(e)}function Zk(e,t,n){return n(function(){qk(t)&&Qk(e)})}function qk(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch{return!0}}function Qk(e){var t=xs(e,1);t!==null&&rr(t,e,1,-1)}function Hw(e){var t=Sr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:od,lastRenderedState:e},t.queue=e,e=e.dispatch=VR.bind(null,Mt,e),[t.memoizedState,e]}function ad(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=Mt.updateQueue,t===null?(t={lastEffect:null,stores:null},Mt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function Jk(){return Bi().memoizedState}function pp(e,t,n,i){var r=Sr();Mt.flags|=e,r.memoizedState=ad(1|t,n,void 0,i===void 0?null:i)}function Zf(e,t,n,i){var r=Bi();i=i===void 0?null:i;var s=void 0;if(Wt!==null){var o=Wt.memoizedState;if(s=o.destroy,i!==null&&w0(i,o.deps)){r.memoizedState=ad(t,n,s,i);return}}Mt.flags|=e,r.memoizedState=ad(1|t,n,s,i)}function Uw(e,t){return pp(8390656,8,e,t)}function D0(e,t){return Zf(2048,8,e,t)}function e1(e,t){return Zf(4,2,e,t)}function t1(e,t){return Zf(4,4,e,t)}function n1(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function i1(e,t,n){return n=n!=null?n.concat([e]):null,Zf(4,4,n1.bind(null,t,e),n)}function k0(){}function r1(e,t){var n=Bi();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&w0(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function s1(e,t){var n=Bi();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&w0(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function o1(e,t,n){return Da&21?(sr(n,t)||(n=dk(),Mt.lanes|=n,ka|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Vn=!0),e.memoizedState=n)}function HR(e,t){var n=qe;qe=n!==0&&4>n?n:4,e(!0);var i=gm.transition;gm.transition={};try{e(!1),t()}finally{qe=n,gm.transition=i}}function a1(){return Bi().memoizedState}function UR(e,t,n){var i=ao(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},l1(e))c1(t,n);else if(n=Wk(e,t,n,i),n!==null){var r=Rn();rr(n,e,i,r),u1(n,t,i)}}function VR(e,t,n){var i=ao(e),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(l1(e))c1(t,r);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,sr(a,o)){var l=t.interleaved;l===null?(r.next=r,m0(t)):(r.next=l.next,l.next=r),t.interleaved=r;return}}catch{}finally{}n=Wk(e,t,r,i),n!==null&&(r=Rn(),rr(n,e,i,r),u1(n,t,i))}}function l1(e){var t=e.alternate;return e===Mt||t!==null&&t===Mt}function c1(e,t){Iu=tf=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function u1(e,t,n){if(n&4194240){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,n0(e,n)}}var nf={readContext:Fi,useCallback:vn,useContext:vn,useEffect:vn,useImperativeHandle:vn,useInsertionEffect:vn,useLayoutEffect:vn,useMemo:vn,useReducer:vn,useRef:vn,useState:vn,useDebugValue:vn,useDeferredValue:vn,useTransition:vn,useMutableSource:vn,useSyncExternalStore:vn,useId:vn,unstable_isNewReconciler:!1},KR={readContext:Fi,useCallback:function(e,t){return Sr().memoizedState=[e,t===void 0?null:t],e},useContext:Fi,useEffect:Uw,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,pp(4194308,4,n1.bind(null,t,e),n)},useLayoutEffect:function(e,t){return pp(4194308,4,e,t)},useInsertionEffect:function(e,t){return pp(4,2,e,t)},useMemo:function(e,t){var n=Sr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Sr();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=UR.bind(null,Mt,e),[i.memoizedState,e]},useRef:function(e){var t=Sr();return e={current:e},t.memoizedState=e},useState:Hw,useDebugValue:k0,useDeferredValue:function(e){return Sr().memoizedState=e},useTransition:function(){var e=Hw(!1),t=e[0];return e=HR.bind(null,e[1]),Sr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=Mt,r=Sr();if(yt){if(n===void 0)throw Error(K(407));n=n()}else{if(n=t(),en===null)throw Error(K(349));Da&30||$k(i,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,Uw(Zk.bind(null,i,s,e),[e]),i.flags|=2048,ad(9,Xk.bind(null,i,s,n,t),void 0,null),n},useId:function(){var e=Sr(),t=en.identifierPrefix;if(yt){var n=os,i=ss;n=(i&~(1<<32-ir(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=sd++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=WR++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$R={readContext:Fi,useCallback:r1,useContext:Fi,useEffect:D0,useImperativeHandle:i1,useInsertionEffect:e1,useLayoutEffect:t1,useMemo:s1,useReducer:mm,useRef:Jk,useState:function(){return mm(od)},useDebugValue:k0,useDeferredValue:function(e){var t=Bi();return o1(t,Wt.memoizedState,e)},useTransition:function(){var e=mm(od)[0],t=Bi().memoizedState;return[e,t]},useMutableSource:Vk,useSyncExternalStore:Kk,useId:a1,unstable_isNewReconciler:!1},XR={readContext:Fi,useCallback:r1,useContext:Fi,useEffect:D0,useImperativeHandle:i1,useInsertionEffect:e1,useLayoutEffect:t1,useMemo:s1,useReducer:ym,useRef:Jk,useState:function(){return ym(od)},useDebugValue:k0,useDeferredValue:function(e){var t=Bi();return Wt===null?t.memoizedState=e:o1(t,Wt.memoizedState,e)},useTransition:function(){var e=ym(od)[0],t=Bi().memoizedState;return[e,t]},useMutableSource:Vk,useSyncExternalStore:Kk,useId:a1,unstable_isNewReconciler:!1};function qi(e,t){if(e&&e.defaultProps){t=Dt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function By(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Dt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var qf={isMounted:function(e){return(e=e._reactInternals)?Pa(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Rn(),r=ao(e),s=us(i,r);s.payload=t,n!=null&&(s.callback=n),t=so(e,s,r),t!==null&&(rr(t,e,r,i),dp(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Rn(),r=ao(e),s=us(i,r);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=so(e,s,r),t!==null&&(rr(t,e,r,i),dp(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Rn(),i=ao(e),r=us(n,i);r.tag=2,t!=null&&(r.callback=t),t=so(e,r,i),t!==null&&(rr(t,e,i,n),dp(t,e,i))}};function Vw(e,t,n,i,r,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,s,o):t.prototype&&t.prototype.isPureReactComponent?!Ju(n,i)||!Ju(r,s):!0}function d1(e,t,n){var i=!1,r=xo,s=t.contextType;return typeof s=="object"&&s!==null?s=Fi(s):(r=Xn(t)?Sa:wn.current,i=t.contextTypes,s=(i=i!=null)?Gl(e,r):xo),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=qf,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=s),t}function Kw(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&qf.enqueueReplaceState(t,t.state,null)}function zy(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},y0(e);var s=t.contextType;typeof s=="object"&&s!==null?r.context=Fi(s):(s=Xn(t)?Sa:wn.current,r.context=Gl(e,s)),r.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(By(e,t,s,n),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&qf.enqueueReplaceState(r,r.state,null),Jp(e,n,r,i),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function Ul(e,t){try{var n="",i=t;do n+=MN(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:r,digest:null}}function vm(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Yy(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ZR=typeof WeakMap=="function"?WeakMap:Map;function h1(e,t,n){n=us(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){sf||(sf=!0,Zy=i),Yy(e,t)},n}function p1(e,t,n){n=us(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var r=t.value;n.payload=function(){return i(r)},n.callback=function(){Yy(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Yy(e,t),typeof i!="function"&&(oo===null?oo=new Set([this]):oo.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function $w(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new ZR;var r=new Set;i.set(t,r)}else r=i.get(t),r===void 0&&(r=new Set,i.set(t,r));r.has(n)||(r.add(n),e=uA.bind(null,e,t,n),t.then(e,e))}function Xw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Zw(e,t,n,i,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=us(-1,1),t.tag=2,so(n,t,1))),n.lanes|=1),e)}var qR=Ds.ReactCurrentOwner,Vn=!1;function Ln(e,t,n,i){t.child=e===null?jk(t,null,n,i):Wl(t,e.child,n,i)}function qw(e,t,n,i,r){n=n.render;var s=t.ref;return Tl(t,r),i=S0(e,t,n,i,s,r),n=M0(),e!==null&&!Vn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,bs(e,t,r)):(yt&&n&&u0(t),t.flags|=1,Ln(e,t,i,r),t.child)}function Qw(e,t,n,i,r){if(e===null){var s=n.type;return typeof s=="function"&&!A0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,f1(e,t,s,i,r)):(e=yp(n.type,null,i,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ju,n(o,i)&&e.ref===t.ref)return bs(e,t,r)}return t.flags|=1,e=lo(s,i),e.ref=t.ref,e.return=t,t.child=e}function f1(e,t,n,i,r){if(e!==null){var s=e.memoizedProps;if(Ju(s,i)&&e.ref===t.ref)if(Vn=!1,t.pendingProps=i=s,(e.lanes&r)!==0)e.flags&131072&&(Vn=!0);else return t.lanes=e.lanes,bs(e,t,r)}return Gy(e,t,n,i,r)}function g1(e,t,n){var i=t.pendingProps,r=i.children,s=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt(wl,si),si|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,lt(wl,si),si|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,lt(wl,si),si|=i}else s!==null?(i=s.baseLanes|n,t.memoizedState=null):i=n,lt(wl,si),si|=i;return Ln(e,t,r,n),t.child}function m1(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Gy(e,t,n,i,r){var s=Xn(n)?Sa:wn.current;return s=Gl(t,s),Tl(t,r),n=S0(e,t,n,i,s,r),i=M0(),e!==null&&!Vn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,bs(e,t,r)):(yt&&i&&u0(t),t.flags|=1,Ln(e,t,n,r),t.child)}function Jw(e,t,n,i,r){if(Xn(n)){var s=!0;$p(t)}else s=!1;if(Tl(t,r),t.stateNode===null)fp(e,t),d1(t,n,i),zy(t,n,i,r),i=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Fi(c):(c=Xn(n)?Sa:wn.current,c=Gl(t,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&Kw(t,o,i,c),js=!1;var h=t.memoizedState;o.state=h,Jp(t,i,o,r),l=t.memoizedState,a!==i||h!==l||$n.current||js?(typeof u=="function"&&(By(t,n,u,i),l=t.memoizedState),(a=js||Vw(t,n,a,i,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,Hk(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:qi(t.type,a),o.props=c,d=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Fi(l):(l=Xn(n)?Sa:wn.current,l=Gl(t,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&Kw(t,o,i,l),js=!1,h=t.memoizedState,o.state=h,Jp(t,i,o,r);var f=t.memoizedState;a!==d||h!==f||$n.current||js?(typeof p=="function"&&(By(t,n,p,i),f=t.memoizedState),(c=js||Vw(t,n,c,i,h,f,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,f,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,f,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=f),o.props=i,o.state=f,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),i=!1)}return jy(e,t,n,i,s,r)}function jy(e,t,n,i,r,s){m1(e,t);var o=(t.flags&128)!==0;if(!i&&!o)return r&&Bw(t,n,!1),bs(e,t,s);i=t.stateNode,qR.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&o?(t.child=Wl(t,e.child,null,s),t.child=Wl(t,null,a,s)):Ln(e,t,a,s),t.memoizedState=i.state,r&&Bw(t,n,!0),t.child}function y1(e){var t=e.stateNode;t.pendingContext?Fw(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Fw(e,t.context,!1),v0(e,t.containerInfo)}function eS(e,t,n,i,r){return jl(),h0(r),t.flags|=256,Ln(e,t,n,i),t.child}var Wy={dehydrated:null,treeContext:null,retryLane:0};function Hy(e){return{baseLanes:e,cachePool:null,transitions:null}}function v1(e,t,n){var i=t.pendingProps,r=wt.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(r&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),lt(wt,r&1),e===null)return _y(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=i.children,e=i.fallback,s?(i=t.mode,s=t.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=eg(o,i,0,null),e=pa(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Hy(n),t.memoizedState=Wy,e):C0(t,o));if(r=e.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return QR(e,t,o,i,a,r,n);if(s){s=i.fallback,o=t.mode,r=e.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&t.child!==r?(i=t.child,i.childLanes=0,i.pendingProps=l,t.deletions=null):(i=lo(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=lo(a,s):(s=pa(s,o,n,null),s.flags|=2),s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,o=e.child.memoizedState,o=o===null?Hy(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Wy,i}return s=e.child,e=s.sibling,i=lo(s,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function C0(e,t){return t=eg({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Rh(e,t,n,i){return i!==null&&h0(i),Wl(t,e.child,null,n),e=C0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function QR(e,t,n,i,r,s,o){if(n)return t.flags&256?(t.flags&=-257,i=vm(Error(K(422))),Rh(e,t,o,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=i.fallback,r=t.mode,i=eg({mode:"visible",children:i.children},r,0,null),s=pa(s,r,o,null),s.flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,t.mode&1&&Wl(t,e.child,null,o),t.child.memoizedState=Hy(o),t.memoizedState=Wy,s);if(!(t.mode&1))return Rh(e,t,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(K(419)),i=vm(s,i,void 0),Rh(e,t,o,i)}if(a=(o&e.childLanes)!==0,Vn||a){if(i=en,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,xs(e,r),rr(i,e,r,-1))}return R0(),i=vm(Error(K(421))),Rh(e,t,o,i)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=dA.bind(null,e),r._reactRetry=t,null):(e=s.treeContext,li=ro(r.nextSibling),ui=t,yt=!0,er=null,e!==null&&(Ci[Li++]=ss,Ci[Li++]=os,Ci[Li++]=Ma,ss=e.id,os=e.overflow,Ma=t),t=C0(t,i.children),t.flags|=4096,t)}function tS(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Fy(e.return,t,n)}function xm(e,t,n,i,r){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function x1(e,t,n){var i=t.pendingProps,r=i.revealOrder,s=i.tail;if(Ln(e,t,i.children,n),i=wt.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&tS(e,n,t);else if(e.tag===19)tS(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(lt(wt,i),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&ef(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),xm(t,!1,r,n,s);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&ef(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}xm(t,!0,n,null,s);break;case"together":xm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function fp(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function bs(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ka|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(K(153));if(t.child!==null){for(e=t.child,n=lo(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=lo(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function JR(e,t,n){switch(t.tag){case 3:y1(t),jl();break;case 5:Uk(t);break;case 1:Xn(t.type)&&$p(t);break;case 4:v0(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,r=t.memoizedProps.value;lt(qp,i._currentValue),i._currentValue=r;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(lt(wt,wt.current&1),t.flags|=128,null):n&t.child.childLanes?v1(e,t,n):(lt(wt,wt.current&1),e=bs(e,t,n),e!==null?e.sibling:null);lt(wt,wt.current&1);break;case 19:if(i=(n&t.childLanes)!==0,e.flags&128){if(i)return x1(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),lt(wt,wt.current),i)break;return null;case 22:case 23:return t.lanes=0,g1(e,t,n)}return bs(e,t,n)}var b1,Uy,w1,S1;b1=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Uy=function(){};w1=function(e,t,n,i){var r=e.memoizedProps;if(r!==i){e=t.stateNode,ra(Pr.current);var s=null;switch(n){case"input":r=py(e,r),i=py(e,i),s=[];break;case"select":r=Dt({},r,{value:void 0}),i=Dt({},i,{value:void 0}),s=[];break;case"textarea":r=my(e,r),i=my(e,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=Vp)}vy(n,i);var o;n=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Vu.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Vu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&dt("scroll",e),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};S1=function(e,t,n,i){n!==i&&(t.flags|=4)};function Wc(e,t){if(!yt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function xn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function eA(e,t,n){var i=t.pendingProps;switch(d0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xn(t),null;case 1:return Xn(t.type)&&Kp(),xn(t),null;case 3:return i=t.stateNode,Hl(),ft($n),ft(wn),b0(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Ih(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,er!==null&&(Jy(er),er=null))),Uy(e,t),xn(t),null;case 5:x0(t);var r=ra(rd.current);if(n=t.type,e!==null&&t.stateNode!=null)w1(e,t,n,i,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(K(166));return xn(t),null}if(e=ra(Pr.current),Ih(t)){i=t.stateNode,n=t.type;var s=t.memoizedProps;switch(i[Cr]=t,i[nd]=s,e=(t.mode&1)!==0,n){case"dialog":dt("cancel",i),dt("close",i);break;case"iframe":case"object":case"embed":dt("load",i);break;case"video":case"audio":for(r=0;r<ou.length;r++)dt(ou[r],i);break;case"source":dt("error",i);break;case"img":case"image":case"link":dt("error",i),dt("load",i);break;case"details":dt("toggle",i);break;case"input":uw(i,s),dt("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},dt("invalid",i);break;case"textarea":hw(i,s),dt("invalid",i)}vy(n,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&Th(i.textContent,a,e),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Th(i.textContent,a,e),r=["children",""+a]):Vu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&dt("scroll",i)}switch(n){case"input":wh(i),dw(i,s,!0);break;case"textarea":wh(i),pw(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Vp)}i=r,t.updateQueue=i,i!==null&&(t.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ZD(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=o.createElement(n,{is:i.is}):(e=o.createElement(n),n==="select"&&(o=e,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):e=o.createElementNS(e,n),e[Cr]=t,e[nd]=i,b1(e,t,!1,!1),t.stateNode=e;e:{switch(o=xy(n,i),n){case"dialog":dt("cancel",e),dt("close",e),r=i;break;case"iframe":case"object":case"embed":dt("load",e),r=i;break;case"video":case"audio":for(r=0;r<ou.length;r++)dt(ou[r],e);r=i;break;case"source":dt("error",e),r=i;break;case"img":case"image":case"link":dt("error",e),dt("load",e),r=i;break;case"details":dt("toggle",e),r=i;break;case"input":uw(e,i),r=py(e,i),dt("invalid",e);break;case"option":r=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},r=Dt({},i,{value:void 0}),dt("invalid",e);break;case"textarea":hw(e,i),r=my(e,i),dt("invalid",e);break;default:r=i}vy(n,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?JD(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&qD(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ku(e,l):typeof l=="number"&&Ku(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Vu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&dt("scroll",e):l!=null&&Zv(e,s,l,o))}switch(n){case"input":wh(e),dw(e,i,!1);break;case"textarea":wh(e),pw(e);break;case"option":i.value!=null&&e.setAttribute("value",""+vo(i.value));break;case"select":e.multiple=!!i.multiple,s=i.value,s!=null?kl(e,!!i.multiple,s,!1):i.defaultValue!=null&&kl(e,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=Vp)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return xn(t),null;case 6:if(e&&t.stateNode!=null)S1(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(K(166));if(n=ra(rd.current),ra(Pr.current),Ih(t)){if(i=t.stateNode,n=t.memoizedProps,i[Cr]=t,(s=i.nodeValue!==n)&&(e=ui,e!==null))switch(e.tag){case 3:Th(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Th(i.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Cr]=t,t.stateNode=i}return xn(t),null;case 13:if(ft(wt),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(yt&&li!==null&&t.mode&1&&!(t.flags&128))Yk(),jl(),t.flags|=98560,s=!1;else if(s=Ih(t),i!==null&&i.dehydrated!==null){if(e===null){if(!s)throw Error(K(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(K(317));s[Cr]=t}else jl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;xn(t),s=!1}else er!==null&&(Jy(er),er=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||wt.current&1?Ut===0&&(Ut=3):R0())),t.updateQueue!==null&&(t.flags|=4),xn(t),null);case 4:return Hl(),Uy(e,t),e===null&&ed(t.stateNode.containerInfo),xn(t),null;case 10:return g0(t.type._context),xn(t),null;case 17:return Xn(t.type)&&Kp(),xn(t),null;case 19:if(ft(wt),s=t.memoizedState,s===null)return xn(t),null;if(i=(t.flags&128)!==0,o=s.rendering,o===null)if(i)Wc(s,!1);else{if(Ut!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ef(e),o!==null){for(t.flags|=128,Wc(s,!1),i=o.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)s=n,e=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return lt(wt,wt.current&1|2),t.child}e=e.sibling}s.tail!==null&&Rt()>Vl&&(t.flags|=128,i=!0,Wc(s,!1),t.lanes=4194304)}else{if(!i)if(e=ef(o),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Wc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!yt)return xn(t),null}else 2*Rt()-s.renderingStartTime>Vl&&n!==1073741824&&(t.flags|=128,i=!0,Wc(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Rt(),t.sibling=null,n=wt.current,lt(wt,i?n&1|2:n&1),t):(xn(t),null);case 22:case 23:return N0(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?si&1073741824&&(xn(t),t.subtreeFlags&6&&(t.flags|=8192)):xn(t),null;case 24:return null;case 25:return null}throw Error(K(156,t.tag))}function tA(e,t){switch(d0(t),t.tag){case 1:return Xn(t.type)&&Kp(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Hl(),ft($n),ft(wn),b0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return x0(t),null;case 13:if(ft(wt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(K(340));jl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ft(wt),null;case 4:return Hl(),null;case 10:return g0(t.type._context),null;case 22:case 23:return N0(),null;case 24:return null;default:return null}}var Ah=!1,bn=!1,nA=typeof WeakSet=="function"?WeakSet:Set,ae=null;function bl(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Ct(e,t,i)}else n.current=null}function Vy(e,t,n){try{n()}catch(i){Ct(e,t,i)}}var nS=!1;function iA(e,t){if(Ty=Wp,e=Lk(),c0(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=e,h=null;t:for(;;){for(var p;d!==n||r!==0&&d.nodeType!==3||(a=o+r),d!==s||i!==0&&d.nodeType!==3||(l=o+i),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++c===r&&(a=o),h===s&&++u===i&&(l=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Iy={focusedElem:e,selectionRange:n},Wp=!1,ae=t;ae!==null;)if(t=ae,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ae=e;else for(;ae!==null;){t=ae;try{var f=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(f!==null){var g=f.memoizedProps,v=f.memoizedState,y=t.stateNode,m=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:qi(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(S){Ct(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,ae=e;break}ae=t.return}return f=nS,nS=!1,f}function Nu(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&e)===e){var s=r.destroy;r.destroy=void 0,s!==void 0&&Vy(t,n,s)}r=r.next}while(r!==i)}}function Qf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function Ky(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function M1(e){var t=e.alternate;t!==null&&(e.alternate=null,M1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Cr],delete t[nd],delete t[Ay],delete t[zR],delete t[YR])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function D1(e){return e.tag===5||e.tag===3||e.tag===4}function iS(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||D1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $y(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Vp));else if(i!==4&&(e=e.child,e!==null))for($y(e,t,n),e=e.sibling;e!==null;)$y(e,t,n),e=e.sibling}function Xy(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(Xy(e,t,n),e=e.sibling;e!==null;)Xy(e,t,n),e=e.sibling}var ln=null,Qi=!1;function Os(e,t,n){for(n=n.child;n!==null;)k1(e,t,n),n=n.sibling}function k1(e,t,n){if(Ar&&typeof Ar.onCommitFiberUnmount=="function")try{Ar.onCommitFiberUnmount(Hf,n)}catch{}switch(n.tag){case 5:bn||bl(n,t);case 6:var i=ln,r=Qi;ln=null,Os(e,t,n),ln=i,Qi=r,ln!==null&&(Qi?(e=ln,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ln.removeChild(n.stateNode));break;case 18:ln!==null&&(Qi?(e=ln,n=n.stateNode,e.nodeType===8?hm(e.parentNode,n):e.nodeType===1&&hm(e,n),qu(e)):hm(ln,n.stateNode));break;case 4:i=ln,r=Qi,ln=n.stateNode.containerInfo,Qi=!0,Os(e,t,n),ln=i,Qi=r;break;case 0:case 11:case 14:case 15:if(!bn&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Vy(n,t,o),r=r.next}while(r!==i)}Os(e,t,n);break;case 1:if(!bn&&(bl(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Ct(n,t,a)}Os(e,t,n);break;case 21:Os(e,t,n);break;case 22:n.mode&1?(bn=(i=bn)||n.memoizedState!==null,Os(e,t,n),bn=i):Os(e,t,n);break;default:Os(e,t,n)}}function rS(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new nA),t.forEach(function(i){var r=hA.bind(null,e,i);n.has(i)||(n.add(i),i.then(r,r))})}}function Ki(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:ln=a.stateNode,Qi=!1;break e;case 3:ln=a.stateNode.containerInfo,Qi=!0;break e;case 4:ln=a.stateNode.containerInfo,Qi=!0;break e}a=a.return}if(ln===null)throw Error(K(160));k1(s,o,r),ln=null,Qi=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){Ct(r,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)C1(t,e),t=t.sibling}function C1(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ki(t,e),pr(e),i&4){try{Nu(3,e,e.return),Qf(3,e)}catch(g){Ct(e,e.return,g)}try{Nu(5,e,e.return)}catch(g){Ct(e,e.return,g)}}break;case 1:Ki(t,e),pr(e),i&512&&n!==null&&bl(n,n.return);break;case 5:if(Ki(t,e),pr(e),i&512&&n!==null&&bl(n,n.return),e.flags&32){var r=e.stateNode;try{Ku(r,"")}catch(g){Ct(e,e.return,g)}}if(i&4&&(r=e.stateNode,r!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&$D(r,s),xy(a,o);var c=xy(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?JD(r,d):u==="dangerouslySetInnerHTML"?qD(r,d):u==="children"?Ku(r,d):Zv(r,u,d,c)}switch(a){case"input":fy(r,s);break;case"textarea":XD(r,s);break;case"select":var h=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?kl(r,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?kl(r,!!s.multiple,s.defaultValue,!0):kl(r,!!s.multiple,s.multiple?[]:"",!1))}r[nd]=s}catch(g){Ct(e,e.return,g)}}break;case 6:if(Ki(t,e),pr(e),i&4){if(e.stateNode===null)throw Error(K(162));r=e.stateNode,s=e.memoizedProps;try{r.nodeValue=s}catch(g){Ct(e,e.return,g)}}break;case 3:if(Ki(t,e),pr(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{qu(t.containerInfo)}catch(g){Ct(e,e.return,g)}break;case 4:Ki(t,e),pr(e);break;case 13:Ki(t,e),pr(e),r=e.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(T0=Rt())),i&4&&rS(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(bn=(c=bn)||u,Ki(t,e),bn=c):Ki(t,e),pr(e),i&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(ae=e,u=e.child;u!==null;){for(d=ae=u;ae!==null;){switch(h=ae,p=h.child,h.tag){case 0:case 11:case 14:case 15:Nu(4,h,h.return);break;case 1:bl(h,h.return);var f=h.stateNode;if(typeof f.componentWillUnmount=="function"){i=h,n=h.return;try{t=i,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(g){Ct(i,n,g)}}break;case 5:bl(h,h.return);break;case 22:if(h.memoizedState!==null){oS(d);continue}}p!==null?(p.return=h,ae=p):oS(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{r=d.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=QD("display",o))}catch(g){Ct(e,e.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){Ct(e,e.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ki(t,e),pr(e),i&4&&rS(e);break;case 21:break;default:Ki(t,e),pr(e)}}function pr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(D1(n)){var i=n;break e}n=n.return}throw Error(K(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Ku(r,""),i.flags&=-33);var s=iS(e);Xy(e,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=iS(e);$y(e,a,o);break;default:throw Error(K(161))}}catch(l){Ct(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function rA(e,t,n){ae=e,L1(e)}function L1(e,t,n){for(var i=(e.mode&1)!==0;ae!==null;){var r=ae,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||Ah;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||bn;a=Ah;var c=bn;if(Ah=o,(bn=l)&&!c)for(ae=r;ae!==null;)o=ae,l=o.child,o.tag===22&&o.memoizedState!==null?aS(r):l!==null?(l.return=o,ae=l):aS(r);for(;s!==null;)ae=s,L1(s),s=s.sibling;ae=r,Ah=a,bn=c}sS(e)}else r.subtreeFlags&8772&&s!==null?(s.return=r,ae=s):sS(e)}}function sS(e){for(;ae!==null;){var t=ae;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:bn||Qf(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!bn)if(n===null)i.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:qi(t.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Ww(t,s,i);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ww(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&qu(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}bn||t.flags&512&&Ky(t)}catch(h){Ct(t,t.return,h)}}if(t===e){ae=null;break}if(n=t.sibling,n!==null){n.return=t.return,ae=n;break}ae=t.return}}function oS(e){for(;ae!==null;){var t=ae;if(t===e){ae=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ae=n;break}ae=t.return}}function aS(e){for(;ae!==null;){var t=ae;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Qf(4,t)}catch(l){Ct(t,n,l)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var r=t.return;try{i.componentDidMount()}catch(l){Ct(t,r,l)}}var s=t.return;try{Ky(t)}catch(l){Ct(t,s,l)}break;case 5:var o=t.return;try{Ky(t)}catch(l){Ct(t,o,l)}}}catch(l){Ct(t,t.return,l)}if(t===e){ae=null;break}var a=t.sibling;if(a!==null){a.return=t.return,ae=a;break}ae=t.return}}var sA=Math.ceil,rf=Ds.ReactCurrentDispatcher,L0=Ds.ReactCurrentOwner,Ni=Ds.ReactCurrentBatchConfig,Be=0,en=null,Yt=null,hn=0,si=0,wl=To(0),Ut=0,ld=null,ka=0,Jf=0,E0=0,Ru=null,Un=null,T0=0,Vl=1/0,es=null,sf=!1,Zy=null,oo=null,Ph=!1,Ks=null,of=0,Au=0,qy=null,gp=-1,mp=0;function Rn(){return Be&6?Rt():gp!==-1?gp:gp=Rt()}function ao(e){return e.mode&1?Be&2&&hn!==0?hn&-hn:jR.transition!==null?(mp===0&&(mp=dk()),mp):(e=qe,e!==0||(e=window.event,e=e===void 0?16:vk(e.type)),e):1}function rr(e,t,n,i){if(50<Au)throw Au=0,qy=null,Error(K(185));zd(e,n,i),(!(Be&2)||e!==en)&&(e===en&&(!(Be&2)&&(Jf|=n),Ut===4&&Hs(e,hn)),Zn(e,i),n===1&&Be===0&&!(t.mode&1)&&(Vl=Rt()+500,Xf&&Io()))}function Zn(e,t){var n=e.callbackNode;jN(e,t);var i=jp(e,e===en?hn:0);if(i===0)n!==null&&mw(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&mw(n),t===1)e.tag===0?GR(lS.bind(null,e)):Fk(lS.bind(null,e)),FR(function(){!(Be&6)&&Io()}),n=null;else{switch(hk(i)){case 1:n=t0;break;case 4:n=ck;break;case 16:n=Gp;break;case 536870912:n=uk;break;default:n=Gp}n=O1(n,E1.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function E1(e,t){if(gp=-1,mp=0,Be&6)throw Error(K(327));var n=e.callbackNode;if(Il()&&e.callbackNode!==n)return null;var i=jp(e,e===en?hn:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=af(e,i);else{t=i;var r=Be;Be|=2;var s=I1();(en!==e||hn!==t)&&(es=null,Vl=Rt()+500,ha(e,t));do try{lA();break}catch(a){T1(e,a)}while(!0);f0(),rf.current=s,Be=r,Yt!==null?t=0:(en=null,hn=0,t=Ut)}if(t!==0){if(t===2&&(r=Dy(e),r!==0&&(i=r,t=Qy(e,r))),t===1)throw n=ld,ha(e,0),Hs(e,i),Zn(e,Rt()),n;if(t===6)Hs(e,i);else{if(r=e.current.alternate,!(i&30)&&!oA(r)&&(t=af(e,i),t===2&&(s=Dy(e),s!==0&&(i=s,t=Qy(e,s))),t===1))throw n=ld,ha(e,0),Hs(e,i),Zn(e,Rt()),n;switch(e.finishedWork=r,e.finishedLanes=i,t){case 0:case 1:throw Error(K(345));case 2:Zo(e,Un,es);break;case 3:if(Hs(e,i),(i&130023424)===i&&(t=T0+500-Rt(),10<t)){if(jp(e,0)!==0)break;if(r=e.suspendedLanes,(r&i)!==i){Rn(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=Ry(Zo.bind(null,e,Un,es),t);break}Zo(e,Un,es);break;case 4:if(Hs(e,i),(i&4194240)===i)break;for(t=e.eventTimes,r=-1;0<i;){var o=31-ir(i);s=1<<o,o=t[o],o>r&&(r=o),i&=~s}if(i=r,i=Rt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*sA(i/1960))-i,10<i){e.timeoutHandle=Ry(Zo.bind(null,e,Un,es),i);break}Zo(e,Un,es);break;case 5:Zo(e,Un,es);break;default:throw Error(K(329))}}}return Zn(e,Rt()),e.callbackNode===n?E1.bind(null,e):null}function Qy(e,t){var n=Ru;return e.current.memoizedState.isDehydrated&&(ha(e,t).flags|=256),e=af(e,t),e!==2&&(t=Un,Un=n,t!==null&&Jy(t)),e}function Jy(e){Un===null?Un=e:Un.push.apply(Un,e)}function oA(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!sr(s(),r))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Hs(e,t){for(t&=~E0,t&=~Jf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ir(t),i=1<<n;e[n]=-1,t&=~i}}function lS(e){if(Be&6)throw Error(K(327));Il();var t=jp(e,0);if(!(t&1))return Zn(e,Rt()),null;var n=af(e,t);if(e.tag!==0&&n===2){var i=Dy(e);i!==0&&(t=i,n=Qy(e,i))}if(n===1)throw n=ld,ha(e,0),Hs(e,t),Zn(e,Rt()),n;if(n===6)throw Error(K(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Zo(e,Un,es),Zn(e,Rt()),null}function I0(e,t){var n=Be;Be|=1;try{return e(t)}finally{Be=n,Be===0&&(Vl=Rt()+500,Xf&&Io())}}function Ca(e){Ks!==null&&Ks.tag===0&&!(Be&6)&&Il();var t=Be;Be|=1;var n=Ni.transition,i=qe;try{if(Ni.transition=null,qe=1,e)return e()}finally{qe=i,Ni.transition=n,Be=t,!(Be&6)&&Io()}}function N0(){si=wl.current,ft(wl)}function ha(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,_R(n)),Yt!==null)for(n=Yt.return;n!==null;){var i=n;switch(d0(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Kp();break;case 3:Hl(),ft($n),ft(wn),b0();break;case 5:x0(i);break;case 4:Hl();break;case 13:ft(wt);break;case 19:ft(wt);break;case 10:g0(i.type._context);break;case 22:case 23:N0()}n=n.return}if(en=e,Yt=e=lo(e.current,null),hn=si=t,Ut=0,ld=null,E0=Jf=ka=0,Un=Ru=null,ia!==null){for(t=0;t<ia.length;t++)if(n=ia[t],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}n.pending=i}ia=null}return e}function T1(e,t){do{var n=Yt;try{if(f0(),hp.current=nf,tf){for(var i=Mt.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}tf=!1}if(Da=0,qt=Wt=Mt=null,Iu=!1,sd=0,L0.current=null,n===null||n.return===null){Ut=1,ld=t,Yt=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=hn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=Xw(o);if(p!==null){p.flags&=-257,Zw(p,o,a,s,t),p.mode&1&&$w(s,c,t),t=p,l=c;var f=t.updateQueue;if(f===null){var g=new Set;g.add(l),t.updateQueue=g}else f.add(l);break e}else{if(!(t&1)){$w(s,c,t),R0();break e}l=Error(K(426))}}else if(yt&&a.mode&1){var v=Xw(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Zw(v,o,a,s,t),h0(Ul(l,a));break e}}s=l=Ul(l,a),Ut!==4&&(Ut=2),Ru===null?Ru=[s]:Ru.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=h1(s,l,t);jw(s,y);break e;case 1:a=l;var m=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(oo===null||!oo.has(x)))){s.flags|=65536,t&=-t,s.lanes|=t;var S=p1(s,a,t);jw(s,S);break e}}s=s.return}while(s!==null)}R1(n)}catch(D){t=D,Yt===n&&n!==null&&(Yt=n=n.return);continue}break}while(!0)}function I1(){var e=rf.current;return rf.current=nf,e===null?nf:e}function R0(){(Ut===0||Ut===3||Ut===2)&&(Ut=4),en===null||!(ka&268435455)&&!(Jf&268435455)||Hs(en,hn)}function af(e,t){var n=Be;Be|=2;var i=I1();(en!==e||hn!==t)&&(es=null,ha(e,t));do try{aA();break}catch(r){T1(e,r)}while(!0);if(f0(),Be=n,rf.current=i,Yt!==null)throw Error(K(261));return en=null,hn=0,Ut}function aA(){for(;Yt!==null;)N1(Yt)}function lA(){for(;Yt!==null&&!AN();)N1(Yt)}function N1(e){var t=P1(e.alternate,e,si);e.memoizedProps=e.pendingProps,t===null?R1(e):Yt=t,L0.current=null}function R1(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=tA(n,t),n!==null){n.flags&=32767,Yt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ut=6,Yt=null;return}}else if(n=eA(n,t,si),n!==null){Yt=n;return}if(t=t.sibling,t!==null){Yt=t;return}Yt=t=e}while(t!==null);Ut===0&&(Ut=5)}function Zo(e,t,n){var i=qe,r=Ni.transition;try{Ni.transition=null,qe=1,cA(e,t,n,i)}finally{Ni.transition=r,qe=i}return null}function cA(e,t,n,i){do Il();while(Ks!==null);if(Be&6)throw Error(K(327));n=e.finishedWork;var r=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(K(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(WN(e,s),e===en&&(Yt=en=null,hn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ph||(Ph=!0,O1(Gp,function(){return Il(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ni.transition,Ni.transition=null;var o=qe;qe=1;var a=Be;Be|=4,L0.current=null,iA(e,n),C1(n,e),TR(Iy),Wp=!!Ty,Iy=Ty=null,e.current=n,rA(n),PN(),Be=a,qe=o,Ni.transition=s}else e.current=n;if(Ph&&(Ph=!1,Ks=e,of=r),s=e.pendingLanes,s===0&&(oo=null),FN(n.stateNode),Zn(e,Rt()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(sf)throw sf=!1,e=Zy,Zy=null,e;return of&1&&e.tag!==0&&Il(),s=e.pendingLanes,s&1?e===qy?Au++:(Au=0,qy=e):Au=0,Io(),null}function Il(){if(Ks!==null){var e=hk(of),t=Ni.transition,n=qe;try{if(Ni.transition=null,qe=16>e?16:e,Ks===null)var i=!1;else{if(e=Ks,Ks=null,of=0,Be&6)throw Error(K(331));var r=Be;for(Be|=4,ae=e.current;ae!==null;){var s=ae,o=s.child;if(ae.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ae=c;ae!==null;){var u=ae;switch(u.tag){case 0:case 11:case 15:Nu(8,u,s)}var d=u.child;if(d!==null)d.return=u,ae=d;else for(;ae!==null;){u=ae;var h=u.sibling,p=u.return;if(M1(u),u===c){ae=null;break}if(h!==null){h.return=p,ae=h;break}ae=p}}}var f=s.alternate;if(f!==null){var g=f.child;if(g!==null){f.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}ae=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ae=o;else e:for(;ae!==null;){if(s=ae,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Nu(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,ae=y;break e}ae=s.return}}var m=e.current;for(ae=m;ae!==null;){o=ae;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,ae=x;else e:for(o=m;ae!==null;){if(a=ae,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Qf(9,a)}}catch(D){Ct(a,a.return,D)}if(a===o){ae=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,ae=S;break e}ae=a.return}}if(Be=r,Io(),Ar&&typeof Ar.onPostCommitFiberRoot=="function")try{Ar.onPostCommitFiberRoot(Hf,e)}catch{}i=!0}return i}finally{qe=n,Ni.transition=t}}return!1}function cS(e,t,n){t=Ul(n,t),t=h1(e,t,1),e=so(e,t,1),t=Rn(),e!==null&&(zd(e,1,t),Zn(e,t))}function Ct(e,t,n){if(e.tag===3)cS(e,e,n);else for(;t!==null;){if(t.tag===3){cS(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(oo===null||!oo.has(i))){e=Ul(n,e),e=p1(t,e,1),t=so(t,e,1),e=Rn(),t!==null&&(zd(t,1,e),Zn(t,e));break}}t=t.return}}function uA(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=Rn(),e.pingedLanes|=e.suspendedLanes&n,en===e&&(hn&n)===n&&(Ut===4||Ut===3&&(hn&130023424)===hn&&500>Rt()-T0?ha(e,0):E0|=n),Zn(e,t)}function A1(e,t){t===0&&(e.mode&1?(t=Dh,Dh<<=1,!(Dh&130023424)&&(Dh=4194304)):t=1);var n=Rn();e=xs(e,t),e!==null&&(zd(e,t,n),Zn(e,n))}function dA(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),A1(e,n)}function hA(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(K(314))}i!==null&&i.delete(t),A1(e,n)}var P1;P1=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||$n.current)Vn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Vn=!1,JR(e,t,n);Vn=!!(e.flags&131072)}else Vn=!1,yt&&t.flags&1048576&&Bk(t,Zp,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;fp(e,t),e=t.pendingProps;var r=Gl(t,wn.current);Tl(t,n),r=S0(null,t,i,e,r,n);var s=M0();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Xn(i)?(s=!0,$p(t)):s=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,y0(t),r.updater=qf,t.stateNode=r,r._reactInternals=t,zy(t,i,e,n),t=jy(null,t,i,!0,s,n)):(t.tag=0,yt&&s&&u0(t),Ln(null,t,r,n),t=t.child),t;case 16:i=t.elementType;e:{switch(fp(e,t),e=t.pendingProps,r=i._init,i=r(i._payload),t.type=i,r=t.tag=fA(i),e=qi(i,e),r){case 0:t=Gy(null,t,i,e,n);break e;case 1:t=Jw(null,t,i,e,n);break e;case 11:t=qw(null,t,i,e,n);break e;case 14:t=Qw(null,t,i,qi(i.type,e),n);break e}throw Error(K(306,i,""))}return t;case 0:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:qi(i,r),Gy(e,t,i,r,n);case 1:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:qi(i,r),Jw(e,t,i,r,n);case 3:e:{if(y1(t),e===null)throw Error(K(387));i=t.pendingProps,s=t.memoizedState,r=s.element,Hk(e,t),Jp(t,i,null,n);var o=t.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){r=Ul(Error(K(423)),t),t=eS(e,t,i,n,r);break e}else if(i!==r){r=Ul(Error(K(424)),t),t=eS(e,t,i,n,r);break e}else for(li=ro(t.stateNode.containerInfo.firstChild),ui=t,yt=!0,er=null,n=jk(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(jl(),i===r){t=bs(e,t,n);break e}Ln(e,t,i,n)}t=t.child}return t;case 5:return Uk(t),e===null&&_y(t),i=t.type,r=t.pendingProps,s=e!==null?e.memoizedProps:null,o=r.children,Ny(i,r)?o=null:s!==null&&Ny(i,s)&&(t.flags|=32),m1(e,t),Ln(e,t,o,n),t.child;case 6:return e===null&&_y(t),null;case 13:return v1(e,t,n);case 4:return v0(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Wl(t,null,i,n):Ln(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:qi(i,r),qw(e,t,i,r,n);case 7:return Ln(e,t,t.pendingProps,n),t.child;case 8:return Ln(e,t,t.pendingProps.children,n),t.child;case 12:return Ln(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,r=t.pendingProps,s=t.memoizedProps,o=r.value,lt(qp,i._currentValue),i._currentValue=o,s!==null)if(sr(s.value,o)){if(s.children===r.children&&!$n.current){t=bs(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=us(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Fy(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(K(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Fy(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ln(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=t.pendingProps.children,Tl(t,n),r=Fi(r),i=i(r),t.flags|=1,Ln(e,t,i,n),t.child;case 14:return i=t.type,r=qi(i,t.pendingProps),r=qi(i.type,r),Qw(e,t,i,r,n);case 15:return f1(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:qi(i,r),fp(e,t),t.tag=1,Xn(i)?(e=!0,$p(t)):e=!1,Tl(t,n),d1(t,i,r),zy(t,i,r,n),jy(null,t,i,!0,e,n);case 19:return x1(e,t,n);case 22:return g1(e,t,n)}throw Error(K(156,t.tag))};function O1(e,t){return lk(e,t)}function pA(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ti(e,t,n,i){return new pA(e,t,n,i)}function A0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fA(e){if(typeof e=="function")return A0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Qv)return 11;if(e===Jv)return 14}return 2}function lo(e,t){var n=e.alternate;return n===null?(n=Ti(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function yp(e,t,n,i,r,s){var o=2;if(i=e,typeof e=="function")A0(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case dl:return pa(n.children,r,s,t);case qv:o=8,r|=8;break;case cy:return e=Ti(12,n,t,r|2),e.elementType=cy,e.lanes=s,e;case uy:return e=Ti(13,n,t,r),e.elementType=uy,e.lanes=s,e;case dy:return e=Ti(19,n,t,r),e.elementType=dy,e.lanes=s,e;case UD:return eg(n,r,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case WD:o=10;break e;case HD:o=9;break e;case Qv:o=11;break e;case Jv:o=14;break e;case Gs:o=16,i=null;break e}throw Error(K(130,e==null?e:typeof e,""))}return t=Ti(o,n,t,r),t.elementType=e,t.type=i,t.lanes=s,t}function pa(e,t,n,i){return e=Ti(7,e,i,t),e.lanes=n,e}function eg(e,t,n,i){return e=Ti(22,e,i,t),e.elementType=UD,e.lanes=n,e.stateNode={isHidden:!1},e}function bm(e,t,n){return e=Ti(6,e,null,t),e.lanes=n,e}function wm(e,t,n){return t=Ti(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function gA(e,t,n,i,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tm(0),this.expirationTimes=tm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tm(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function P0(e,t,n,i,r,s,o,a,l){return e=new gA(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Ti(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},y0(s),e}function mA(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ul,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function _1(e){if(!e)return xo;e=e._reactInternals;e:{if(Pa(e)!==e||e.tag!==1)throw Error(K(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Xn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(K(171))}if(e.tag===1){var n=e.type;if(Xn(n))return _k(e,n,t)}return t}function F1(e,t,n,i,r,s,o,a,l){return e=P0(n,i,!0,e,r,s,o,a,l),e.context=_1(null),n=e.current,i=Rn(),r=ao(n),s=us(i,r),s.callback=t??null,so(n,s,r),e.current.lanes=r,zd(e,r,i),Zn(e,i),e}function tg(e,t,n,i){var r=t.current,s=Rn(),o=ao(r);return n=_1(n),t.context===null?t.context=n:t.pendingContext=n,t=us(s,o),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=so(r,t,o),e!==null&&(rr(e,r,o,s),dp(e,r,o)),o}function lf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function uS(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function O0(e,t){uS(e,t),(e=e.alternate)&&uS(e,t)}function yA(){return null}var B1=typeof reportError=="function"?reportError:function(e){console.error(e)};function _0(e){this._internalRoot=e}ng.prototype.render=_0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(K(409));tg(e,t,null,null)};ng.prototype.unmount=_0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ca(function(){tg(null,e,null,null)}),t[vs]=null}};function ng(e){this._internalRoot=e}ng.prototype.unstable_scheduleHydration=function(e){if(e){var t=gk();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ws.length&&t!==0&&t<Ws[n].priority;n++);Ws.splice(n,0,e),n===0&&yk(e)}};function F0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ig(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function dS(){}function vA(e,t,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=lf(o);s.call(c)}}var o=F1(t,i,e,0,null,!1,!1,"",dS);return e._reactRootContainer=o,e[vs]=o.current,ed(e.nodeType===8?e.parentNode:e),Ca(),o}for(;r=e.lastChild;)e.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=lf(l);a.call(c)}}var l=P0(e,0,!1,null,null,!1,!1,"",dS);return e._reactRootContainer=l,e[vs]=l.current,ed(e.nodeType===8?e.parentNode:e),Ca(function(){tg(t,l,n,i)}),l}function rg(e,t,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=lf(o);a.call(l)}}tg(t,o,e,r)}else o=vA(n,t,e,r,i);return lf(o)}pk=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=su(t.pendingLanes);n!==0&&(n0(t,n|1),Zn(t,Rt()),!(Be&6)&&(Vl=Rt()+500,Io()))}break;case 13:Ca(function(){var i=xs(e,1);if(i!==null){var r=Rn();rr(i,e,1,r)}}),O0(e,1)}};i0=function(e){if(e.tag===13){var t=xs(e,134217728);if(t!==null){var n=Rn();rr(t,e,134217728,n)}O0(e,134217728)}};fk=function(e){if(e.tag===13){var t=ao(e),n=xs(e,t);if(n!==null){var i=Rn();rr(n,e,t,i)}O0(e,t)}};gk=function(){return qe};mk=function(e,t){var n=qe;try{return qe=e,t()}finally{qe=n}};wy=function(e,t,n){switch(t){case"input":if(fy(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=$f(i);if(!r)throw Error(K(90));KD(i),fy(i,r)}}}break;case"textarea":XD(e,n);break;case"select":t=n.value,t!=null&&kl(e,!!n.multiple,t,!1)}};nk=I0;ik=Ca;var xA={usingClientEntryPoint:!1,Events:[Gd,gl,$f,ek,tk,I0]},Hc={findFiberByHostInstance:na,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bA={bundleType:Hc.bundleType,version:Hc.version,rendererPackageName:Hc.rendererPackageName,rendererConfig:Hc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ds.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ok(e),e===null?null:e.stateNode},findFiberByHostInstance:Hc.findFiberByHostInstance||yA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oh.isDisabled&&Oh.supportsFiber)try{Hf=Oh.inject(bA),Ar=Oh}catch{}}fi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xA;fi.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!F0(t))throw Error(K(200));return mA(e,t,null,n)};fi.createRoot=function(e,t){if(!F0(e))throw Error(K(299));var n=!1,i="",r=B1;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=P0(e,1,!1,null,null,n,!1,i,r),e[vs]=t.current,ed(e.nodeType===8?e.parentNode:e),new _0(t)};fi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(K(188)):(e=Object.keys(e).join(","),Error(K(268,e)));return e=ok(t),e=e===null?null:e.stateNode,e};fi.flushSync=function(e){return Ca(e)};fi.hydrate=function(e,t,n){if(!ig(t))throw Error(K(200));return rg(null,e,t,!0,n)};fi.hydrateRoot=function(e,t,n){if(!F0(e))throw Error(K(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",o=B1;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=F1(t,null,e,1,n??null,r,!1,s,o),e[vs]=t.current,ed(e),i)for(e=0;e<i.length;e++)n=i[e],r=n._getVersion,r=r(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new ng(t)};fi.render=function(e,t,n){if(!ig(t))throw Error(K(200));return rg(null,e,t,!1,n)};fi.unmountComponentAtNode=function(e){if(!ig(e))throw Error(K(40));return e._reactRootContainer?(Ca(function(){rg(null,null,e,!1,function(){e._reactRootContainer=null,e[vs]=null})}),!0):!1};fi.unstable_batchedUpdates=I0;fi.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!ig(n))throw Error(K(200));if(e==null||e._reactInternals===void 0)throw Error(K(38));return rg(e,t,n,!1,i)};fi.version="18.3.1-next-f1338f8080-20240426";function z1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(z1)}catch(e){console.error(e)}}z1(),zD.exports=fi;var Wd=zD.exports;const Y1=CD(Wd),wA=kD({__proto__:null,default:Y1},[Wd]);var hS=Wd;ay.createRoot=hS.createRoot,ay.hydrateRoot=hS.hydrateRoot;/**
 * @remix-run/router v1.17.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bt(){return bt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},bt.apply(this,arguments)}var Bt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Bt||(Bt={}));const pS="popstate";function SA(e){e===void 0&&(e={});function t(i,r){let{pathname:s,search:o,hash:a}=i.location;return cd("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:La(r)}return DA(t,n,null,e)}function Le(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Kl(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function MA(){return Math.random().toString(36).substr(2,8)}function fS(e,t){return{usr:e.state,key:e.key,idx:t}}function cd(e,t,n,i){return n===void 0&&(n=null),bt({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?No(t):t,{state:n,key:t&&t.key||i||MA()})}function La(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function No(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function DA(e,t,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=Bt.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(bt({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=Bt.Pop;let v=u(),y=v==null?null:v-c;c=v,l&&l({action:a,location:g.location,delta:y})}function h(v,y){a=Bt.Push;let m=cd(g.location,v,y);c=u()+1;let x=fS(m,c),S=g.createHref(m);try{o.pushState(x,"",S)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;r.location.assign(S)}s&&l&&l({action:a,location:g.location,delta:1})}function p(v,y){a=Bt.Replace;let m=cd(g.location,v,y);c=u();let x=fS(m,c),S=g.createHref(m);o.replaceState(x,"",S),s&&l&&l({action:a,location:g.location,delta:0})}function f(v){let y=r.location.origin!=="null"?r.location.origin:r.location.href,m=typeof v=="string"?v:La(v);return m=m.replace(/ $/,"%20"),Le(y,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,y)}let g={get action(){return a},get location(){return e(r,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(pS,d),l=v,()=>{r.removeEventListener(pS,d),l=null}},createHref(v){return t(r,v)},createURL:f,encodeLocation(v){let y=f(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(v){return o.go(v)}};return g}var at;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(at||(at={}));const kA=new Set(["lazy","caseSensitive","path","id","index","children"]);function CA(e){return e.index===!0}function ud(e,t,n,i){return n===void 0&&(n=[]),i===void 0&&(i={}),e.map((r,s)=>{let o=[...n,String(s)],a=typeof r.id=="string"?r.id:o.join("-");if(Le(r.index!==!0||!r.children,"Cannot specify children on an index route"),Le(!i[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),CA(r)){let l=bt({},r,t(r),{id:a});return i[a]=l,l}else{let l=bt({},r,t(r),{id:a,children:void 0});return i[a]=l,r.children&&(l.children=ud(r.children,t,o,i)),l}})}function ta(e,t,n){return n===void 0&&(n="/"),vp(e,t,n,!1)}function vp(e,t,n,i){let r=typeof t=="string"?No(t):t,s=cc(r.pathname||"/",n);if(s==null)return null;let o=G1(e);EA(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=zA(s);a=FA(o[l],c,i)}return a}function LA(e,t){let{route:n,pathname:i,params:r}=e;return{id:n.id,pathname:i,params:r,data:t[n.id],handle:n.handle}}function G1(e,t,n,i){t===void 0&&(t=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Le(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let c=ds([i,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(Le(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),G1(s.children,t,u,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:OA(c,s.index),routesMeta:u})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of j1(s.path))r(s,o,l)}),t}function j1(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=j1(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function EA(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:_A(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const TA=/^:[\w-]+$/,IA=3,NA=2,RA=1,AA=10,PA=-2,gS=e=>e==="*";function OA(e,t){let n=e.split("/"),i=n.length;return n.some(gS)&&(i+=PA),t&&(i+=NA),n.filter(r=>!gS(r)).reduce((r,s)=>r+(TA.test(s)?IA:s===""?RA:AA),i)}function _A(e,t){return e.length===t.length&&e.slice(0,-1).every((i,r)=>i===t[r])?e[e.length-1]-t[t.length-1]:0}function FA(e,t,n){n===void 0&&(n=!1);let{routesMeta:i}=e,r={},s="/",o=[];for(let a=0;a<i.length;++a){let l=i[a],c=a===i.length-1,u=s==="/"?t:t.slice(s.length)||"/",d=mS({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d&&c&&n&&!i[i.length-1].route.index&&(d=mS({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(r,d.params),o.push({params:r,pathname:ds([s,d.pathname]),pathnameBase:jA(ds([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=ds([s,d.pathnameBase]))}return o}function mS(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=BA(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((c,u,d)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let g=a[d]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const f=a[d];return p&&!f?c[h]=void 0:c[h]=(f||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:e}}function BA(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Kl(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let i=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function zA(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Kl(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function cc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function YA(e,t){t===void 0&&(t="/");let{pathname:n,search:i="",hash:r=""}=typeof e=="string"?No(e):e;return{pathname:n?n.startsWith("/")?n:GA(n,t):t,search:WA(i),hash:HA(r)}}function GA(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Sm(e,t,n,i){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function W1(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function B0(e,t){let n=W1(e);return t?n.map((i,r)=>r===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function z0(e,t,n,i){i===void 0&&(i=!1);let r;typeof e=="string"?r=No(e):(r=bt({},e),Le(!r.pathname||!r.pathname.includes("?"),Sm("?","pathname","search",r)),Le(!r.pathname||!r.pathname.includes("#"),Sm("#","pathname","hash",r)),Le(!r.search||!r.search.includes("#"),Sm("#","search","hash",r)));let s=e===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=n;else{let d=t.length-1;if(!i&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;r.pathname=h.join("/")}a=d>=0?t[d]:"/"}let l=YA(r,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const ds=e=>e.join("/").replace(/\/\/+/g,"/"),jA=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),WA=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,HA=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class Y0{constructor(t,n,i,r){r===void 0&&(r=!1),this.status=t,this.statusText=n||"",this.internal=r,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}}function sg(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const H1=["post","put","patch","delete"],UA=new Set(H1),VA=["get",...H1],KA=new Set(VA),$A=new Set([301,302,303,307,308]),XA=new Set([307,308]),Mm={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ZA={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Uc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},G0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qA=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),U1="remix-router-transitions";function QA(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",i=!n;Le(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let r;if(e.mapRouteProperties)r=e.mapRouteProperties;else if(e.detectErrorBoundary){let I=e.detectErrorBoundary;r=A=>({hasErrorBoundary:I(A)})}else r=qA;let s={},o=ud(e.routes,r,void 0,s),a,l=e.basename||"/",c=e.unstable_dataStrategy||iP,u=e.unstable_patchRoutesOnMiss,d=bt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,unstable_skipActionErrorRevalidation:!1},e.future),h=null,p=new Set,f=null,g=null,v=null,y=e.hydrationData!=null,m=ta(o,e.history.location,l),x=null;if(m==null&&!u){let I=Cn(404,{pathname:e.history.location.pathname}),{matches:A,route:B}=CS(o);m=A,x={[B.id]:I}}m&&u&&Xg(m,o,e.history.location.pathname).active&&(m=null);let S;if(!m)S=!1,m=[];else if(m.some(I=>I.route.lazy))S=!1;else if(!m.some(I=>I.route.loader))S=!0;else if(d.v7_partialHydration){let I=e.hydrationData?e.hydrationData.loaderData:null,A=e.hydrationData?e.hydrationData.errors:null,B=W=>W.route.loader?typeof W.route.loader=="function"&&W.route.loader.hydrate===!0?!1:I&&I[W.route.id]!==void 0||A&&A[W.route.id]!==void 0:!0;if(A){let W=m.findIndex(te=>A[te.route.id]!==void 0);S=m.slice(0,W+1).every(B)}else S=m.every(B)}else S=e.hydrationData!=null;let D,M={historyAction:e.history.action,location:e.history.location,matches:m,initialized:S,navigation:Mm,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||x,fetchers:new Map,blockers:new Map},C=Bt.Pop,k=!1,L,T=!1,O=new Map,Y=null,E=!1,_=!1,R=[],z=[],P=new Map,F=0,G=-1,H=new Map,Z=new Set,J=new Map,he=new Map,pe=new Set,Te=new Map,V=new Map,ue=new Map,oe=!1;function de(){if(h=e.history.listen(I=>{let{action:A,location:B,delta:W}=I;if(oe){oe=!1;return}Kl(V.size===0||W!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let te=ew({currentLocation:M.location,nextLocation:B,historyAction:A});if(te&&W!=null){oe=!0,e.history.go(W*-1),ph(te,{state:"blocked",location:B,proceed(){ph(te,{state:"proceeding",proceed:void 0,reset:void 0,location:B}),e.history.go(W)},reset(){let fe=new Map(M.blockers);fe.set(te,Uc),ce({blockers:fe})}});return}return Vi(A,B)}),n){mP(t,O);let I=()=>yP(t,O);t.addEventListener("pagehide",I),Y=()=>t.removeEventListener("pagehide",I)}return M.initialized||Vi(Bt.Pop,M.location,{initialHydration:!0}),D}function Se(){h&&h(),Y&&Y(),p.clear(),L&&L.abort(),M.fetchers.forEach((I,A)=>hh(A)),M.blockers.forEach((I,A)=>Jb(A))}function Oe(I){return p.add(I),()=>p.delete(I)}function ce(I,A){A===void 0&&(A={}),M=bt({},M,I);let B=[],W=[];d.v7_fetcherPersist&&M.fetchers.forEach((te,fe)=>{te.state==="idle"&&(pe.has(fe)?W.push(fe):B.push(fe))}),[...p].forEach(te=>te(M,{deletedFetchers:W,unstable_viewTransitionOpts:A.viewTransitionOpts,unstable_flushSync:A.flushSync===!0})),d.v7_fetcherPersist&&(B.forEach(te=>M.fetchers.delete(te)),W.forEach(te=>hh(te)))}function be(I,A,B){var W,te;let{flushSync:fe}=B===void 0?{}:B,xe=M.actionData!=null&&M.navigation.formMethod!=null&&Ji(M.navigation.formMethod)&&M.navigation.state==="loading"&&((W=I.state)==null?void 0:W._isRedirect)!==!0,Q;A.actionData?Object.keys(A.actionData).length>0?Q=A.actionData:Q=null:xe?Q=M.actionData:Q=null;let Me=A.loaderData?DS(M.loaderData,A.loaderData,A.matches||[],A.errors):M.loaderData,ye=M.blockers;ye.size>0&&(ye=new Map(ye),ye.forEach((je,nt)=>ye.set(nt,Uc)));let ve=k===!0||M.navigation.formMethod!=null&&Ji(M.navigation.formMethod)&&((te=I.state)==null?void 0:te._isRedirect)!==!0;a&&(o=a,a=void 0),E||C===Bt.Pop||(C===Bt.Push?e.history.push(I,I.state):C===Bt.Replace&&e.history.replace(I,I.state));let Je;if(C===Bt.Pop){let je=O.get(M.location.pathname);je&&je.has(I.pathname)?Je={currentLocation:M.location,nextLocation:I}:O.has(I.pathname)&&(Je={currentLocation:I,nextLocation:M.location})}else if(T){let je=O.get(M.location.pathname);je?je.add(I.pathname):(je=new Set([I.pathname]),O.set(M.location.pathname,je)),Je={currentLocation:M.location,nextLocation:I}}ce(bt({},A,{actionData:Q,loaderData:Me,historyAction:C,location:I,initialized:!0,navigation:Mm,revalidation:"idle",restoreScrollPosition:nw(I,A.matches||M.matches),preventScrollReset:ve,blockers:ye}),{viewTransitionOpts:Je,flushSync:fe===!0}),C=Bt.Pop,k=!1,T=!1,E=!1,_=!1,R=[],z=[]}async function ut(I,A){if(typeof I=="number"){e.history.go(I);return}let B=ev(M.location,M.matches,l,d.v7_prependBasename,I,d.v7_relativeSplatPath,A==null?void 0:A.fromRouteId,A==null?void 0:A.relative),{path:W,submission:te,error:fe}=yS(d.v7_normalizeFormMethod,!1,B,A),xe=M.location,Q=cd(M.location,W,A&&A.state);Q=bt({},Q,e.history.encodeLocation(Q));let Me=A&&A.replace!=null?A.replace:void 0,ye=Bt.Push;Me===!0?ye=Bt.Replace:Me===!1||te!=null&&Ji(te.formMethod)&&te.formAction===M.location.pathname+M.location.search&&(ye=Bt.Replace);let ve=A&&"preventScrollReset"in A?A.preventScrollReset===!0:void 0,Je=(A&&A.unstable_flushSync)===!0,je=ew({currentLocation:xe,nextLocation:Q,historyAction:ye});if(je){ph(je,{state:"blocked",location:Q,proceed(){ph(je,{state:"proceeding",proceed:void 0,reset:void 0,location:Q}),ut(I,A)},reset(){let nt=new Map(M.blockers);nt.set(je,Uc),ce({blockers:nt})}});return}return await Vi(ye,Q,{submission:te,pendingError:fe,preventScrollReset:ve,replace:A&&A.replace,enableViewTransition:A&&A.unstable_viewTransition,flushSync:Je})}function Dn(){if(yn(),ce({revalidation:"loading"}),M.navigation.state!=="submitting"){if(M.navigation.state==="idle"){Vi(M.historyAction,M.location,{startUninterruptedRevalidation:!0});return}Vi(C||M.historyAction,M.navigation.location,{overrideNavigation:M.navigation})}}async function Vi(I,A,B){L&&L.abort(),L=null,C=I,E=(B&&B.startUninterruptedRevalidation)===!0,WI(M.location,M.matches),k=(B&&B.preventScrollReset)===!0,T=(B&&B.enableViewTransition)===!0;let W=a||o,te=B&&B.overrideNavigation,fe=ta(W,A,l),xe=(B&&B.flushSync)===!0,Q=Xg(fe,W,A.pathname);if(Q.active&&Q.matches&&(fe=Q.matches),!fe){let{error:Ue,notFoundMatches:sn,route:Ft}=Kg(A.pathname);be(A,{matches:sn,loaderData:{},errors:{[Ft.id]:Ue}},{flushSync:xe});return}if(M.initialized&&!_&&cP(M.location,A)&&!(B&&B.submission&&Ji(B.submission.formMethod))){be(A,{matches:fe},{flushSync:xe});return}L=new AbortController;let Me=nl(e.history,A,L.signal,B&&B.submission),ye;if(B&&B.pendingError)ye=[Pu(fe).route.id,{type:at.error,error:B.pendingError}];else if(B&&B.submission&&Ji(B.submission.formMethod)){let Ue=await Xa(Me,A,B.submission,fe,Q.active,{replace:B.replace,flushSync:xe});if(Ue.shortCircuited)return;if(Ue.pendingActionResult){let[sn,Ft]=Ue.pendingActionResult;if(oi(Ft)&&sg(Ft.error)&&Ft.error.status===404){L=null,be(A,{matches:Ue.matches,loaderData:{},errors:{[sn]:Ft.error}});return}}fe=Ue.matches||fe,ye=Ue.pendingActionResult,te=Dm(A,B.submission),xe=!1,Q.active=!1,Me=nl(e.history,Me.url,Me.signal)}let{shortCircuited:ve,matches:Je,loaderData:je,errors:nt}=await Za(Me,A,fe,Q.active,te,B&&B.submission,B&&B.fetcherSubmission,B&&B.replace,B&&B.initialHydration===!0,xe,ye);ve||(L=null,be(A,bt({matches:Je||fe},kS(ye),{loaderData:je,errors:nt})))}async function Xa(I,A,B,W,te,fe){fe===void 0&&(fe={}),yn();let xe=fP(A,B);if(ce({navigation:xe},{flushSync:fe.flushSync===!0}),te){let ye=await gh(W,A.pathname,I.signal);if(ye.type==="aborted")return{shortCircuited:!0};if(ye.type==="error"){let{error:ve,notFoundMatches:Je,route:je}=fh(A.pathname,ye);return{matches:Je,pendingActionResult:[je.id,{type:at.error,error:ve}]}}else if(ye.matches)W=ye.matches;else{let{notFoundMatches:ve,error:Je,route:je}=Kg(A.pathname);return{matches:ve,pendingActionResult:[je.id,{type:at.error,error:Je}]}}}let Q,Me=au(W,A);if(!Me.route.action&&!Me.route.lazy)Q={type:at.error,error:Cn(405,{method:I.method,pathname:A.pathname,routeId:Me.route.id})};else if(Q=(await vt("action",I,[Me],W))[0],I.signal.aborted)return{shortCircuited:!0};if(oa(Q)){let ye;return fe&&fe.replace!=null?ye=fe.replace:ye=wS(Q.response.headers.get("Location"),new URL(I.url),l)===M.location.pathname+M.location.search,await mt(I,Q,{submission:B,replace:ye}),{shortCircuited:!0}}if(sa(Q))throw Cn(400,{type:"defer-action"});if(oi(Q)){let ye=Pu(W,Me.route.id);return(fe&&fe.replace)!==!0&&(C=Bt.Push),{matches:W,pendingActionResult:[ye.route.id,Q]}}return{matches:W,pendingActionResult:[Me.route.id,Q]}}async function Za(I,A,B,W,te,fe,xe,Q,Me,ye,ve){let Je=te||Dm(A,fe),je=fe||xe||TS(Je),nt=!E&&(!d.v7_partialHydration||!Me);if(W){if(nt){let kt=qa(ve);ce(bt({navigation:Je},kt!==void 0?{actionData:kt}:{}),{flushSync:ye})}let De=await gh(B,A.pathname,I.signal);if(De.type==="aborted")return{shortCircuited:!0};if(De.type==="error"){let{error:kt,notFoundMatches:ii,route:ot}=fh(A.pathname,De);return{matches:ii,loaderData:{},errors:{[ot.id]:kt}}}else if(De.matches)B=De.matches;else{let{error:kt,notFoundMatches:ii,route:ot}=Kg(A.pathname);return{matches:ii,loaderData:{},errors:{[ot.id]:kt}}}}let Ue=a||o,[sn,Ft]=vS(e.history,M,B,je,A,d.v7_partialHydration&&Me===!0,d.unstable_skipActionErrorRevalidation,_,R,z,pe,J,Z,Ue,l,ve);if($g(De=>!(B&&B.some(kt=>kt.route.id===De))||sn&&sn.some(kt=>kt.route.id===De)),G=++F,sn.length===0&&Ft.length===0){let De=qb();return be(A,bt({matches:B,loaderData:{},errors:ve&&oi(ve[1])?{[ve[0]]:ve[1].error}:null},kS(ve),De?{fetchers:new Map(M.fetchers)}:{}),{flushSync:ye}),{shortCircuited:!0}}if(nt){let De={};if(!W){De.navigation=Je;let kt=qa(ve);kt!==void 0&&(De.actionData=kt)}Ft.length>0&&(De.fetchers=Oc(Ft)),ce(De,{flushSync:ye})}Ft.forEach(De=>{P.has(De.key)&&As(De.key),De.controller&&P.set(De.key,De.controller)});let _c=()=>Ft.forEach(De=>As(De.key));L&&L.signal.addEventListener("abort",_c);let{loaderResults:Ps,fetcherResults:Qa}=await jn(M.matches,B,sn,Ft,I);if(I.signal.aborted)return{shortCircuited:!0};L&&L.signal.removeEventListener("abort",_c),Ft.forEach(De=>P.delete(De.key));let Ja=LS([...Ps,...Qa]);if(Ja){if(Ja.idx>=sn.length){let De=Ft[Ja.idx-sn.length].key;Z.add(De)}return await mt(I,Ja.result,{replace:Q}),{shortCircuited:!0}}let{loaderData:el,errors:hr}=MS(M,B,sn,Ps,ve,Ft,Qa,Te);Te.forEach((De,kt)=>{De.subscribe(ii=>{(ii||De.done)&&Te.delete(kt)})}),d.v7_partialHydration&&Me&&M.errors&&Object.entries(M.errors).filter(De=>{let[kt]=De;return!sn.some(ii=>ii.route.id===kt)}).forEach(De=>{let[kt,ii]=De;hr=Object.assign(hr||{},{[kt]:ii})});let mh=qb(),yh=Qb(G),vh=mh||yh||Ft.length>0;return bt({matches:B,loaderData:el,errors:hr},vh?{fetchers:new Map(M.fetchers)}:{})}function qa(I){if(I&&!oi(I[1]))return{[I[0]]:I[1].data};if(M.actionData)return Object.keys(M.actionData).length===0?null:M.actionData}function Oc(I){return I.forEach(A=>{let B=M.fetchers.get(A.key),W=Vc(void 0,B?B.data:void 0);M.fetchers.set(A.key,W)}),new Map(M.fetchers)}function Vo(I,A,B,W){if(i)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");P.has(I)&&As(I);let te=(W&&W.unstable_flushSync)===!0,fe=a||o,xe=ev(M.location,M.matches,l,d.v7_prependBasename,B,d.v7_relativeSplatPath,A,W==null?void 0:W.relative),Q=ta(fe,xe,l),Me=Xg(Q,fe,xe);if(Me.active&&Me.matches&&(Q=Me.matches),!Q){bi(I,A,Cn(404,{pathname:xe}),{flushSync:te});return}let{path:ye,submission:ve,error:Je}=yS(d.v7_normalizeFormMethod,!0,xe,W);if(Je){bi(I,A,Je,{flushSync:te});return}let je=au(Q,ye);if(k=(W&&W.preventScrollReset)===!0,ve&&Ji(ve.formMethod)){Ko(I,A,ye,je,Q,Me.active,te,ve);return}J.set(I,{routeId:A,path:ye}),qr(I,A,ye,je,Q,Me.active,te,ve)}async function Ko(I,A,B,W,te,fe,xe,Q){yn(),J.delete(I);function Me(ot){if(!ot.route.action&&!ot.route.lazy){let Qr=Cn(405,{method:Q.formMethod,pathname:B,routeId:A});return bi(I,A,Qr,{flushSync:xe}),!0}return!1}if(!fe&&Me(W))return;let ye=M.fetchers.get(I);kn(I,gP(Q,ye),{flushSync:xe});let ve=new AbortController,Je=nl(e.history,B,ve.signal,Q);if(fe){let ot=await gh(te,B,Je.signal);if(ot.type==="aborted")return;if(ot.type==="error"){let{error:Qr}=fh(B,ot);bi(I,A,Qr,{flushSync:xe});return}else if(ot.matches){if(te=ot.matches,W=au(te,B),Me(W))return}else{bi(I,A,Cn(404,{pathname:B}),{flushSync:xe});return}}P.set(I,ve);let je=F,Ue=(await vt("action",Je,[W],te))[0];if(Je.signal.aborted){P.get(I)===ve&&P.delete(I);return}if(d.v7_fetcherPersist&&pe.has(I)){if(oa(Ue)||oi(Ue)){kn(I,Fs(void 0));return}}else{if(oa(Ue))if(P.delete(I),G>je){kn(I,Fs(void 0));return}else return Z.add(I),kn(I,Vc(Q)),mt(Je,Ue,{fetcherSubmission:Q});if(oi(Ue)){bi(I,A,Ue.error);return}}if(sa(Ue))throw Cn(400,{type:"defer-action"});let sn=M.navigation.location||M.location,Ft=nl(e.history,sn,ve.signal),_c=a||o,Ps=M.navigation.state!=="idle"?ta(_c,M.navigation.location,l):M.matches;Le(Ps,"Didn't find any matches after fetcher action");let Qa=++F;H.set(I,Qa);let Ja=Vc(Q,Ue.data);M.fetchers.set(I,Ja);let[el,hr]=vS(e.history,M,Ps,Q,sn,!1,d.unstable_skipActionErrorRevalidation,_,R,z,pe,J,Z,_c,l,[W.route.id,Ue]);hr.filter(ot=>ot.key!==I).forEach(ot=>{let Qr=ot.key,iw=M.fetchers.get(Qr),VI=Vc(void 0,iw?iw.data:void 0);M.fetchers.set(Qr,VI),P.has(Qr)&&As(Qr),ot.controller&&P.set(Qr,ot.controller)}),ce({fetchers:new Map(M.fetchers)});let mh=()=>hr.forEach(ot=>As(ot.key));ve.signal.addEventListener("abort",mh);let{loaderResults:yh,fetcherResults:vh}=await jn(M.matches,Ps,el,hr,Ft);if(ve.signal.aborted)return;ve.signal.removeEventListener("abort",mh),H.delete(I),P.delete(I),hr.forEach(ot=>P.delete(ot.key));let De=LS([...yh,...vh]);if(De){if(De.idx>=el.length){let ot=hr[De.idx-el.length].key;Z.add(ot)}return mt(Ft,De.result)}let{loaderData:kt,errors:ii}=MS(M,M.matches,el,yh,void 0,hr,vh,Te);if(M.fetchers.has(I)){let ot=Fs(Ue.data);M.fetchers.set(I,ot)}Qb(Qa),M.navigation.state==="loading"&&Qa>G?(Le(C,"Expected pending action"),L&&L.abort(),be(M.navigation.location,{matches:Ps,loaderData:kt,errors:ii,fetchers:new Map(M.fetchers)})):(ce({errors:ii,loaderData:DS(M.loaderData,kt,Ps,ii),fetchers:new Map(M.fetchers)}),_=!1)}async function qr(I,A,B,W,te,fe,xe,Q){let Me=M.fetchers.get(I);kn(I,Vc(Q,Me?Me.data:void 0),{flushSync:xe});let ye=new AbortController,ve=nl(e.history,B,ye.signal);if(fe){let Ue=await gh(te,B,ve.signal);if(Ue.type==="aborted")return;if(Ue.type==="error"){let{error:sn}=fh(B,Ue);bi(I,A,sn,{flushSync:xe});return}else if(Ue.matches)te=Ue.matches,W=au(te,B);else{bi(I,A,Cn(404,{pathname:B}),{flushSync:xe});return}}P.set(I,ye);let Je=F,nt=(await vt("loader",ve,[W],te))[0];if(sa(nt)&&(nt=await Z1(nt,ve.signal,!0)||nt),P.get(I)===ye&&P.delete(I),!ve.signal.aborted){if(pe.has(I)){kn(I,Fs(void 0));return}if(oa(nt))if(G>Je){kn(I,Fs(void 0));return}else{Z.add(I),await mt(ve,nt);return}if(oi(nt)){bi(I,A,nt.error);return}Le(!sa(nt),"Unhandled fetcher deferred data"),kn(I,Fs(nt.data))}}async function mt(I,A,B){let{submission:W,fetcherSubmission:te,replace:fe}=B===void 0?{}:B;A.response.headers.has("X-Remix-Revalidate")&&(_=!0);let xe=A.response.headers.get("Location");Le(xe,"Expected a Location header on the redirect Response"),xe=wS(xe,new URL(I.url),l);let Q=cd(M.location,xe,{_isRedirect:!0});if(n){let nt=!1;if(A.response.headers.has("X-Remix-Reload-Document"))nt=!0;else if(G0.test(xe)){const Ue=e.history.createURL(xe);nt=Ue.origin!==t.location.origin||cc(Ue.pathname,l)==null}if(nt){fe?t.location.replace(xe):t.location.assign(xe);return}}L=null;let Me=fe===!0?Bt.Replace:Bt.Push,{formMethod:ye,formAction:ve,formEncType:Je}=M.navigation;!W&&!te&&ye&&ve&&Je&&(W=TS(M.navigation));let je=W||te;if(XA.has(A.response.status)&&je&&Ji(je.formMethod))await Vi(Me,Q,{submission:bt({},je,{formAction:xe}),preventScrollReset:k});else{let nt=Dm(Q,W);await Vi(Me,Q,{overrideNavigation:nt,fetcherSubmission:te,preventScrollReset:k})}}async function vt(I,A,B,W){try{let te=await rP(c,I,A,B,W,s,r);return await Promise.all(te.map((fe,xe)=>{if(dP(fe)){let Q=fe.result;return{type:at.redirect,response:aP(Q,A,B[xe].route.id,W,l,d.v7_relativeSplatPath)}}return oP(fe)}))}catch(te){return B.map(()=>({type:at.error,error:te}))}}async function jn(I,A,B,W,te){let[fe,...xe]=await Promise.all([B.length?vt("loader",te,B,A):[],...W.map(Q=>{if(Q.matches&&Q.match&&Q.controller){let Me=nl(e.history,Q.path,Q.controller.signal);return vt("loader",Me,[Q.match],Q.matches).then(ye=>ye[0])}else return Promise.resolve({type:at.error,error:Cn(404,{pathname:Q.path})})})]);return await Promise.all([ES(I,B,fe,fe.map(()=>te.signal),!1,M.loaderData),ES(I,W.map(Q=>Q.match),xe,W.map(Q=>Q.controller?Q.controller.signal:null),!0)]),{loaderResults:fe,fetcherResults:xe}}function yn(){_=!0,R.push(...$g()),J.forEach((I,A)=>{P.has(A)&&(z.push(A),As(A))})}function kn(I,A,B){B===void 0&&(B={}),M.fetchers.set(I,A),ce({fetchers:new Map(M.fetchers)},{flushSync:(B&&B.flushSync)===!0})}function bi(I,A,B,W){W===void 0&&(W={});let te=Pu(M.matches,A);hh(I),ce({errors:{[te.route.id]:B},fetchers:new Map(M.fetchers)},{flushSync:(W&&W.flushSync)===!0})}function Xb(I){return d.v7_fetcherPersist&&(he.set(I,(he.get(I)||0)+1),pe.has(I)&&pe.delete(I)),M.fetchers.get(I)||ZA}function hh(I){let A=M.fetchers.get(I);P.has(I)&&!(A&&A.state==="loading"&&H.has(I))&&As(I),J.delete(I),H.delete(I),Z.delete(I),pe.delete(I),M.fetchers.delete(I)}function YI(I){if(d.v7_fetcherPersist){let A=(he.get(I)||0)-1;A<=0?(he.delete(I),pe.add(I)):he.set(I,A)}else hh(I);ce({fetchers:new Map(M.fetchers)})}function As(I){let A=P.get(I);Le(A,"Expected fetch controller: "+I),A.abort(),P.delete(I)}function Zb(I){for(let A of I){let B=Xb(A),W=Fs(B.data);M.fetchers.set(A,W)}}function qb(){let I=[],A=!1;for(let B of Z){let W=M.fetchers.get(B);Le(W,"Expected fetcher: "+B),W.state==="loading"&&(Z.delete(B),I.push(B),A=!0)}return Zb(I),A}function Qb(I){let A=[];for(let[B,W]of H)if(W<I){let te=M.fetchers.get(B);Le(te,"Expected fetcher: "+B),te.state==="loading"&&(As(B),H.delete(B),A.push(B))}return Zb(A),A.length>0}function GI(I,A){let B=M.blockers.get(I)||Uc;return V.get(I)!==A&&V.set(I,A),B}function Jb(I){M.blockers.delete(I),V.delete(I)}function ph(I,A){let B=M.blockers.get(I)||Uc;Le(B.state==="unblocked"&&A.state==="blocked"||B.state==="blocked"&&A.state==="blocked"||B.state==="blocked"&&A.state==="proceeding"||B.state==="blocked"&&A.state==="unblocked"||B.state==="proceeding"&&A.state==="unblocked","Invalid blocker state transition: "+B.state+" -> "+A.state);let W=new Map(M.blockers);W.set(I,A),ce({blockers:W})}function ew(I){let{currentLocation:A,nextLocation:B,historyAction:W}=I;if(V.size===0)return;V.size>1&&Kl(!1,"A router only supports one blocker at a time");let te=Array.from(V.entries()),[fe,xe]=te[te.length-1],Q=M.blockers.get(fe);if(!(Q&&Q.state==="proceeding")&&xe({currentLocation:A,nextLocation:B,historyAction:W}))return fe}function Kg(I){let A=Cn(404,{pathname:I}),B=a||o,{matches:W,route:te}=CS(B);return $g(),{notFoundMatches:W,route:te,error:A}}function fh(I,A){let B=A.partialMatches,W=B[B.length-1].route,te=Cn(400,{type:"route-discovery",routeId:W.id,pathname:I,message:A.error!=null&&"message"in A.error?A.error:String(A.error)});return{notFoundMatches:B,route:W,error:te}}function $g(I){let A=[];return Te.forEach((B,W)=>{(!I||I(W))&&(B.cancel(),A.push(W),Te.delete(W))}),A}function jI(I,A,B){if(f=I,v=A,g=B||null,!y&&M.navigation===Mm){y=!0;let W=nw(M.location,M.matches);W!=null&&ce({restoreScrollPosition:W})}return()=>{f=null,v=null,g=null}}function tw(I,A){return g&&g(I,A.map(W=>LA(W,M.loaderData)))||I.key}function WI(I,A){if(f&&v){let B=tw(I,A);f[B]=v()}}function nw(I,A){if(f){let B=tw(I,A),W=f[B];if(typeof W=="number")return W}return null}function Xg(I,A,B){if(u)if(I){let W=I[I.length-1].route;if(W.path&&(W.path==="*"||W.path.endsWith("/*")))return{active:!0,matches:vp(A,B,l,!0)}}else return{active:!0,matches:vp(A,B,l,!0)||[]};return{active:!1,matches:null}}async function gh(I,A,B){let W=I,te=W.length>0?W[W.length-1].route:null;for(;;){let fe=a==null,xe=a||o;try{await nP(u,A,W,xe,s,r,ue,B)}catch(ve){return{type:"error",error:ve,partialMatches:W}}finally{fe&&(o=[...o])}if(B.aborted)return{type:"aborted"};let Q=ta(xe,A,l),Me=!1;if(Q){let ve=Q[Q.length-1].route;if(ve.index)return{type:"success",matches:Q};if(ve.path&&ve.path.length>0)if(ve.path==="*")Me=!0;else return{type:"success",matches:Q}}let ye=vp(xe,A,l,!0);if(!ye||W.map(ve=>ve.route.id).join("-")===ye.map(ve=>ve.route.id).join("-"))return{type:"success",matches:Me?Q:null};if(W=ye,te=W[W.length-1].route,te.path==="*")return{type:"success",matches:W}}}function HI(I){s={},a=ud(I,r,void 0,s)}function UI(I,A){let B=a==null;K1(I,A,a||o,s,r),B&&(o=[...o],ce({}))}return D={get basename(){return l},get future(){return d},get state(){return M},get routes(){return o},get window(){return t},initialize:de,subscribe:Oe,enableScrollRestoration:jI,navigate:ut,fetch:Vo,revalidate:Dn,createHref:I=>e.history.createHref(I),encodeLocation:I=>e.history.encodeLocation(I),getFetcher:Xb,deleteFetcher:YI,dispose:Se,getBlocker:GI,deleteBlocker:Jb,patchRoutes:UI,_internalFetchControllers:P,_internalActiveDeferreds:Te,_internalSetRoutes:HI},D}function JA(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function ev(e,t,n,i,r,s,o,a){let l,c;if(o){l=[];for(let d of t)if(l.push(d),d.route.id===o){c=d;break}}else l=t,c=t[t.length-1];let u=z0(r||".",B0(l,s),cc(e.pathname,n)||e.pathname,a==="path");return r==null&&(u.search=e.search,u.hash=e.hash),(r==null||r===""||r===".")&&c&&c.route.index&&!j0(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i&&n!=="/"&&(u.pathname=u.pathname==="/"?n:ds([n,u.pathname])),La(u)}function yS(e,t,n,i){if(!i||!JA(i))return{path:n};if(i.formMethod&&!pP(i.formMethod))return{path:n,error:Cn(405,{method:i.formMethod})};let r=()=>({path:n,error:Cn(400,{type:"invalid-body"})}),s=i.formMethod||"get",o=e?s.toUpperCase():s.toLowerCase(),a=$1(n);if(i.body!==void 0){if(i.formEncType==="text/plain"){if(!Ji(o))return r();let h=typeof i.body=="string"?i.body:i.body instanceof FormData||i.body instanceof URLSearchParams?Array.from(i.body.entries()).reduce((p,f)=>{let[g,v]=f;return""+p+g+"="+v+`
`},""):String(i.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:i.formEncType,formData:void 0,json:void 0,text:h}}}else if(i.formEncType==="application/json"){if(!Ji(o))return r();try{let h=typeof i.body=="string"?JSON.parse(i.body):i.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:i.formEncType,formData:void 0,json:h,text:void 0}}}catch{return r()}}}Le(typeof FormData=="function","FormData is not available in this environment");let l,c;if(i.formData)l=tv(i.formData),c=i.formData;else if(i.body instanceof FormData)l=tv(i.body),c=i.body;else if(i.body instanceof URLSearchParams)l=i.body,c=SS(l);else if(i.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(i.body),c=SS(l)}catch{return r()}let u={formMethod:o,formAction:a,formEncType:i&&i.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Ji(u.formMethod))return{path:n,submission:u};let d=No(n);return t&&d.search&&j0(d.search)&&l.append("index",""),d.search="?"+l,{path:La(d),submission:u}}function eP(e,t){let n=e;if(t){let i=e.findIndex(r=>r.route.id===t);i>=0&&(n=e.slice(0,i))}return n}function vS(e,t,n,i,r,s,o,a,l,c,u,d,h,p,f,g){let v=g?oi(g[1])?g[1].error:g[1].data:void 0,y=e.createURL(t.location),m=e.createURL(r),x=g&&oi(g[1])?g[0]:void 0,S=x?eP(n,x):n,D=g?g[1].statusCode:void 0,M=o&&D&&D>=400,C=S.filter((L,T)=>{let{route:O}=L;if(O.lazy)return!0;if(O.loader==null)return!1;if(s)return typeof O.loader!="function"||O.loader.hydrate?!0:t.loaderData[O.id]===void 0&&(!t.errors||t.errors[O.id]===void 0);if(tP(t.loaderData,t.matches[T],L)||l.some(_=>_===L.route.id))return!0;let Y=t.matches[T],E=L;return xS(L,bt({currentUrl:y,currentParams:Y.params,nextUrl:m,nextParams:E.params},i,{actionResult:v,unstable_actionStatus:D,defaultShouldRevalidate:M?!1:a||y.pathname+y.search===m.pathname+m.search||y.search!==m.search||V1(Y,E)}))}),k=[];return d.forEach((L,T)=>{if(s||!n.some(R=>R.route.id===L.routeId)||u.has(T))return;let O=ta(p,L.path,f);if(!O){k.push({key:T,routeId:L.routeId,path:L.path,matches:null,match:null,controller:null});return}let Y=t.fetchers.get(T),E=au(O,L.path),_=!1;h.has(T)?_=!1:c.includes(T)?_=!0:Y&&Y.state!=="idle"&&Y.data===void 0?_=a:_=xS(E,bt({currentUrl:y,currentParams:t.matches[t.matches.length-1].params,nextUrl:m,nextParams:n[n.length-1].params},i,{actionResult:v,unstable_actionStatus:D,defaultShouldRevalidate:M?!1:a})),_&&k.push({key:T,routeId:L.routeId,path:L.path,matches:O,match:E,controller:new AbortController})}),[C,k]}function tP(e,t,n){let i=!t||n.route.id!==t.route.id,r=e[n.route.id]===void 0;return i||r}function V1(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function xS(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}async function nP(e,t,n,i,r,s,o,a){let l=[t,...n.map(c=>c.route.id)].join("-");try{let c=o.get(l);c||(c=e({path:t,matches:n,patch:(u,d)=>{a.aborted||K1(u,d,i,r,s)}}),o.set(l,c)),c&&uP(c)&&await c}finally{o.delete(l)}}function K1(e,t,n,i,r){if(e){var s;let o=i[e];Le(o,"No route found to patch children into: routeId = "+e);let a=ud(t,r,[e,"patch",String(((s=o.children)==null?void 0:s.length)||"0")],i);o.children?o.children.push(...a):o.children=a}else{let o=ud(t,r,["patch",String(n.length||"0")],i);n.push(...o)}}async function bS(e,t,n){if(!e.lazy)return;let i=await e.lazy();if(!e.lazy)return;let r=n[e.id];Le(r,"No route found in manifest");let s={};for(let o in i){let l=r[o]!==void 0&&o!=="hasErrorBoundary";Kl(!l,'Route "'+r.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!kA.has(o)&&(s[o]=i[o])}Object.assign(r,s),Object.assign(r,bt({},t(r),{lazy:void 0}))}function iP(e){return Promise.all(e.matches.map(t=>t.resolve()))}async function rP(e,t,n,i,r,s,o,a){let l=i.reduce((d,h)=>d.add(h.route.id),new Set),c=new Set,u=await e({matches:r.map(d=>{let h=l.has(d.route.id);return bt({},d,{shouldLoad:h,resolve:f=>(c.add(d.route.id),h?sP(t,n,d,s,o,f,a):Promise.resolve({type:at.data,result:void 0}))})}),request:n,params:r[0].params,context:a});return r.forEach(d=>Le(c.has(d.route.id),'`match.resolve()` was not called for route id "'+d.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),u.filter((d,h)=>l.has(r[h].route.id))}async function sP(e,t,n,i,r,s,o){let a,l,c=u=>{let d,h=new Promise((g,v)=>d=v);l=()=>d(),t.signal.addEventListener("abort",l);let p=g=>typeof u!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+n.route.id+"]"))):u({request:t,params:n.params,context:o},...g!==void 0?[g]:[]),f;return s?f=s(g=>p(g)):f=(async()=>{try{return{type:"data",result:await p()}}catch(g){return{type:"error",result:g}}})(),Promise.race([f,h])};try{let u=n.route[e];if(n.route.lazy)if(u){let d,[h]=await Promise.all([c(u).catch(p=>{d=p}),bS(n.route,r,i)]);if(d!==void 0)throw d;a=h}else if(await bS(n.route,r,i),u=n.route[e],u)a=await c(u);else if(e==="action"){let d=new URL(t.url),h=d.pathname+d.search;throw Cn(405,{method:t.method,pathname:h,routeId:n.route.id})}else return{type:at.data,result:void 0};else if(u)a=await c(u);else{let d=new URL(t.url),h=d.pathname+d.search;throw Cn(404,{pathname:h})}Le(a.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(u){return{type:at.error,result:u}}finally{l&&t.signal.removeEventListener("abort",l)}return a}async function oP(e){let{result:t,type:n,status:i}=e;if(X1(t)){let o;try{let a=t.headers.get("Content-Type");a&&/\bapplication\/json\b/.test(a)?t.body==null?o=null:o=await t.json():o=await t.text()}catch(a){return{type:at.error,error:a}}return n===at.error?{type:at.error,error:new Y0(t.status,t.statusText,o),statusCode:t.status,headers:t.headers}:{type:at.data,data:o,statusCode:t.status,headers:t.headers}}if(n===at.error)return{type:at.error,error:t,statusCode:sg(t)?t.status:i};if(hP(t)){var r,s;return{type:at.deferred,deferredData:t,statusCode:(r=t.init)==null?void 0:r.status,headers:((s=t.init)==null?void 0:s.headers)&&new Headers(t.init.headers)}}return{type:at.data,data:t,statusCode:i}}function aP(e,t,n,i,r,s){let o=e.headers.get("Location");if(Le(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!G0.test(o)){let a=i.slice(0,i.findIndex(l=>l.route.id===n)+1);o=ev(new URL(t.url),a,r,!0,o,s),e.headers.set("Location",o)}return e}function wS(e,t,n){if(G0.test(e)){let i=e,r=i.startsWith("//")?new URL(t.protocol+i):new URL(i),s=cc(r.pathname,n)!=null;if(r.origin===t.origin&&s)return r.pathname+r.search+r.hash}return e}function nl(e,t,n,i){let r=e.createURL($1(t)).toString(),s={signal:n};if(i&&Ji(i.formMethod)){let{formMethod:o,formEncType:a}=i;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(i.json)):a==="text/plain"?s.body=i.text:a==="application/x-www-form-urlencoded"&&i.formData?s.body=tv(i.formData):s.body=i.formData}return new Request(r,s)}function tv(e){let t=new URLSearchParams;for(let[n,i]of e.entries())t.append(n,typeof i=="string"?i:i.name);return t}function SS(e){let t=new FormData;for(let[n,i]of e.entries())t.append(n,i);return t}function lP(e,t,n,i,r,s){let o={},a=null,l,c=!1,u={},d=i&&oi(i[1])?i[1].error:void 0;return n.forEach((h,p)=>{let f=t[p].route.id;if(Le(!oa(h),"Cannot handle redirect results in processLoaderData"),oi(h)){let g=h.error;d!==void 0&&(g=d,d=void 0),a=a||{};{let v=Pu(e,f);a[v.route.id]==null&&(a[v.route.id]=g)}o[f]=void 0,c||(c=!0,l=sg(h.error)?h.error.status:500),h.headers&&(u[f]=h.headers)}else sa(h)?(r.set(f,h.deferredData),o[f]=h.deferredData.data,h.statusCode!=null&&h.statusCode!==200&&!c&&(l=h.statusCode),h.headers&&(u[f]=h.headers)):(o[f]=h.data,h.statusCode&&h.statusCode!==200&&!c&&(l=h.statusCode),h.headers&&(u[f]=h.headers))}),d!==void 0&&i&&(a={[i[0]]:d},o[i[0]]=void 0),{loaderData:o,errors:a,statusCode:l||200,loaderHeaders:u}}function MS(e,t,n,i,r,s,o,a){let{loaderData:l,errors:c}=lP(t,n,i,r,a);for(let u=0;u<s.length;u++){let{key:d,match:h,controller:p}=s[u];Le(o!==void 0&&o[u]!==void 0,"Did not find corresponding fetcher result");let f=o[u];if(!(p&&p.signal.aborted))if(oi(f)){let g=Pu(e.matches,h==null?void 0:h.route.id);c&&c[g.route.id]||(c=bt({},c,{[g.route.id]:f.error})),e.fetchers.delete(d)}else if(oa(f))Le(!1,"Unhandled fetcher revalidation redirect");else if(sa(f))Le(!1,"Unhandled fetcher deferred data");else{let g=Fs(f.data);e.fetchers.set(d,g)}}return{loaderData:l,errors:c}}function DS(e,t,n,i){let r=bt({},t);for(let s of n){let o=s.route.id;if(t.hasOwnProperty(o)?t[o]!==void 0&&(r[o]=t[o]):e[o]!==void 0&&s.route.loader&&(r[o]=e[o]),i&&i.hasOwnProperty(o))break}return r}function kS(e){return e?oi(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Pu(e,t){return(t?e.slice(0,e.findIndex(i=>i.route.id===t)+1):[...e]).reverse().find(i=>i.route.hasErrorBoundary===!0)||e[0]}function CS(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Cn(e,t){let{pathname:n,routeId:i,method:r,type:s,message:o}=t===void 0?{}:t,a="Unknown Server Error",l="Unknown @remix-run/router error";return e===400?(a="Bad Request",s==="route-discovery"?l='Unable to match URL "'+n+'" - the `children()` function for '+("route `"+i+"` threw the following error:\n"+o):r&&n&&i?l="You made a "+r+' request to "'+n+'" but '+('did not provide a `loader` for route "'+i+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):e===403?(a="Forbidden",l='Route "'+i+'" does not match URL "'+n+'"'):e===404?(a="Not Found",l='No route matches URL "'+n+'"'):e===405&&(a="Method Not Allowed",r&&n&&i?l="You made a "+r.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+i+'", ')+"so there is no way to handle the request.":r&&(l='Invalid request method "'+r.toUpperCase()+'"')),new Y0(e||500,a,new Error(l),!0)}function LS(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(oa(n))return{result:n,idx:t}}}function $1(e){let t=typeof e=="string"?No(e):e;return La(bt({},t,{hash:""}))}function cP(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function uP(e){return typeof e=="object"&&e!=null&&"then"in e}function dP(e){return X1(e.result)&&$A.has(e.result.status)}function sa(e){return e.type===at.deferred}function oi(e){return e.type===at.error}function oa(e){return(e&&e.type)===at.redirect}function hP(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function X1(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function pP(e){return KA.has(e.toLowerCase())}function Ji(e){return UA.has(e.toLowerCase())}async function ES(e,t,n,i,r,s){for(let o=0;o<n.length;o++){let a=n[o],l=t[o];if(!l)continue;let c=e.find(d=>d.route.id===l.route.id),u=c!=null&&!V1(c,l)&&(s&&s[l.route.id])!==void 0;if(sa(a)&&(r||u)){let d=i[o];Le(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await Z1(a,d,r).then(h=>{h&&(n[o]=h||n[o])})}}}async function Z1(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:at.data,data:e.deferredData.unwrappedData}}catch(r){return{type:at.error,error:r}}return{type:at.data,data:e.deferredData.data}}}function j0(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function au(e,t){let n=typeof t=="string"?No(t).search:t.search;if(e[e.length-1].route.index&&j0(n||""))return e[e.length-1];let i=W1(e);return i[i.length-1]}function TS(e){let{formMethod:t,formAction:n,formEncType:i,text:r,formData:s,json:o}=e;if(!(!t||!n||!i)){if(r!=null)return{formMethod:t,formAction:n,formEncType:i,formData:void 0,json:void 0,text:r};if(s!=null)return{formMethod:t,formAction:n,formEncType:i,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:n,formEncType:i,formData:void 0,json:o,text:void 0}}}function Dm(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function fP(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Vc(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function gP(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Fs(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function mP(e,t){try{let n=e.sessionStorage.getItem(U1);if(n){let i=JSON.parse(n);for(let[r,s]of Object.entries(i||{}))s&&Array.isArray(s)&&t.set(r,new Set(s||[]))}}catch{}}function yP(e,t){if(t.size>0){let n={};for(let[i,r]of t)n[i]=[...r];try{e.sessionStorage.setItem(U1,JSON.stringify(n))}catch(i){Kl(!1,"Failed to save applied view transitions in sessionStorage ("+i+").")}}}/**
 * React Router v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cf(){return cf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},cf.apply(this,arguments)}const og=N.createContext(null),q1=N.createContext(null),Oa=N.createContext(null),W0=N.createContext(null),ks=N.createContext({outlet:null,matches:[],isDataRoute:!1}),Q1=N.createContext(null);function vP(e,t){let{relative:n}=t===void 0?{}:t;Hd()||Le(!1);let{basename:i,navigator:r}=N.useContext(Oa),{hash:s,pathname:o,search:a}=eC(e,{relative:n}),l=o;return i!=="/"&&(l=o==="/"?i:ds([i,o])),r.createHref({pathname:l,search:a,hash:s})}function Hd(){return N.useContext(W0)!=null}function ag(){return Hd()||Le(!1),N.useContext(W0).location}function J1(e){N.useContext(Oa).static||N.useLayoutEffect(e)}function xP(){let{isDataRoute:e}=N.useContext(ks);return e?PP():bP()}function bP(){Hd()||Le(!1);let e=N.useContext(og),{basename:t,future:n,navigator:i}=N.useContext(Oa),{matches:r}=N.useContext(ks),{pathname:s}=ag(),o=JSON.stringify(B0(r,n.v7_relativeSplatPath)),a=N.useRef(!1);return J1(()=>{a.current=!0}),N.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){i.go(c);return}let d=z0(c,JSON.parse(o),s,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:ds([t,d.pathname])),(u.replace?i.replace:i.push)(d,u.state,u)},[t,i,o,s,e])}const wP=N.createContext(null);function SP(e){let t=N.useContext(ks).outlet;return t&&N.createElement(wP.Provider,{value:e},t)}function MP(){let{matches:e}=N.useContext(ks),t=e[e.length-1];return t?t.params:{}}function eC(e,t){let{relative:n}=t===void 0?{}:t,{future:i}=N.useContext(Oa),{matches:r}=N.useContext(ks),{pathname:s}=ag(),o=JSON.stringify(B0(r,i.v7_relativeSplatPath));return N.useMemo(()=>z0(e,JSON.parse(o),s,n==="path"),[e,o,s,n])}function DP(e,t,n,i){Hd()||Le(!1);let{navigator:r}=N.useContext(Oa),{matches:s}=N.useContext(ks),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=ag(),u;u=c;let d=u.pathname||"/",h=d;if(l!=="/"){let g=l.replace(/^\//,"").split("/");h="/"+d.replace(/^\//,"").split("/").slice(g.length).join("/")}let p=ta(e,{pathname:h});return TP(p&&p.map(g=>Object.assign({},g,{params:Object.assign({},a,g.params),pathname:ds([l,r.encodeLocation?r.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?l:ds([l,r.encodeLocation?r.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),s,n,i)}function kP(){let e=AP(),t=sg(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),n?N.createElement("pre",{style:r},n):null,null)}const CP=N.createElement(kP,null);class LP extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?N.createElement(ks.Provider,{value:this.props.routeContext},N.createElement(Q1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function EP(e){let{routeContext:t,match:n,children:i}=e,r=N.useContext(og);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(ks.Provider,{value:t},i)}function TP(e,t,n,i){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),i===void 0&&(i=null),e==null){var s;if((s=n)!=null&&s.errors)e=n.matches;else return null}let o=e,a=(r=n)==null?void 0:r.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||Le(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&i&&i.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:p}=n,f=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||f){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,h)=>{let p,f=!1,g=null,v=null;n&&(p=a&&d.route.id?a[d.route.id]:void 0,g=d.route.errorElement||CP,l&&(c<0&&h===0?(OP("route-fallback"),f=!0,v=null):c===h&&(f=!0,v=d.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,h+1)),m=()=>{let x;return p?x=g:f?x=v:d.route.Component?x=N.createElement(d.route.Component,null):d.route.element?x=d.route.element:x=u,N.createElement(EP,{match:d,routeContext:{outlet:u,matches:y,isDataRoute:n!=null},children:x})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?N.createElement(LP,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:m(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):m()},null)}var tC=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(tC||{}),uf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(uf||{});function IP(e){let t=N.useContext(og);return t||Le(!1),t}function NP(e){let t=N.useContext(q1);return t||Le(!1),t}function RP(e){let t=N.useContext(ks);return t||Le(!1),t}function nC(e){let t=RP(),n=t.matches[t.matches.length-1];return n.route.id||Le(!1),n.route.id}function AP(){var e;let t=N.useContext(Q1),n=NP(uf.UseRouteError),i=nC(uf.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[i]}function PP(){let{router:e}=IP(tC.UseNavigateStable),t=nC(uf.UseNavigateStable),n=N.useRef(!1);return J1(()=>{n.current=!0}),N.useCallback(function(r,s){s===void 0&&(s={}),n.current&&(typeof r=="number"?e.navigate(r):e.navigate(r,cf({fromRouteId:t},s)))},[e,t])}const IS={};function OP(e,t,n){IS[e]||(IS[e]=!0)}function _P(e){return SP(e.context)}function FP(e){let{basename:t="/",children:n=null,location:i,navigationType:r=Bt.Pop,navigator:s,static:o=!1,future:a}=e;Hd()&&Le(!1);let l=t.replace(/^\/*/,"/"),c=N.useMemo(()=>({basename:l,navigator:s,static:o,future:cf({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof i=="string"&&(i=No(i));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:f="default"}=i,g=N.useMemo(()=>{let v=cc(u,l);return v==null?null:{location:{pathname:v,search:d,hash:h,state:p,key:f},navigationType:r}},[l,u,d,h,p,f,r]);return g==null?null:N.createElement(Oa.Provider,{value:c},N.createElement(W0.Provider,{children:n,value:g}))}new Promise(()=>{});function BP(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:N.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:N.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:N.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dd(){return dd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},dd.apply(this,arguments)}function zP(e,t){if(e==null)return{};var n={},i=Object.keys(e),r,s;for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function YP(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function GP(e,t){return e.button===0&&(!t||t==="_self")&&!YP(e)}const jP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],WP="6";try{window.__reactRouterVersion=WP}catch{}function HP(e,t){return QA({basename:void 0,future:dd({},void 0,{v7_prependBasename:!0}),history:SA({window:void 0}),hydrationData:UP(),routes:e,mapRouteProperties:BP,unstable_dataStrategy:void 0,unstable_patchRoutesOnMiss:void 0,window:void 0}).initialize()}function UP(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=dd({},t,{errors:VP(t.errors)})),t}function VP(e){if(!e)return null;let t=Object.entries(e),n={};for(let[i,r]of t)if(r&&r.__type==="RouteErrorResponse")n[i]=new Y0(r.status,r.statusText,r.data,r.internal===!0);else if(r&&r.__type==="Error"){if(r.__subType){let s=window[r.__subType];if(typeof s=="function")try{let o=new s(r.message);o.stack="",n[i]=o}catch{}}if(n[i]==null){let s=new Error(r.message);s.stack="",n[i]=s}}else n[i]=r;return n}const KP=N.createContext({isTransitioning:!1}),$P=N.createContext(new Map),XP="startTransition",NS=FD[XP],ZP="flushSync",RS=wA[ZP];function qP(e){NS?NS(e):e()}function Kc(e){RS?RS(e):e()}class QP{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",t(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",n(i))}})}}function JP(e){let{fallbackElement:t,router:n,future:i}=e,[r,s]=N.useState(n.state),[o,a]=N.useState(),[l,c]=N.useState({isTransitioning:!1}),[u,d]=N.useState(),[h,p]=N.useState(),[f,g]=N.useState(),v=N.useRef(new Map),{v7_startTransition:y}=i||{},m=N.useCallback(C=>{y?qP(C):C()},[y]),x=N.useCallback((C,k)=>{let{deletedFetchers:L,unstable_flushSync:T,unstable_viewTransitionOpts:O}=k;L.forEach(E=>v.current.delete(E)),C.fetchers.forEach((E,_)=>{E.data!==void 0&&v.current.set(_,E.data)});let Y=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!O||Y){T?Kc(()=>s(C)):m(()=>s(C));return}if(T){Kc(()=>{h&&(u&&u.resolve(),h.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:O.currentLocation,nextLocation:O.nextLocation})});let E=n.window.document.startViewTransition(()=>{Kc(()=>s(C))});E.finished.finally(()=>{Kc(()=>{d(void 0),p(void 0),a(void 0),c({isTransitioning:!1})})}),Kc(()=>p(E));return}h?(u&&u.resolve(),h.skipTransition(),g({state:C,currentLocation:O.currentLocation,nextLocation:O.nextLocation})):(a(C),c({isTransitioning:!0,flushSync:!1,currentLocation:O.currentLocation,nextLocation:O.nextLocation}))},[n.window,h,u,v,m]);N.useLayoutEffect(()=>n.subscribe(x),[n,x]),N.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new QP)},[l]),N.useEffect(()=>{if(u&&o&&n.window){let C=o,k=u.promise,L=n.window.document.startViewTransition(async()=>{m(()=>s(C)),await k});L.finished.finally(()=>{d(void 0),p(void 0),a(void 0),c({isTransitioning:!1})}),p(L)}},[m,o,u,n.window]),N.useEffect(()=>{u&&o&&r.location.key===o.location.key&&u.resolve()},[u,h,r.location,o]),N.useEffect(()=>{!l.isTransitioning&&f&&(a(f.state),c({isTransitioning:!0,flushSync:!1,currentLocation:f.currentLocation,nextLocation:f.nextLocation}),g(void 0))},[l.isTransitioning,f]),N.useEffect(()=>{},[]);let S=N.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:C=>n.navigate(C),push:(C,k,L)=>n.navigate(C,{state:k,preventScrollReset:L==null?void 0:L.preventScrollReset}),replace:(C,k,L)=>n.navigate(C,{replace:!0,state:k,preventScrollReset:L==null?void 0:L.preventScrollReset})}),[n]),D=n.basename||"/",M=N.useMemo(()=>({router:n,navigator:S,static:!1,basename:D}),[n,S,D]);return N.createElement(N.Fragment,null,N.createElement(og.Provider,{value:M},N.createElement(q1.Provider,{value:r},N.createElement($P.Provider,{value:v.current},N.createElement(KP.Provider,{value:l},N.createElement(FP,{basename:D,location:r.location,navigationType:r.historyAction,navigator:S,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},r.initialized||n.future.v7_partialHydration?N.createElement(eO,{routes:n.routes,future:n.future,state:r}):t))))),null)}function eO(e){let{routes:t,future:n,state:i}=e;return DP(t,void 0,i,n)}const tO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_h=N.forwardRef(function(t,n){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:d}=t,h=zP(t,jP),{basename:p}=N.useContext(Oa),f,g=!1;if(typeof c=="string"&&nO.test(c)&&(f=c,tO))try{let x=new URL(window.location.href),S=c.startsWith("//")?new URL(x.protocol+c):new URL(c),D=cc(S.pathname,p);S.origin===x.origin&&D!=null?c=D+S.search+S.hash:g=!0}catch{}let v=vP(c,{relative:r}),y=iO(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:r,unstable_viewTransition:d});function m(x){i&&i(x),x.defaultPrevented||y(x)}return N.createElement("a",dd({},h,{href:f||v,onClick:g||s?i:m,ref:n,target:l}))});var AS;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(AS||(AS={}));var PS;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(PS||(PS={}));function iO(e,t){let{target:n,replace:i,state:r,preventScrollReset:s,relative:o,unstable_viewTransition:a}=t===void 0?{}:t,l=xP(),c=ag(),u=eC(e,{relative:o});return N.useCallback(d=>{if(GP(d,n)){d.preventDefault();let h=i!==void 0?i:La(c)===La(u);l(e,{replace:h,state:r,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,l,u,i,r,n,e,s,o,a])}const rO=()=>U.jsxs("section",{className:"grid-container grid-columns",children:[U.jsx("div",{children:"Your tracked symbols:"}),U.jsx("div",{children:"Your recent sell signals:"}),U.jsx("div",{children:"Your recent buy signals:"}),U.jsx("div",{children:"Most recent signals:"})]});function iC(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=iC(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function Jt(){for(var e,t,n=0,i="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=iC(e))&&(i&&(i+=" "),i+=t);return i}function sO(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,nv(e,t)}function nv(e,t){return nv=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},nv(e,t)}function oO(e,t){if(e==null)return{};var n={},i=Object.keys(e),r,s;for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function OS(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aO(e,t,n){return e===t?!0:e.correspondingElement?e.correspondingElement.classList.contains(n):e.classList.contains(n)}function lO(e,t,n){if(e===t)return!0;for(;e.parentNode||e.host;){if(e.parentNode&&aO(e,t,n))return!0;e=e.parentNode||e.host}return e}function cO(e){return document.documentElement.clientWidth<=e.clientX||document.documentElement.clientHeight<=e.clientY}var uO=function(){if(!(typeof window>"u"||typeof window.addEventListener!="function")){var t=!1,n=Object.defineProperty({},"passive",{get:function(){t=!0}}),i=function(){};return window.addEventListener("testPassiveEventSupport",i,n),window.removeEventListener("testPassiveEventSupport",i,n),t}};function dO(e){return e===void 0&&(e=0),function(){return++e}}var hO=dO(),iv,Fh={},km={},pO=["touchstart","touchmove"],fO="ignore-react-onclickoutside";function _S(e,t){var n={},i=pO.indexOf(t)!==-1;return i&&iv&&(n.passive=!e.props.preventDefault),n}function lg(e,t){var n,i,r=e.displayName||e.name||"Component";return i=n=function(s){sO(o,s);function o(l){var c;return c=s.call(this,l)||this,c.__outsideClickHandler=function(u){if(typeof c.__clickOutsideHandlerProp=="function"){c.__clickOutsideHandlerProp(u);return}var d=c.getInstance();if(typeof d.props.handleClickOutside=="function"){d.props.handleClickOutside(u);return}if(typeof d.handleClickOutside=="function"){d.handleClickOutside(u);return}throw new Error("WrappedComponent: "+r+" lacks a handleClickOutside(event) function for processing outside click events.")},c.__getComponentNode=function(){var u=c.getInstance();return typeof u.setClickOutsideRef=="function"?u.setClickOutsideRef():Wd.findDOMNode(u)},c.enableOnClickOutside=function(){if(!(typeof document>"u"||km[c._uid])){typeof iv>"u"&&(iv=uO()),km[c._uid]=!0;var u=c.props.eventTypes;u.forEach||(u=[u]),Fh[c._uid]=function(d){if(c.componentNode!==null&&!(c.initTimeStamp>d.timeStamp)&&(c.props.preventDefault&&d.preventDefault(),c.props.stopPropagation&&d.stopPropagation(),!(c.props.excludeScrollbar&&cO(d)))){var h=d.composed&&d.composedPath&&d.composedPath().shift()||d.target;lO(h,c.componentNode,c.props.outsideClickIgnoreClass)===document&&c.__outsideClickHandler(d)}},u.forEach(function(d){document.addEventListener(d,Fh[c._uid],_S(OS(c),d))})}},c.disableOnClickOutside=function(){delete km[c._uid];var u=Fh[c._uid];if(u&&typeof document<"u"){var d=c.props.eventTypes;d.forEach||(d=[d]),d.forEach(function(h){return document.removeEventListener(h,u,_S(OS(c),h))}),delete Fh[c._uid]}},c.getRef=function(u){return c.instanceRef=u},c._uid=hO(),c.initTimeStamp=performance.now(),c}var a=o.prototype;return a.getInstance=function(){if(e.prototype&&!e.prototype.isReactComponent)return this;var c=this.instanceRef;return c.getInstance?c.getInstance():c},a.componentDidMount=function(){typeof document>"u"||!document.createElement||(this.getInstance(),this.componentNode=this.__getComponentNode(),!this.props.disableOnClickOutside&&this.enableOnClickOutside())},a.componentDidUpdate=function(){this.componentNode=this.__getComponentNode()},a.componentWillUnmount=function(){this.disableOnClickOutside()},a.render=function(){var c=this.props;c.excludeScrollbar;var u=oO(c,["excludeScrollbar"]);return e.prototype&&e.prototype.isReactComponent?u.ref=this.getRef:u.wrappedRef=this.getRef,u.disableOnClickOutside=this.disableOnClickOutside,u.enableOnClickOutside=this.enableOnClickOutside,N.createElement(e,u)},o}(N.Component),n.displayName="OnClickOutside("+r+")",n.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:!1,outsideClickIgnoreClass:fO,preventDefault:!1,stopPropagation:!1},n.getClass=function(){return e.getClass?e.getClass():e},i}function se(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Xe(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Ro(e,t){const n=se(e);return isNaN(t)?Xe(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function H0(e,t){const n=+se(e);return Xe(e,n+t)}const rC=6048e5,gO=864e5,cg=6e4,ug=36e5,mO=1e3;function yO(e,t){return H0(e,t*ug)}function rv(e,t){return H0(e,t*cg)}function or(e,t){const n=se(e);if(isNaN(t))return Xe(e,NaN);if(!t)return n;const i=n.getDate(),r=Xe(e,n.getTime());r.setMonth(n.getMonth()+t+1,0);const s=r.getDate();return i>=s?r:(n.setFullYear(r.getFullYear(),r.getMonth(),i),n)}function U0(e,t){const n=t*3;return or(e,n)}function vO(e,t){return H0(e,t*1e3)}function df(e,t){const n=t*7;return Ro(e,n)}function hs(e,t){return or(e,t*12)}function Ea(e){const t=se(e);return t.setHours(0,0,0,0),t}function hf(e){const t=se(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function hd(e,t){const n=Ea(e),i=Ea(t),r=+n-hf(n),s=+i-hf(i);return Math.round((r-s)/gO)}function pf(e,t){const n=se(e),i=se(t),r=n.getFullYear()-i.getFullYear(),s=n.getMonth()-i.getMonth();return r*12+s}function fa(e){const t=se(e);return Math.trunc(t.getMonth()/3)+1}function ff(e,t){const n=se(e),i=se(t),r=n.getFullYear()-i.getFullYear(),s=fa(n)-fa(i);return r*4+s}function gf(e,t){const n=se(e),i=se(t);return n.getFullYear()-i.getFullYear()}function sC(e){const t=se(e);return t.setHours(23,59,59,999),t}function xO(e){const t=se(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}let bO={};function _a(){return bO}function wO(e,t){var a,l;const n=_a(),i=n.weekStartsOn??((l=(a=n.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??0,r=se(e),s=r.getDay(),o=(s<i?-7:0)+6-(s-i);return r.setDate(r.getDate()+o),r.setHours(23,59,59,999),r}function oC(e){const t=se(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}const SO={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},MO=(e,t,n)=>{let i;const r=SO[e];return typeof r=="string"?i=r:t===1?i=r.one:i=r.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function Cm(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const DO={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},kO={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},CO={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},LO={date:Cm({formats:DO,defaultWidth:"full"}),time:Cm({formats:kO,defaultWidth:"full"}),dateTime:Cm({formats:CO,defaultWidth:"full"})},EO={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},TO=(e,t,n,i)=>EO[e];function $c(e){return(t,n)=>{const i=n!=null&&n.context?String(n.context):"standalone";let r;if(i==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,a=n!=null&&n.width?String(n.width):o;r=e.formattingValues[a]||e.formattingValues[o]}else{const o=e.defaultWidth,a=n!=null&&n.width?String(n.width):e.defaultWidth;r=e.values[a]||e.values[o]}const s=e.argumentCallback?e.argumentCallback(t):t;return r[s]}}const IO={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},NO={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},RO={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},AO={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},PO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},OO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},_O=(e,t)=>{const n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},FO={ordinalNumber:_O,era:$c({values:IO,defaultWidth:"wide"}),quarter:$c({values:NO,defaultWidth:"wide",argumentCallback:e=>e-1}),month:$c({values:RO,defaultWidth:"wide"}),day:$c({values:AO,defaultWidth:"wide"}),dayPeriod:$c({values:PO,defaultWidth:"wide",formattingValues:OO,defaultFormattingWidth:"wide"})};function Xc(e){return(t,n={})=>{const i=n.width,r=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],s=t.match(r);if(!s)return null;const o=s[0],a=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?zO(a,d=>d.test(o)):BO(a,d=>d.test(o));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=t.slice(o.length);return{value:c,rest:u}}}function BO(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function zO(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function YO(e){return(t,n={})=>{const i=t.match(e.matchPattern);if(!i)return null;const r=i[0],s=t.match(e.parsePattern);if(!s)return null;let o=e.valueCallback?e.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=t.slice(r.length);return{value:o,rest:a}}}const GO=/^(\d+)(th|st|nd|rd)?/i,jO=/\d+/i,WO={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},HO={any:[/^b/i,/^(a|c)/i]},UO={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},VO={any:[/1/i,/2/i,/3/i,/4/i]},KO={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},$O={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},XO={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ZO={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},qO={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},QO={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},JO={ordinalNumber:YO({matchPattern:GO,parsePattern:jO,valueCallback:e=>parseInt(e,10)}),era:Xc({matchPatterns:WO,defaultMatchWidth:"wide",parsePatterns:HO,defaultParseWidth:"any"}),quarter:Xc({matchPatterns:UO,defaultMatchWidth:"wide",parsePatterns:VO,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Xc({matchPatterns:KO,defaultMatchWidth:"wide",parsePatterns:$O,defaultParseWidth:"any"}),day:Xc({matchPatterns:XO,defaultMatchWidth:"wide",parsePatterns:ZO,defaultParseWidth:"any"}),dayPeriod:Xc({matchPatterns:qO,defaultMatchWidth:"any",parsePatterns:QO,defaultParseWidth:"any"})},aC={code:"en-US",formatDistance:MO,formatLong:LO,formatRelative:TO,localize:FO,match:JO,options:{weekStartsOn:0,firstWeekContainsDate:1}};function dg(e){const t=se(e),n=Xe(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function e_(e){const t=se(e);return hd(t,dg(t))+1}function ws(e,t){var a,l,c,u;const n=_a(),i=(t==null?void 0:t.weekStartsOn)??((l=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,r=se(e),s=r.getDay(),o=(s<i?7:0)+s-i;return r.setDate(r.getDate()-o),r.setHours(0,0,0,0),r}function $l(e){return ws(e,{weekStartsOn:1})}function lC(e){const t=se(e),n=t.getFullYear(),i=Xe(e,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const r=$l(i),s=Xe(e,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=$l(s);return t.getTime()>=r.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function t_(e){const t=lC(e),n=Xe(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),$l(n)}function V0(e){const t=se(e),n=+$l(t)-+t_(t);return Math.round(n/rC)+1}function K0(e,t){var u,d,h,p;const n=se(e),i=n.getFullYear(),r=_a(),s=(t==null?void 0:t.firstWeekContainsDate)??((d=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=Xe(e,0);o.setFullYear(i+1,0,s),o.setHours(0,0,0,0);const a=ws(o,t),l=Xe(e,0);l.setFullYear(i,0,s),l.setHours(0,0,0,0);const c=ws(l,t);return n.getTime()>=a.getTime()?i+1:n.getTime()>=c.getTime()?i:i-1}function n_(e,t){var a,l,c,u;const n=_a(),i=(t==null?void 0:t.firstWeekContainsDate)??((l=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,r=K0(e,t),s=Xe(e,0);return s.setFullYear(r,0,i),s.setHours(0,0,0,0),ws(s,t)}function cC(e,t){const n=se(e),i=+ws(n,t)-+n_(n,t);return Math.round(i/rC)+1}function $e(e,t){const n=e<0?"-":"",i=Math.abs(e).toString().padStart(t,"0");return n+i}const _s={y(e,t){const n=e.getFullYear(),i=n>0?n:1-n;return $e(t==="yy"?i%100:i,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):$e(n+1,2)},d(e,t){return $e(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return $e(e.getHours()%12||12,t.length)},H(e,t){return $e(e.getHours(),t.length)},m(e,t){return $e(e.getMinutes(),t.length)},s(e,t){return $e(e.getSeconds(),t.length)},S(e,t){const n=t.length,i=e.getMilliseconds(),r=Math.trunc(i*Math.pow(10,n-3));return $e(r,t.length)}},il={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},FS={G:function(e,t,n){const i=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const i=e.getFullYear(),r=i>0?i:1-i;return n.ordinalNumber(r,{unit:"year"})}return _s.y(e,t)},Y:function(e,t,n,i){const r=K0(e,i),s=r>0?r:1-r;if(t==="YY"){const o=s%100;return $e(o,2)}return t==="Yo"?n.ordinalNumber(s,{unit:"year"}):$e(s,t.length)},R:function(e,t){const n=lC(e);return $e(n,t.length)},u:function(e,t){const n=e.getFullYear();return $e(n,t.length)},Q:function(e,t,n){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return $e(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,t,n){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return $e(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,t,n){const i=e.getMonth();switch(t){case"M":case"MM":return _s.M(e,t);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,t,n){const i=e.getMonth();switch(t){case"L":return String(i+1);case"LL":return $e(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(e,t,n,i){const r=cC(e,i);return t==="wo"?n.ordinalNumber(r,{unit:"week"}):$e(r,t.length)},I:function(e,t,n){const i=V0(e);return t==="Io"?n.ordinalNumber(i,{unit:"week"}):$e(i,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):_s.d(e,t)},D:function(e,t,n){const i=e_(e);return t==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):$e(i,t.length)},E:function(e,t,n){const i=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(e,t,n,i){const r=e.getDay(),s=(r-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return $e(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(e,t,n,i){const r=e.getDay(),s=(r-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return $e(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(e,t,n){const i=e.getDay(),r=i===0?7:i;switch(t){case"i":return String(r);case"ii":return $e(r,t.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const i=e.getHours();let r;switch(i===12?r=il.noon:i===0?r=il.midnight:r=i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){const i=e.getHours();let r;switch(i>=17?r=il.evening:i>=12?r=il.afternoon:i>=4?r=il.morning:r=il.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let i=e.getHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return _s.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):_s.H(e,t)},K:function(e,t,n){const i=e.getHours()%12;return t==="Ko"?n.ordinalNumber(i,{unit:"hour"}):$e(i,t.length)},k:function(e,t,n){let i=e.getHours();return i===0&&(i=24),t==="ko"?n.ordinalNumber(i,{unit:"hour"}):$e(i,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):_s.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):_s.s(e,t)},S:function(e,t){return _s.S(e,t)},X:function(e,t,n){const i=e.getTimezoneOffset();if(i===0)return"Z";switch(t){case"X":return zS(i);case"XXXX":case"XX":return qo(i);case"XXXXX":case"XXX":default:return qo(i,":")}},x:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"x":return zS(i);case"xxxx":case"xx":return qo(i);case"xxxxx":case"xxx":default:return qo(i,":")}},O:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+BS(i,":");case"OOOO":default:return"GMT"+qo(i,":")}},z:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+BS(i,":");case"zzzz":default:return"GMT"+qo(i,":")}},t:function(e,t,n){const i=Math.trunc(e.getTime()/1e3);return $e(i,t.length)},T:function(e,t,n){const i=e.getTime();return $e(i,t.length)}};function BS(e,t=""){const n=e>0?"-":"+",i=Math.abs(e),r=Math.trunc(i/60),s=i%60;return s===0?n+String(r):n+String(r)+t+$e(s,2)}function zS(e,t){return e%60===0?(e>0?"-":"+")+$e(Math.abs(e)/60,2):qo(e,t)}function qo(e,t=""){const n=e>0?"-":"+",i=Math.abs(e),r=$e(Math.trunc(i/60),2),s=$e(i%60,2);return n+r+t+s}const YS=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},uC=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},i_=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],i=n[1],r=n[2];if(!r)return YS(e,t);let s;switch(i){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",YS(i,t)).replace("{{time}}",uC(r,t))},mf={p:uC,P:i_},r_=/^D+$/,s_=/^Y+$/,o_=["D","DD","YY","YYYY"];function dC(e){return r_.test(e)}function hC(e){return s_.test(e)}function sv(e,t,n){const i=a_(e,t,n);if(console.warn(i),o_.includes(e))throw new RangeError(i)}function a_(e,t,n){const i=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}function ps(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function yf(e){if(!ps(e)&&typeof e!="number")return!1;const t=se(e);return!isNaN(Number(t))}const l_=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,c_=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,u_=/^'([^]*?)'?$/,d_=/''/g,h_=/[a-zA-Z]/;function GS(e,t,n){var u,d,h,p,f,g,v,y;const i=_a(),r=(n==null?void 0:n.locale)??i.locale??aC,s=(n==null?void 0:n.firstWeekContainsDate)??((d=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(h=i.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((g=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:g.weekStartsOn)??i.weekStartsOn??((y=(v=i.locale)==null?void 0:v.options)==null?void 0:y.weekStartsOn)??0,a=se(e);if(!yf(a))throw new RangeError("Invalid time value");let l=t.match(c_).map(m=>{const x=m[0];if(x==="p"||x==="P"){const S=mf[x];return S(m,r.formatLong)}return m}).join("").match(l_).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const x=m[0];if(x==="'")return{isToken:!1,value:p_(m)};if(FS[x])return{isToken:!0,value:m};if(x.match(h_))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:m}});r.localize.preprocessor&&(l=r.localize.preprocessor(a,l));const c={firstWeekContainsDate:s,weekStartsOn:o,locale:r};return l.map(m=>{if(!m.isToken)return m.value;const x=m.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&hC(x)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&dC(x))&&sv(x,t,String(e));const S=FS[x[0]];return S(a,x,r.localize,c)}).join("")}function p_(e){const t=e.match(u_);return t?t[1].replace(d_,"'"):e}function jS(e){return se(e).getDate()}function f_(e){return se(e).getDay()}function Or(e){return se(e).getHours()}function _r(e){return se(e).getMinutes()}function In(e){return se(e).getMonth()}function fs(e){return se(e).getSeconds()}function ov(e){return se(e).getTime()}function Ee(e){return se(e).getFullYear()}function bo(e,t){const n=se(e),i=se(t);return n.getTime()>i.getTime()}function Ta(e,t){const n=se(e),i=se(t);return+n<+i}function g_(e,t){const n=se(e),i=se(t);return+n==+i}function m_(e,t){const n=Ea(e),i=Ea(t);return+n==+i}function y_(e,t){const n=se(e),i=se(t);return n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()}function av(e){const t=se(e),n=t.getMonth(),i=n-n%3;return t.setMonth(i,1),t.setHours(0,0,0,0),t}function v_(e,t){const n=av(e),i=av(t);return+n==+i}function x_(e,t){const n=se(e),i=se(t);return n.getFullYear()===i.getFullYear()}function pd(e,t){const n=+se(e),[i,r]=[+se(t.start),+se(t.end)].sort((s,o)=>s-o);return n>=i&&n<=r}function WS(e){let t;return e.forEach(function(n){const i=se(n);(t===void 0||t<i||isNaN(Number(i)))&&(t=i)}),t||new Date(NaN)}function HS(e){let t;return e.forEach(n=>{const i=se(n);(!t||t>i||isNaN(+i))&&(t=i)}),t||new Date(NaN)}function b_(){return Object.assign({},_a())}function w_(e,t){const n=t instanceof Date?Xe(t,0):new t(0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}const S_=10;class pC{constructor(){ie(this,"subPriority",0)}validate(t,n){return!0}}class M_ extends pC{constructor(t,n,i,r,s){super(),this.value=t,this.validateValue=n,this.setValue=i,this.priority=r,s&&(this.subPriority=s)}validate(t,n){return this.validateValue(t,this.value,n)}set(t,n,i){return this.setValue(t,n,this.value,i)}}class D_ extends pC{constructor(){super(...arguments);ie(this,"priority",S_);ie(this,"subPriority",-1)}set(n,i){return i.timestampIsSet?n:Xe(n,w_(n,Date))}}class We{run(t,n,i,r){const s=this.parse(t,n,i,r);return s?{setter:new M_(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(t,n,i){return!0}}class k_ extends We{constructor(){super(...arguments);ie(this,"priority",140);ie(this,"incompatibleTokens",["R","u","t","T"])}parse(n,i,r){switch(i){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"})||r.era(n,{width:"narrow"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})||r.era(n,{width:"abbreviated"})||r.era(n,{width:"narrow"})}}set(n,i,r){return i.era=r,n.setFullYear(r,0,1),n.setHours(0,0,0,0),n}}const At={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Lr={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Pt(e,t){return e&&{value:t(e.value),rest:e.rest}}function St(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function Er(e,t){const n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};const i=n[1]==="+"?1:-1,r=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:i*(r*ug+s*cg+o*mO),rest:t.slice(n[0].length)}}function fC(e){return St(At.anyDigitsSigned,e)}function It(e,t){switch(e){case 1:return St(At.singleDigit,t);case 2:return St(At.twoDigits,t);case 3:return St(At.threeDigits,t);case 4:return St(At.fourDigits,t);default:return St(new RegExp("^\\d{1,"+e+"}"),t)}}function vf(e,t){switch(e){case 1:return St(At.singleDigitSigned,t);case 2:return St(At.twoDigitsSigned,t);case 3:return St(At.threeDigitsSigned,t);case 4:return St(At.fourDigitsSigned,t);default:return St(new RegExp("^-?\\d{1,"+e+"}"),t)}}function $0(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function gC(e,t){const n=t>0,i=n?t:1-t;let r;if(i<=50)r=e||100;else{const s=i+50,o=Math.trunc(s/100)*100,a=e>=s%100;r=e+o-(a?100:0)}return n?r:1-r}function mC(e){return e%400===0||e%4===0&&e%100!==0}class C_ extends We{constructor(){super(...arguments);ie(this,"priority",130);ie(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,i,r){const s=o=>({year:o,isTwoDigitYear:i==="yy"});switch(i){case"y":return Pt(It(4,n),s);case"yo":return Pt(r.ordinalNumber(n,{unit:"year"}),s);default:return Pt(It(i.length,n),s)}}validate(n,i){return i.isTwoDigitYear||i.year>0}set(n,i,r){const s=n.getFullYear();if(r.isTwoDigitYear){const a=gC(r.year,s);return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}const o=!("era"in i)||i.era===1?r.year:1-r.year;return n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}}class L_ extends We{constructor(){super(...arguments);ie(this,"priority",130);ie(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,i,r){const s=o=>({year:o,isTwoDigitYear:i==="YY"});switch(i){case"Y":return Pt(It(4,n),s);case"Yo":return Pt(r.ordinalNumber(n,{unit:"year"}),s);default:return Pt(It(i.length,n),s)}}validate(n,i){return i.isTwoDigitYear||i.year>0}set(n,i,r,s){const o=K0(n,s);if(r.isTwoDigitYear){const l=gC(r.year,o);return n.setFullYear(l,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),ws(n,s)}const a=!("era"in i)||i.era===1?r.year:1-r.year;return n.setFullYear(a,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),ws(n,s)}}class E_ extends We{constructor(){super(...arguments);ie(this,"priority",130);ie(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,i){return vf(i==="R"?4:i.length,n)}set(n,i,r){const s=Xe(n,0);return s.setFullYear(r,0,4),s.setHours(0,0,0,0),$l(s)}}class T_ extends We{constructor(){super(...arguments);ie(this,"priority",130);ie(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,i){return vf(i==="u"?4:i.length,n)}set(n,i,r){return n.setFullYear(r,0,1),n.setHours(0,0,0,0),n}}class I_ extends We{constructor(){super(...arguments);ie(this,"priority",120);ie(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,i,r){switch(i){case"Q":case"QQ":return It(i.length,n);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"})||r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})||r.quarter(n,{width:"abbreviated",context:"formatting"})||r.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,i){return i>=1&&i<=4}set(n,i,r){return n.setMonth((r-1)*3,1),n.setHours(0,0,0,0),n}}class N_ extends We{constructor(){super(...arguments);ie(this,"priority",120);ie(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,i,r){switch(i){case"q":case"qq":return It(i.length,n);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"})||r.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})||r.quarter(n,{width:"abbreviated",context:"standalone"})||r.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,i){return i>=1&&i<=4}set(n,i,r){return n.setMonth((r-1)*3,1),n.setHours(0,0,0,0),n}}class R_ extends We{constructor(){super(...arguments);ie(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);ie(this,"priority",110)}parse(n,i,r){const s=o=>o-1;switch(i){case"M":return Pt(St(At.month,n),s);case"MM":return Pt(It(2,n),s);case"Mo":return Pt(r.ordinalNumber(n,{unit:"month"}),s);case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"})||r.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})||r.month(n,{width:"abbreviated",context:"formatting"})||r.month(n,{width:"narrow",context:"formatting"})}}validate(n,i){return i>=0&&i<=11}set(n,i,r){return n.setMonth(r,1),n.setHours(0,0,0,0),n}}class A_ extends We{constructor(){super(...arguments);ie(this,"priority",110);ie(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,i,r){const s=o=>o-1;switch(i){case"L":return Pt(St(At.month,n),s);case"LL":return Pt(It(2,n),s);case"Lo":return Pt(r.ordinalNumber(n,{unit:"month"}),s);case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"})||r.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})||r.month(n,{width:"abbreviated",context:"standalone"})||r.month(n,{width:"narrow",context:"standalone"})}}validate(n,i){return i>=0&&i<=11}set(n,i,r){return n.setMonth(r,1),n.setHours(0,0,0,0),n}}function P_(e,t,n){const i=se(e),r=cC(i,n)-t;return i.setDate(i.getDate()-r*7),i}class O_ extends We{constructor(){super(...arguments);ie(this,"priority",100);ie(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,i,r){switch(i){case"w":return St(At.week,n);case"wo":return r.ordinalNumber(n,{unit:"week"});default:return It(i.length,n)}}validate(n,i){return i>=1&&i<=53}set(n,i,r,s){return ws(P_(n,r,s),s)}}function __(e,t){const n=se(e),i=V0(n)-t;return n.setDate(n.getDate()-i*7),n}class F_ extends We{constructor(){super(...arguments);ie(this,"priority",100);ie(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,i,r){switch(i){case"I":return St(At.week,n);case"Io":return r.ordinalNumber(n,{unit:"week"});default:return It(i.length,n)}}validate(n,i){return i>=1&&i<=53}set(n,i,r){return $l(__(n,r))}}const B_=[31,28,31,30,31,30,31,31,30,31,30,31],z_=[31,29,31,30,31,30,31,31,30,31,30,31];class Y_ extends We{constructor(){super(...arguments);ie(this,"priority",90);ie(this,"subPriority",1);ie(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,i,r){switch(i){case"d":return St(At.date,n);case"do":return r.ordinalNumber(n,{unit:"date"});default:return It(i.length,n)}}validate(n,i){const r=n.getFullYear(),s=mC(r),o=n.getMonth();return s?i>=1&&i<=z_[o]:i>=1&&i<=B_[o]}set(n,i,r){return n.setDate(r),n.setHours(0,0,0,0),n}}class G_ extends We{constructor(){super(...arguments);ie(this,"priority",90);ie(this,"subpriority",1);ie(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,i,r){switch(i){case"D":case"DD":return St(At.dayOfYear,n);case"Do":return r.ordinalNumber(n,{unit:"date"});default:return It(i.length,n)}}validate(n,i){const r=n.getFullYear();return mC(r)?i>=1&&i<=366:i>=1&&i<=365}set(n,i,r){return n.setMonth(0,r),n.setHours(0,0,0,0),n}}function X0(e,t,n){var d,h,p,f;const i=_a(),r=(n==null?void 0:n.weekStartsOn)??((h=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??i.weekStartsOn??((f=(p=i.locale)==null?void 0:p.options)==null?void 0:f.weekStartsOn)??0,s=se(e),o=s.getDay(),l=(t%7+7)%7,c=7-r,u=t<0||t>6?t-(o+c)%7:(l+c)%7-(o+c)%7;return Ro(s,u)}class j_ extends We{constructor(){super(...arguments);ie(this,"priority",90);ie(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,i,r){switch(i){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})||r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"})}}validate(n,i){return i>=0&&i<=6}set(n,i,r,s){return n=X0(n,r,s),n.setHours(0,0,0,0),n}}class W_ extends We{constructor(){super(...arguments);ie(this,"priority",90);ie(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,i,r,s){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+l};switch(i){case"e":case"ee":return Pt(It(i.length,n),o);case"eo":return Pt(r.ordinalNumber(n,{unit:"day"}),o);case"eee":return r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"});case"eeeee":return r.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return r.day(n,{width:"wide",context:"formatting"})||r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"})}}validate(n,i){return i>=0&&i<=6}set(n,i,r,s){return n=X0(n,r,s),n.setHours(0,0,0,0),n}}class H_ extends We{constructor(){super(...arguments);ie(this,"priority",90);ie(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,i,r,s){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+l};switch(i){case"c":case"cc":return Pt(It(i.length,n),o);case"co":return Pt(r.ordinalNumber(n,{unit:"day"}),o);case"ccc":return r.day(n,{width:"abbreviated",context:"standalone"})||r.day(n,{width:"short",context:"standalone"})||r.day(n,{width:"narrow",context:"standalone"});case"ccccc":return r.day(n,{width:"narrow",context:"standalone"});case"cccccc":return r.day(n,{width:"short",context:"standalone"})||r.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return r.day(n,{width:"wide",context:"standalone"})||r.day(n,{width:"abbreviated",context:"standalone"})||r.day(n,{width:"short",context:"standalone"})||r.day(n,{width:"narrow",context:"standalone"})}}validate(n,i){return i>=0&&i<=6}set(n,i,r,s){return n=X0(n,r,s),n.setHours(0,0,0,0),n}}function U_(e){let n=se(e).getDay();return n===0&&(n=7),n}function V_(e,t){const n=se(e),i=U_(n),r=t-i;return Ro(n,r)}class K_ extends We{constructor(){super(...arguments);ie(this,"priority",90);ie(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,i,r){const s=o=>o===0?7:o;switch(i){case"i":case"ii":return It(i.length,n);case"io":return r.ordinalNumber(n,{unit:"day"});case"iii":return Pt(r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"}),s);case"iiiii":return Pt(r.day(n,{width:"narrow",context:"formatting"}),s);case"iiiiii":return Pt(r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"}),s);case"iiii":default:return Pt(r.day(n,{width:"wide",context:"formatting"})||r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"}),s)}}validate(n,i){return i>=1&&i<=7}set(n,i,r){return n=V_(n,r),n.setHours(0,0,0,0),n}}class $_ extends We{constructor(){super(...arguments);ie(this,"priority",80);ie(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,i,r){switch(i){case"a":case"aa":case"aaa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})||r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,i,r){return n.setHours($0(r),0,0,0),n}}class X_ extends We{constructor(){super(...arguments);ie(this,"priority",80);ie(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,i,r){switch(i){case"b":case"bb":case"bbb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})||r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,i,r){return n.setHours($0(r),0,0,0),n}}class Z_ extends We{constructor(){super(...arguments);ie(this,"priority",80);ie(this,"incompatibleTokens",["a","b","t","T"])}parse(n,i,r){switch(i){case"B":case"BB":case"BBB":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})||r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,i,r){return n.setHours($0(r),0,0,0),n}}class q_ extends We{constructor(){super(...arguments);ie(this,"priority",70);ie(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,i,r){switch(i){case"h":return St(At.hour12h,n);case"ho":return r.ordinalNumber(n,{unit:"hour"});default:return It(i.length,n)}}validate(n,i){return i>=1&&i<=12}set(n,i,r){const s=n.getHours()>=12;return s&&r<12?n.setHours(r+12,0,0,0):!s&&r===12?n.setHours(0,0,0,0):n.setHours(r,0,0,0),n}}class Q_ extends We{constructor(){super(...arguments);ie(this,"priority",70);ie(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,i,r){switch(i){case"H":return St(At.hour23h,n);case"Ho":return r.ordinalNumber(n,{unit:"hour"});default:return It(i.length,n)}}validate(n,i){return i>=0&&i<=23}set(n,i,r){return n.setHours(r,0,0,0),n}}class J_ extends We{constructor(){super(...arguments);ie(this,"priority",70);ie(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,i,r){switch(i){case"K":return St(At.hour11h,n);case"Ko":return r.ordinalNumber(n,{unit:"hour"});default:return It(i.length,n)}}validate(n,i){return i>=0&&i<=11}set(n,i,r){return n.getHours()>=12&&r<12?n.setHours(r+12,0,0,0):n.setHours(r,0,0,0),n}}class e2 extends We{constructor(){super(...arguments);ie(this,"priority",70);ie(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,i,r){switch(i){case"k":return St(At.hour24h,n);case"ko":return r.ordinalNumber(n,{unit:"hour"});default:return It(i.length,n)}}validate(n,i){return i>=1&&i<=24}set(n,i,r){const s=r<=24?r%24:r;return n.setHours(s,0,0,0),n}}class t2 extends We{constructor(){super(...arguments);ie(this,"priority",60);ie(this,"incompatibleTokens",["t","T"])}parse(n,i,r){switch(i){case"m":return St(At.minute,n);case"mo":return r.ordinalNumber(n,{unit:"minute"});default:return It(i.length,n)}}validate(n,i){return i>=0&&i<=59}set(n,i,r){return n.setMinutes(r,0,0),n}}class n2 extends We{constructor(){super(...arguments);ie(this,"priority",50);ie(this,"incompatibleTokens",["t","T"])}parse(n,i,r){switch(i){case"s":return St(At.second,n);case"so":return r.ordinalNumber(n,{unit:"second"});default:return It(i.length,n)}}validate(n,i){return i>=0&&i<=59}set(n,i,r){return n.setSeconds(r,0),n}}class i2 extends We{constructor(){super(...arguments);ie(this,"priority",30);ie(this,"incompatibleTokens",["t","T"])}parse(n,i){const r=s=>Math.trunc(s*Math.pow(10,-i.length+3));return Pt(It(i.length,n),r)}set(n,i,r){return n.setMilliseconds(r),n}}class r2 extends We{constructor(){super(...arguments);ie(this,"priority",10);ie(this,"incompatibleTokens",["t","T","x"])}parse(n,i){switch(i){case"X":return Er(Lr.basicOptionalMinutes,n);case"XX":return Er(Lr.basic,n);case"XXXX":return Er(Lr.basicOptionalSeconds,n);case"XXXXX":return Er(Lr.extendedOptionalSeconds,n);case"XXX":default:return Er(Lr.extended,n)}}set(n,i,r){return i.timestampIsSet?n:Xe(n,n.getTime()-hf(n)-r)}}class s2 extends We{constructor(){super(...arguments);ie(this,"priority",10);ie(this,"incompatibleTokens",["t","T","X"])}parse(n,i){switch(i){case"x":return Er(Lr.basicOptionalMinutes,n);case"xx":return Er(Lr.basic,n);case"xxxx":return Er(Lr.basicOptionalSeconds,n);case"xxxxx":return Er(Lr.extendedOptionalSeconds,n);case"xxx":default:return Er(Lr.extended,n)}}set(n,i,r){return i.timestampIsSet?n:Xe(n,n.getTime()-hf(n)-r)}}class o2 extends We{constructor(){super(...arguments);ie(this,"priority",40);ie(this,"incompatibleTokens","*")}parse(n){return fC(n)}set(n,i,r){return[Xe(n,r*1e3),{timestampIsSet:!0}]}}class a2 extends We{constructor(){super(...arguments);ie(this,"priority",20);ie(this,"incompatibleTokens","*")}parse(n){return fC(n)}set(n,i,r){return[Xe(n,r),{timestampIsSet:!0}]}}const l2={G:new k_,y:new C_,Y:new L_,R:new E_,u:new T_,Q:new I_,q:new N_,M:new R_,L:new A_,w:new O_,I:new F_,d:new Y_,D:new G_,E:new j_,e:new W_,c:new H_,i:new K_,a:new $_,b:new X_,B:new Z_,h:new q_,H:new Q_,K:new J_,k:new e2,m:new t2,s:new n2,S:new i2,X:new r2,x:new s2,t:new o2,T:new a2},c2=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,u2=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,d2=/^'([^]*?)'?$/,h2=/''/g,p2=/\S/,f2=/[a-zA-Z]/;function Lm(e,t,n,i){var g,v,y,m,x,S,D,M;const r=b_(),s=(i==null?void 0:i.locale)??r.locale??aC,o=(i==null?void 0:i.firstWeekContainsDate)??((v=(g=i==null?void 0:i.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(y=r.locale)==null?void 0:y.options)==null?void 0:m.firstWeekContainsDate)??1,a=(i==null?void 0:i.weekStartsOn)??((S=(x=i==null?void 0:i.locale)==null?void 0:x.options)==null?void 0:S.weekStartsOn)??r.weekStartsOn??((M=(D=r.locale)==null?void 0:D.options)==null?void 0:M.weekStartsOn)??0;if(t==="")return e===""?se(n):Xe(n,NaN);const l={firstWeekContainsDate:o,weekStartsOn:a,locale:s},c=[new D_],u=t.match(u2).map(C=>{const k=C[0];if(k in mf){const L=mf[k];return L(C,s.formatLong)}return C}).join("").match(c2),d=[];for(let C of u){!(i!=null&&i.useAdditionalWeekYearTokens)&&hC(C)&&sv(C,t,e),!(i!=null&&i.useAdditionalDayOfYearTokens)&&dC(C)&&sv(C,t,e);const k=C[0],L=l2[k];if(L){const{incompatibleTokens:T}=L;if(Array.isArray(T)){const Y=d.find(E=>T.includes(E.token)||E.token===k);if(Y)throw new RangeError(`The format string mustn't contain \`${Y.fullToken}\` and \`${C}\` at the same time`)}else if(L.incompatibleTokens==="*"&&d.length>0)throw new RangeError(`The format string mustn't contain \`${C}\` and any other token at the same time`);d.push({token:k,fullToken:C});const O=L.run(e,C,s.match,l);if(!O)return Xe(n,NaN);c.push(O.setter),e=O.rest}else{if(k.match(f2))throw new RangeError("Format string contains an unescaped latin alphabet character `"+k+"`");if(C==="''"?C="'":k==="'"&&(C=g2(C)),e.indexOf(C)===0)e=e.slice(C.length);else return Xe(n,NaN)}}if(e.length>0&&p2.test(e))return Xe(n,NaN);const h=c.map(C=>C.priority).sort((C,k)=>k-C).filter((C,k,L)=>L.indexOf(C)===k).map(C=>c.filter(k=>k.priority===C).sort((k,L)=>L.subPriority-k.subPriority)).map(C=>C[0]);let p=se(n);if(isNaN(p.getTime()))return Xe(n,NaN);const f={};for(const C of h){if(!C.validate(p,l))return Xe(n,NaN);const k=C.set(p,f,l);Array.isArray(k)?(p=k[0],Object.assign(f,k[1])):p=k}return Xe(n,p)}function g2(e){return e.match(d2)[1].replace(h2,"'")}function m2(e,t){const i=b2(e);let r;if(i.date){const l=w2(i.date,2);r=S2(l.restDateString,l.year)}if(!r||isNaN(r.getTime()))return new Date(NaN);const s=r.getTime();let o=0,a;if(i.time&&(o=M2(i.time),isNaN(o)))return new Date(NaN);if(i.timezone){if(a=D2(i.timezone),isNaN(a))return new Date(NaN)}else{const l=new Date(s+o),c=new Date(0);return c.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),c.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),c}return new Date(s+o+a)}const Bh={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},y2=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,v2=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,x2=/^([+-])(\d{2})(?::?(\d{2}))?$/;function b2(e){const t={},n=e.split(Bh.dateTimeDelimiter);let i;if(n.length>2)return t;if(/:/.test(n[0])?i=n[0]:(t.date=n[0],i=n[1],Bh.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Bh.timeZoneDelimiter)[0],i=e.substr(t.date.length,e.length))),i){const r=Bh.timezone.exec(i);r?(t.time=i.replace(r[1],""),t.timezone=r[1]):t.time=i}return t}function w2(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),i=e.match(n);if(!i)return{year:NaN,restDateString:""};const r=i[1]?parseInt(i[1]):null,s=i[2]?parseInt(i[2]):null;return{year:s===null?r:s*100,restDateString:e.slice((i[1]||i[2]).length)}}function S2(e,t){if(t===null)return new Date(NaN);const n=e.match(y2);if(!n)return new Date(NaN);const i=!!n[4],r=Zc(n[1]),s=Zc(n[2])-1,o=Zc(n[3]),a=Zc(n[4]),l=Zc(n[5])-1;if(i)return T2(t,a,l)?k2(t,a,l):new Date(NaN);{const c=new Date(0);return!L2(t,s,o)||!E2(t,r)?new Date(NaN):(c.setUTCFullYear(t,s,Math.max(r,o)),c)}}function Zc(e){return e?parseInt(e):1}function M2(e){const t=e.match(v2);if(!t)return NaN;const n=Em(t[1]),i=Em(t[2]),r=Em(t[3]);return I2(n,i,r)?n*ug+i*cg+r*1e3:NaN}function Em(e){return e&&parseFloat(e.replace(",","."))||0}function D2(e){if(e==="Z")return 0;const t=e.match(x2);if(!t)return 0;const n=t[1]==="+"?-1:1,i=parseInt(t[2]),r=t[3]&&parseInt(t[3])||0;return N2(i,r)?n*(i*ug+r*cg):NaN}function k2(e,t,n){const i=new Date(0);i.setUTCFullYear(e,0,4);const r=i.getUTCDay()||7,s=(t-1)*7+n+1-r;return i.setUTCDate(i.getUTCDate()+s),i}const C2=[31,null,31,30,31,30,31,31,30,31,30,31];function yC(e){return e%400===0||e%4===0&&e%100!==0}function L2(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(C2[t]||(yC(e)?29:28))}function E2(e,t){return t>=1&&t<=(yC(e)?366:365)}function T2(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function I2(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function N2(e,t){return t>=0&&t<=59}function R2(e){const t=se(e),n=t.getFullYear(),i=t.getMonth(),r=Xe(e,0);return r.setFullYear(n,i+1,0),r.setHours(0,0,0,0),r.getDate()}function ai(e,t){const n=se(e),i=n.getFullYear(),r=n.getDate(),s=Xe(e,0);s.setFullYear(i,t,15),s.setHours(0,0,0,0);const o=R2(s);return n.setMonth(t,Math.min(r,o)),n}function A2(e,t){let n=se(e);return isNaN(+n)?Xe(e,NaN):(t.year!=null&&n.setFullYear(t.year),t.month!=null&&(n=ai(n,t.month)),t.date!=null&&n.setDate(t.date),t.hours!=null&&n.setHours(t.hours),t.minutes!=null&&n.setMinutes(t.minutes),t.seconds!=null&&n.setSeconds(t.seconds),t.milliseconds!=null&&n.setMilliseconds(t.milliseconds),n)}function xp(e,t){const n=se(e);return n.setHours(t),n}function bp(e,t){const n=se(e);return n.setMinutes(t),n}function rl(e,t){const n=se(e),i=Math.trunc(n.getMonth()/3)+1,r=t-i;return ai(n,n.getMonth()+r*3)}function wp(e,t){const n=se(e);return n.setSeconds(t),n}function Mr(e,t){const n=se(e);return isNaN(+n)?Xe(e,NaN):(n.setFullYear(t),n)}function vC(e){const t=se(e);return t.setDate(1),t.setHours(0,0,0,0),t}function P2(e,t){return Ro(e,-t)}function Xl(e,t){return or(e,-t)}function xC(e,t){return U0(e,-t)}function US(e,t){return df(e,-t)}function Zl(e,t){return hs(e,-t)}function uc(e){return bC(e)?(e.nodeName||"").toLowerCase():"#document"}function di(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Cs(e){var t;return(t=(bC(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function bC(e){return e instanceof Node||e instanceof di(e).Node}function Kn(e){return e instanceof Element||e instanceof di(e).Element}function Br(e){return e instanceof HTMLElement||e instanceof di(e).HTMLElement}function VS(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof di(e).ShadowRoot}function Ud(e){const{overflow:t,overflowX:n,overflowY:i,display:r}=zi(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!["inline","contents"].includes(r)}function O2(e){return["table","td","th"].includes(uc(e))}function hg(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Z0(e){const t=q0(),n=zi(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(i=>(n.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(n.contain||"").includes(i))}function _2(e){let t=wo(e);for(;Br(t)&&!ql(t);){if(hg(t))return null;if(Z0(t))return t;t=wo(t)}return null}function q0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ql(e){return["html","body","#document"].includes(uc(e))}function zi(e){return di(e).getComputedStyle(e)}function pg(e){return Kn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function wo(e){if(uc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||VS(e)&&e.host||Cs(e);return VS(t)?t.host:t}function wC(e){const t=wo(e);return ql(t)?e.ownerDocument?e.ownerDocument.body:e.body:Br(t)&&Ud(t)?t:wC(t)}function fd(e,t,n){var i;t===void 0&&(t=[]),n===void 0&&(n=!0);const r=wC(e),s=r===((i=e.ownerDocument)==null?void 0:i.body),o=di(r);return s?t.concat(o,o.visualViewport||[],Ud(r)?r:[],o.frameElement&&n?fd(o.frameElement):[]):t.concat(r,fd(r,[],n))}const Ql=Math.min,ga=Math.max,xf=Math.round,zh=Math.floor,So=e=>({x:e,y:e}),F2={left:"right",right:"left",bottom:"top",top:"bottom"},B2={start:"end",end:"start"};function z2(e,t,n){return ga(e,Ql(t,n))}function fg(e,t){return typeof e=="function"?e(t):e}function Jl(e){return e.split("-")[0]}function Vd(e){return e.split("-")[1]}function Y2(e){return e==="x"?"y":"x"}function Q0(e){return e==="y"?"height":"width"}function gd(e){return["top","bottom"].includes(Jl(e))?"y":"x"}function J0(e){return Y2(gd(e))}function G2(e,t,n){n===void 0&&(n=!1);const i=Vd(e),r=J0(e),s=Q0(r);let o=r==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=bf(o)),[o,bf(o)]}function j2(e){const t=bf(e);return[lv(e),t,lv(t)]}function lv(e){return e.replace(/start|end/g,t=>B2[t])}function W2(e,t,n){const i=["left","right"],r=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?r:i:t?i:r;case"left":case"right":return t?s:o;default:return[]}}function H2(e,t,n,i){const r=Vd(e);let s=W2(Jl(e),n==="start",i);return r&&(s=s.map(o=>o+"-"+r),t&&(s=s.concat(s.map(lv)))),s}function bf(e){return e.replace(/left|right|bottom|top/g,t=>F2[t])}function U2(e){return{top:0,right:0,bottom:0,left:0,...e}}function SC(e){return typeof e!="number"?U2(e):{top:e,right:e,bottom:e,left:e}}function wf(e){const{x:t,y:n,width:i,height:r}=e;return{width:i,height:r,top:n,left:t,right:t+i,bottom:n+r,x:t,y:n}}function KS(e,t,n){let{reference:i,floating:r}=e;const s=gd(t),o=J0(t),a=Q0(o),l=Jl(t),c=s==="y",u=i.x+i.width/2-r.width/2,d=i.y+i.height/2-r.height/2,h=i[a]/2-r[a]/2;let p;switch(l){case"top":p={x:u,y:i.y-r.height};break;case"bottom":p={x:u,y:i.y+i.height};break;case"right":p={x:i.x+i.width,y:d};break;case"left":p={x:i.x-r.width,y:d};break;default:p={x:i.x,y:i.y}}switch(Vd(t)){case"start":p[o]-=h*(n&&c?-1:1);break;case"end":p[o]+=h*(n&&c?-1:1);break}return p}const V2=async(e,t,n)=>{const{placement:i="bottom",strategy:r="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:r}),{x:u,y:d}=KS(c,i,l),h=i,p={},f=0;for(let g=0;g<a.length;g++){const{name:v,fn:y}=a[g],{x:m,y:x,data:S,reset:D}=await y({x:u,y:d,initialPlacement:i,placement:h,strategy:r,middlewareData:p,rects:c,platform:o,elements:{reference:e,floating:t}});u=m??u,d=x??d,p={...p,[v]:{...p[v],...S}},D&&f<=50&&(f++,typeof D=="object"&&(D.placement&&(h=D.placement),D.rects&&(c=D.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:r}):D.rects),{x:u,y:d}=KS(c,h,l)),g=-1)}return{x:u,y:d,placement:h,strategy:r,middlewareData:p}};async function K2(e,t){var n;t===void 0&&(t={});const{x:i,y:r,platform:s,rects:o,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=fg(t,e),f=SC(p),v=a[h?d==="floating"?"reference":"floating":d],y=wf(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(v)))==null||n?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),m=d==="floating"?{x:i,y:r,width:o.floating.width,height:o.floating.height}:o.reference,x=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),S=await(s.isElement==null?void 0:s.isElement(x))?await(s.getScale==null?void 0:s.getScale(x))||{x:1,y:1}:{x:1,y:1},D=wf(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:m,offsetParent:x,strategy:l}):m);return{top:(y.top-D.top+f.top)/S.y,bottom:(D.bottom-y.bottom+f.bottom)/S.y,left:(y.left-D.left+f.left)/S.x,right:(D.right-y.right+f.right)/S.x}}const $2=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:i,placement:r,rects:s,platform:o,elements:a,middlewareData:l}=t,{element:c,padding:u=0}=fg(e,t)||{};if(c==null)return{};const d=SC(u),h={x:n,y:i},p=J0(r),f=Q0(p),g=await o.getDimensions(c),v=p==="y",y=v?"top":"left",m=v?"bottom":"right",x=v?"clientHeight":"clientWidth",S=s.reference[f]+s.reference[p]-h[p]-s.floating[f],D=h[p]-s.reference[p],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let C=M?M[x]:0;(!C||!await(o.isElement==null?void 0:o.isElement(M)))&&(C=a.floating[x]||s.floating[f]);const k=S/2-D/2,L=C/2-g[f]/2-1,T=Ql(d[y],L),O=Ql(d[m],L),Y=T,E=C-g[f]-O,_=C/2-g[f]/2+k,R=z2(Y,_,E),z=!l.arrow&&Vd(r)!=null&&_!==R&&s.reference[f]/2-(_<Y?T:O)-g[f]/2<0,P=z?_<Y?_-Y:_-E:0;return{[p]:h[p]+P,data:{[p]:R,centerOffset:_-R-P,...z&&{alignmentOffset:P}},reset:z}}}),X2=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,i;const{placement:r,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:f="none",flipAlignment:g=!0,...v}=fg(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const y=Jl(r),m=gd(a),x=Jl(a)===a,S=await(l.isRTL==null?void 0:l.isRTL(c.floating)),D=h||(x||!g?[bf(a)]:j2(a)),M=f!=="none";!h&&M&&D.push(...H2(a,g,f,S));const C=[a,...D],k=await K2(t,v),L=[];let T=((i=s.flip)==null?void 0:i.overflows)||[];if(u&&L.push(k[y]),d){const _=G2(r,o,S);L.push(k[_[0]],k[_[1]])}if(T=[...T,{placement:r,overflows:L}],!L.every(_=>_<=0)){var O,Y;const _=(((O=s.flip)==null?void 0:O.index)||0)+1,R=C[_];if(R)return{data:{index:_,overflows:T},reset:{placement:R}};let z=(Y=T.filter(P=>P.overflows[0]<=0).sort((P,F)=>P.overflows[1]-F.overflows[1])[0])==null?void 0:Y.placement;if(!z)switch(p){case"bestFit":{var E;const P=(E=T.filter(F=>{if(M){const G=gd(F.placement);return G===m||G==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(G=>G>0).reduce((G,H)=>G+H,0)]).sort((F,G)=>F[1]-G[1])[0])==null?void 0:E[0];P&&(z=P);break}case"initialPlacement":z=a;break}if(r!==z)return{reset:{placement:z}}}return{}}}};async function Z2(e,t){const{placement:n,platform:i,elements:r}=e,s=await(i.isRTL==null?void 0:i.isRTL(r.floating)),o=Jl(n),a=Vd(n),l=gd(n)==="y",c=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,d=fg(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:f}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return a&&typeof f=="number"&&(p=a==="end"?f*-1:f),l?{x:p*u,y:h*c}:{x:h*c,y:p*u}}const q2=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,i;const{x:r,y:s,placement:o,middlewareData:a}=t,l=await Z2(t,e);return o===((n=a.offset)==null?void 0:n.placement)&&(i=a.arrow)!=null&&i.alignmentOffset?{}:{x:r+l.x,y:s+l.y,data:{...l,placement:o}}}}};function MC(e){const t=zi(e);let n=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const r=Br(e),s=r?e.offsetWidth:n,o=r?e.offsetHeight:i,a=xf(n)!==s||xf(i)!==o;return a&&(n=s,i=o),{width:n,height:i,$:a}}function ex(e){return Kn(e)?e:e.contextElement}function Nl(e){const t=ex(e);if(!Br(t))return So(1);const n=t.getBoundingClientRect(),{width:i,height:r,$:s}=MC(t);let o=(s?xf(n.width):n.width)/i,a=(s?xf(n.height):n.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Q2=So(0);function DC(e){const t=di(e);return!q0()||!t.visualViewport?Q2:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function J2(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==di(e)?!1:t}function Ia(e,t,n,i){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=ex(e);let o=So(1);t&&(i?Kn(i)&&(o=Nl(i)):o=Nl(e));const a=J2(s,n,i)?DC(s):So(0);let l=(r.left+a.x)/o.x,c=(r.top+a.y)/o.y,u=r.width/o.x,d=r.height/o.y;if(s){const h=di(s),p=i&&Kn(i)?di(i):i;let f=h,g=f.frameElement;for(;g&&i&&p!==f;){const v=Nl(g),y=g.getBoundingClientRect(),m=zi(g),x=y.left+(g.clientLeft+parseFloat(m.paddingLeft))*v.x,S=y.top+(g.clientTop+parseFloat(m.paddingTop))*v.y;l*=v.x,c*=v.y,u*=v.x,d*=v.y,l+=x,c+=S,f=di(g),g=f.frameElement}}return wf({width:u,height:d,x:l,y:c})}function eF(e){let{elements:t,rect:n,offsetParent:i,strategy:r}=e;const s=r==="fixed",o=Cs(i),a=t?hg(t.floating):!1;if(i===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=So(1);const u=So(0),d=Br(i);if((d||!d&&!s)&&((uc(i)!=="body"||Ud(o))&&(l=pg(i)),Br(i))){const h=Ia(i);c=Nl(i),u.x=h.x+i.clientLeft,u.y=h.y+i.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x,y:n.y*c.y-l.scrollTop*c.y+u.y}}function tF(e){return Array.from(e.getClientRects())}function kC(e){return Ia(Cs(e)).left+pg(e).scrollLeft}function nF(e){const t=Cs(e),n=pg(e),i=e.ownerDocument.body,r=ga(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),s=ga(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let o=-n.scrollLeft+kC(e);const a=-n.scrollTop;return zi(i).direction==="rtl"&&(o+=ga(t.clientWidth,i.clientWidth)-r),{width:r,height:s,x:o,y:a}}function iF(e,t){const n=di(e),i=Cs(e),r=n.visualViewport;let s=i.clientWidth,o=i.clientHeight,a=0,l=0;if(r){s=r.width,o=r.height;const c=q0();(!c||c&&t==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:s,height:o,x:a,y:l}}function rF(e,t){const n=Ia(e,!0,t==="fixed"),i=n.top+e.clientTop,r=n.left+e.clientLeft,s=Br(e)?Nl(e):So(1),o=e.clientWidth*s.x,a=e.clientHeight*s.y,l=r*s.x,c=i*s.y;return{width:o,height:a,x:l,y:c}}function $S(e,t,n){let i;if(t==="viewport")i=iF(e,n);else if(t==="document")i=nF(Cs(e));else if(Kn(t))i=rF(t,n);else{const r=DC(e);i={...t,x:t.x-r.x,y:t.y-r.y}}return wf(i)}function CC(e,t){const n=wo(e);return n===t||!Kn(n)||ql(n)?!1:zi(n).position==="fixed"||CC(n,t)}function sF(e,t){const n=t.get(e);if(n)return n;let i=fd(e,[],!1).filter(a=>Kn(a)&&uc(a)!=="body"),r=null;const s=zi(e).position==="fixed";let o=s?wo(e):e;for(;Kn(o)&&!ql(o);){const a=zi(o),l=Z0(o);!l&&a.position==="fixed"&&(r=null),(s?!l&&!r:!l&&a.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||Ud(o)&&!l&&CC(e,o))?i=i.filter(u=>u!==o):r=a,o=wo(o)}return t.set(e,i),i}function oF(e){let{element:t,boundary:n,rootBoundary:i,strategy:r}=e;const o=[...n==="clippingAncestors"?hg(t)?[]:sF(t,this._c):[].concat(n),i],a=o[0],l=o.reduce((c,u)=>{const d=$S(t,u,r);return c.top=ga(d.top,c.top),c.right=Ql(d.right,c.right),c.bottom=Ql(d.bottom,c.bottom),c.left=ga(d.left,c.left),c},$S(t,a,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function aF(e){const{width:t,height:n}=MC(e);return{width:t,height:n}}function lF(e,t,n){const i=Br(t),r=Cs(t),s=n==="fixed",o=Ia(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const l=So(0);if(i||!i&&!s)if((uc(t)!=="body"||Ud(r))&&(a=pg(t)),i){const d=Ia(t,!0,s,t);l.x=d.x+t.clientLeft,l.y=d.y+t.clientTop}else r&&(l.x=kC(r));const c=o.left+a.scrollLeft-l.x,u=o.top+a.scrollTop-l.y;return{x:c,y:u,width:o.width,height:o.height}}function Tm(e){return zi(e).position==="static"}function XS(e,t){return!Br(e)||zi(e).position==="fixed"?null:t?t(e):e.offsetParent}function LC(e,t){const n=di(e);if(hg(e))return n;if(!Br(e)){let r=wo(e);for(;r&&!ql(r);){if(Kn(r)&&!Tm(r))return r;r=wo(r)}return n}let i=XS(e,t);for(;i&&O2(i)&&Tm(i);)i=XS(i,t);return i&&ql(i)&&Tm(i)&&!Z0(i)?n:i||_2(e)||n}const cF=async function(e){const t=this.getOffsetParent||LC,n=this.getDimensions,i=await n(e.floating);return{reference:lF(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function uF(e){return zi(e).direction==="rtl"}const dF={convertOffsetParentRelativeRectToViewportRelativeRect:eF,getDocumentElement:Cs,getClippingRect:oF,getOffsetParent:LC,getElementRects:cF,getClientRects:tF,getDimensions:aF,getScale:Nl,isElement:Kn,isRTL:uF};function hF(e,t){let n=null,i;const r=Cs(e);function s(){var a;clearTimeout(i),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:u,width:d,height:h}=e.getBoundingClientRect();if(a||t(),!d||!h)return;const p=zh(u),f=zh(r.clientWidth-(c+d)),g=zh(r.clientHeight-(u+h)),v=zh(c),m={rootMargin:-p+"px "+-f+"px "+-g+"px "+-v+"px",threshold:ga(0,Ql(1,l))||1};let x=!0;function S(D){const M=D[0].intersectionRatio;if(M!==l){if(!x)return o();M?o(!1,M):i=setTimeout(()=>{o(!1,1e-7)},1e3)}x=!1}try{n=new IntersectionObserver(S,{...m,root:r.ownerDocument})}catch{n=new IntersectionObserver(S,m)}n.observe(e)}return o(!0),s}function pF(e,t,n,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=i,c=ex(e),u=r||s?[...c?fd(c):[],...fd(t)]:[];u.forEach(y=>{r&&y.addEventListener("scroll",n,{passive:!0}),s&&y.addEventListener("resize",n)});const d=c&&a?hF(c,n):null;let h=-1,p=null;o&&(p=new ResizeObserver(y=>{let[m]=y;m&&m.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var x;(x=p)==null||x.observe(t)})),n()}),c&&!l&&p.observe(c),p.observe(t));let f,g=l?Ia(e):null;l&&v();function v(){const y=Ia(e);g&&(y.x!==g.x||y.y!==g.y||y.width!==g.width||y.height!==g.height)&&n(),g=y,f=requestAnimationFrame(v)}return n(),()=>{var y;u.forEach(m=>{r&&m.removeEventListener("scroll",n),s&&m.removeEventListener("resize",n)}),d==null||d(),(y=p)==null||y.disconnect(),p=null,l&&cancelAnimationFrame(f)}}const fF=q2,gF=X2,ZS=$2,mF=(e,t,n)=>{const i=new Map,r={platform:dF,...n},s={...r.platform,_c:i};return V2(e,t,{...r,platform:s})};var Sp=typeof document<"u"?N.useLayoutEffect:N.useEffect;function Sf(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,i,r;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(i=n;i--!==0;)if(!Sf(e[i],t[i]))return!1;return!0}if(r=Object.keys(e),n=r.length,n!==Object.keys(t).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(t,r[i]))return!1;for(i=n;i--!==0;){const s=r[i];if(!(s==="_owner"&&e.$$typeof)&&!Sf(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function EC(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function qS(e,t){const n=EC(e);return Math.round(t*n)/n}function QS(e){const t=N.useRef(e);return Sp(()=>{t.current=e}),t}function yF(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:i=[],platform:r,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[u,d]=N.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=N.useState(i);Sf(h,i)||p(i);const[f,g]=N.useState(null),[v,y]=N.useState(null),m=N.useCallback(P=>{P!==M.current&&(M.current=P,g(P))},[]),x=N.useCallback(P=>{P!==C.current&&(C.current=P,y(P))},[]),S=s||f,D=o||v,M=N.useRef(null),C=N.useRef(null),k=N.useRef(u),L=l!=null,T=QS(l),O=QS(r),Y=N.useCallback(()=>{if(!M.current||!C.current)return;const P={placement:t,strategy:n,middleware:h};O.current&&(P.platform=O.current),mF(M.current,C.current,P).then(F=>{const G={...F,isPositioned:!0};E.current&&!Sf(k.current,G)&&(k.current=G,Wd.flushSync(()=>{d(G)}))})},[h,t,n,O]);Sp(()=>{c===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,d(P=>({...P,isPositioned:!1})))},[c]);const E=N.useRef(!1);Sp(()=>(E.current=!0,()=>{E.current=!1}),[]),Sp(()=>{if(S&&(M.current=S),D&&(C.current=D),S&&D){if(T.current)return T.current(S,D,Y);Y()}},[S,D,Y,T,L]);const _=N.useMemo(()=>({reference:M,floating:C,setReference:m,setFloating:x}),[m,x]),R=N.useMemo(()=>({reference:S,floating:D}),[S,D]),z=N.useMemo(()=>{const P={position:n,left:0,top:0};if(!R.floating)return P;const F=qS(R.floating,u.x),G=qS(R.floating,u.y);return a?{...P,transform:"translate("+F+"px, "+G+"px)",...EC(R.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:G}},[n,a,R.floating,u.x,u.y]);return N.useMemo(()=>({...u,update:Y,refs:_,elements:R,floatingStyles:z}),[u,Y,_,R,z])}const vF=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:i,padding:r}=typeof e=="function"?e(n):e;return i&&t(i)?i.current!=null?ZS({element:i.current,padding:r}).fn(n):{}:i?ZS({element:i,padding:r}).fn(n):{}}}},xF=(e,t)=>({...fF(e),options:[e,t]}),bF=(e,t)=>({...gF(e),options:[e,t]}),wF=(e,t)=>({...vF(e),options:[e,t]}),TC={...FD},SF=TC.useInsertionEffect,MF=SF||(e=>e());function DF(e){const t=N.useRef(()=>{});return MF(()=>{t.current=e}),N.useCallback(function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t.current==null?void 0:t.current(...i)},[])}var Mf=typeof document<"u"?N.useLayoutEffect:N.useEffect;function cv(){return cv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},cv.apply(this,arguments)}let JS=!1,kF=0;const eM=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+kF++;function CF(){const[e,t]=N.useState(()=>JS?eM():void 0);return Mf(()=>{e==null&&t(eM())},[]),N.useEffect(()=>{JS=!0},[]),e}const LF=TC.useId,IC=LF||CF,EF=N.forwardRef(function(t,n){const{context:{placement:i,elements:{floating:r},middlewareData:{arrow:s}},width:o=14,height:a=7,tipRadius:l=0,strokeWidth:c=0,staticOffset:u,stroke:d,d:h,style:{transform:p,...f}={},...g}=t,v=IC(),[y,m]=N.useState(!1);if(Mf(()=>{if(!r)return;zi(r).direction==="rtl"&&m(!0)},[r]),!r)return null;const x=c*2,S=x/2,D=o/2*(l/-8+1),M=a/2*l/4,[C,k]=i.split("-"),L=!!h,T=C==="top"||C==="bottom",O=u&&k==="end"?"bottom":"top";let Y=u&&k==="end"?"right":"left";u&&y&&(Y=k==="end"?"left":"right");const E=(s==null?void 0:s.x)!=null?u||s.x:"",_=(s==null?void 0:s.y)!=null?u||s.y:"",R=h||"M0,0"+(" H"+o)+(" L"+(o-D)+","+(a-M))+(" Q"+o/2+","+a+" "+D+","+(a-M))+" Z",z={top:L?"rotate(180deg)":"",left:L?"rotate(90deg)":"rotate(-90deg)",bottom:L?"":"rotate(180deg)",right:L?"rotate(-90deg)":"rotate(90deg)"}[C];return N.createElement("svg",cv({},g,{"aria-hidden":!0,ref:n,width:L?o:o+x,height:o,viewBox:"0 0 "+o+" "+(a>o?a:o),style:{position:"absolute",pointerEvents:"none",[Y]:E,[O]:_,[C]:T||L?"100%":"calc(100% - "+x/2+"px)",transform:""+z+(p??""),...f}}),x>0&&N.createElement("path",{clipPath:"url(#"+v+")",fill:"none",stroke:d,strokeWidth:x+(h?0:1),d:R}),N.createElement("path",{stroke:x&&!h?g.fill:"none",d:R}),N.createElement("clipPath",{id:v},N.createElement("rect",{x:-S,y:S*(L?-1:1),width:o+x,height:o})))});function TF(){const e=new Map;return{emit(t,n){var i;(i=e.get(t))==null||i.forEach(r=>r(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var i;e.set(t,((i=e.get(t))==null?void 0:i.filter(r=>r!==n))||[])}}}const IF=N.createContext(null),NF=N.createContext(null),RF=()=>{var e;return((e=N.useContext(IF))==null?void 0:e.id)||null},AF=()=>N.useContext(NF);function PF(e){const{open:t=!1,onOpenChange:n,elements:i}=e,r=IC(),s=N.useRef({}),[o]=N.useState(()=>TF()),a=RF()!=null,[l,c]=N.useState(i.reference),u=DF((p,f,g)=>{s.current.openEvent=p?f:void 0,o.emit("openchange",{open:p,event:f,reason:g,nested:a}),n==null||n(p,f,g)}),d=N.useMemo(()=>({setPositionReference:c}),[]),h=N.useMemo(()=>({reference:l||i.reference||null,floating:i.floating||null,domReference:i.reference}),[l,i.reference,i.floating]);return N.useMemo(()=>({dataRef:s,open:t,onOpenChange:u,elements:h,events:o,floatingId:r,refs:d}),[t,u,h,o,r,d])}function OF(e){e===void 0&&(e={});const{nodeId:t}=e,n=PF({...e,elements:{reference:null,floating:null,...e.elements}}),i=e.rootContext||n,r=i.elements,[s,o]=N.useState(null),[a,l]=N.useState(null),u=(r==null?void 0:r.reference)||s,d=N.useRef(null),h=AF();Mf(()=>{u&&(d.current=u)},[u]);const p=yF({...e,elements:{...r,...a&&{reference:a}}}),f=N.useCallback(x=>{const S=Kn(x)?{getBoundingClientRect:()=>x.getBoundingClientRect(),contextElement:x}:x;l(S),p.refs.setReference(S)},[p.refs]),g=N.useCallback(x=>{(Kn(x)||x===null)&&(d.current=x,o(x)),(Kn(p.refs.reference.current)||p.refs.reference.current===null||x!==null&&!Kn(x))&&p.refs.setReference(x)},[p.refs]),v=N.useMemo(()=>({...p.refs,setReference:g,setPositionReference:f,domReference:d}),[p.refs,g,f]),y=N.useMemo(()=>({...p.elements,domReference:u}),[p.elements,u]),m=N.useMemo(()=>({...p,...i,refs:v,elements:y,nodeId:t}),[p,v,y,t,i]);return Mf(()=>{i.dataRef.current.floatingContext=m;const x=h==null?void 0:h.nodesRef.current.find(S=>S.id===t);x&&(x.context=m)}),N.useMemo(()=>({...p,context:m,refs:v,elements:y}),[p,v,y,m])}/*!
  react-datepicker v7.3.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var uv=function(t,n){return uv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(i[s]=r[s])},uv(t,n)};function tn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");uv(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var _e=function(){return _e=Object.assign||function(n){for(var i,r=1,s=arguments.length;r<s;r++){i=arguments[r];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},_e.apply(this,arguments)};function Ir(e,t,n){if(n||arguments.length===2)for(var i=0,r=t.length,s;i<r;i++)(s||!(i in t))&&(s||(s=Array.prototype.slice.call(t,0,i)),s[i]=t[i]);return e.concat(s||Array.prototype.slice.call(t))}var _F=function(e){var t=e.showTimeSelectOnly,n=t===void 0?!1:t,i=e.showTime,r=i===void 0?!1:i,s=e.className,o=e.children,a=n?"Choose Time":"Choose Date".concat(r?" and Time":"");return j.createElement("div",{className:s,role:"dialog","aria-label":a,"aria-modal":"true"},o)},ee;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(ee||(ee={}));function NC(){var e=typeof window<"u"?window:globalThis;return e}var Kd=12,FF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function Ze(e){if(e==null)return new Date;var t=typeof e=="string"?m2(e):se(e);return ns(t)?t:new Date}function BF(e,t,n,i,r){var s,o=null,a=ma(n)||ma(Ou()),l=!0;if(Array.isArray(t))return t.forEach(function(u){var d=Lm(e,u,new Date,{locale:a,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});i&&(l=ns(d,r)&&e===gt(d,u,n)),ns(d,r)&&l&&(o=d)}),o;if(o=Lm(e,t,new Date,{locale:a,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),i)l=ns(o)&&e===gt(o,t,n);else if(!ns(o)){var c=((s=t.match(FF))!==null&&s!==void 0?s:[]).map(function(u){var d=u[0];if(d==="p"||d==="P"){var h=mf[d];return a?h(u,a.formatLong):d}return u}).join("");e.length>0&&(o=Lm(e,c.slice(0,e.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),ns(o)||(o=new Date(e))}return ns(o)&&l?o:null}function ns(e,t){return yf(e)&&!Ta(e,t??new Date("1/1/1800"))}function gt(e,t,n){if(n==="en")return GS(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var i=n?ma(n):void 0;return n&&!i&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),!i&&Ou()&&ma(Ou())&&(i=ma(Ou())),GS(e,t,{locale:i,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Mi(e,t){var n=t.dateFormat,i=t.locale,r=Array.isArray(n)&&n.length>0?n[0]:n;return e&&gt(e,r,i)||""}function zF(e,t,n){if(!e)return"";var i=Mi(e,n),r=t?Mi(t,n):"";return"".concat(i," - ").concat(r)}function YF(e,t){if(!(e!=null&&e.length))return"";var n=e[0]?Mi(e[0],t):"";if(e.length===1)return n;if(e.length===2&&e[1]){var i=Mi(e[1],t);return"".concat(n,", ").concat(i)}var r=e.length-1;return"".concat(n," (+").concat(r,")")}function Im(e,t){var n=t.hour,i=n===void 0?0:n,r=t.minute,s=r===void 0?0:r,o=t.second,a=o===void 0?0:o;return xp(bp(wp(e,a),s),i)}function GF(e){return V0(e)}function jF(e,t){return gt(e,"ddd",t)}function Mp(e){return Ea(e)}function co(e,t,n){var i=ma(t||Ou());return ws(e,{locale:i,weekStartsOn:n})}function uo(e){return vC(e)}function lu(e){return dg(e)}function tM(e){return av(e)}function nM(){return Ea(Ze())}function iM(e){return sC(e)}function WF(e){return wO(e)}function Dr(e,t){return e&&t?x_(e,t):!e&&!t}function En(e,t){return e&&t?y_(e,t):!e&&!t}function Df(e,t){return e&&t?v_(e,t):!e&&!t}function Ae(e,t){return e&&t?m_(e,t):!e&&!t}function aa(e,t){return e&&t?g_(e,t):!e&&!t}function cu(e,t,n){var i,r=Ea(t),s=sC(n);try{i=pd(e,{start:r,end:s})}catch{i=!1}return i}function Ou(){var e=NC();return e.__localeId__}function ma(e){if(typeof e=="string"){var t=NC();return t.__localeData__?t.__localeData__[e]:void 0}else return e}function HF(e,t,n){return t(gt(e,"EEEE",n))}function UF(e,t){return gt(e,"EEEEEE",t)}function VF(e,t){return gt(e,"EEE",t)}function tx(e,t){return gt(ai(Ze(),e),"LLLL",t)}function RC(e,t){return gt(ai(Ze(),e),"LLL",t)}function KF(e,t){return gt(rl(Ze(),e),"QQQ",t)}function $s(e,t){var n=t===void 0?{}:t,i=n.minDate,r=n.maxDate,s=n.excludeDates,o=n.excludeDateIntervals,a=n.includeDates,l=n.includeDateIntervals,c=n.filterDate;return $d(e,{minDate:i,maxDate:r})||s&&s.some(function(u){var d;return u instanceof Date?Ae(e,u):Ae(e,(d=u.date)!==null&&d!==void 0?d:new Date)})||o&&o.some(function(u){var d=u.start,h=u.end;return pd(e,{start:d,end:h})})||a&&!a.some(function(u){return Ae(e,u)})||l&&!l.some(function(u){var d=u.start,h=u.end;return pd(e,{start:d,end:h})})||c&&!c(Ze(e))||!1}function nx(e,t){var n=t===void 0?{}:t,i=n.excludeDates,r=n.excludeDateIntervals;return r&&r.length>0?r.some(function(s){var o=s.start,a=s.end;return pd(e,{start:o,end:a})}):i&&i.some(function(s){var o;return s instanceof Date?Ae(e,s):Ae(e,(o=s.date)!==null&&o!==void 0?o:new Date)})||!1}function AC(e,t){var n=t===void 0?{}:t,i=n.minDate,r=n.maxDate,s=n.excludeDates,o=n.includeDates,a=n.filterDate;return $d(e,{minDate:i?vC(i):void 0,maxDate:r?xO(r):void 0})||(s==null?void 0:s.some(function(l){return En(e,l instanceof Date?l:l.date)}))||o&&!o.some(function(l){return En(e,l)})||a&&!a(Ze(e))||!1}function Yh(e,t,n,i){var r=Ee(e),s=In(e),o=Ee(t),a=In(t),l=Ee(i);return r===o&&r===l?s<=n&&n<=a:r<o?l===r&&s<=n||l===o&&a>=n||l<o&&l>r:!1}function $F(e,t){var n=t===void 0?{}:t,i=n.minDate,r=n.maxDate,s=n.excludeDates,o=n.includeDates;return $d(e,{minDate:i,maxDate:r})||s&&s.some(function(a){return En(a instanceof Date?a:a.date,e)})||o&&!o.some(function(a){return En(a,e)})||!1}function Nm(e,t){var n=t===void 0?{}:t,i=n.minDate,r=n.maxDate,s=n.excludeDates,o=n.includeDates,a=n.filterDate;return $d(e,{minDate:i,maxDate:r})||(s==null?void 0:s.some(function(l){return Df(e,l instanceof Date?l:l.date)}))||o&&!o.some(function(l){return Df(e,l)})||a&&!a(Ze(e))||!1}function Gh(e,t,n){if(!t||!n||!yf(t)||!yf(n))return!1;var i=Ee(t),r=Ee(n);return i<=e&&r>=e}function dv(e,t){var n=t===void 0?{}:t,i=n.minDate,r=n.maxDate,s=n.excludeDates,o=n.includeDates,a=n.filterDate,l=new Date(e,0,1);return $d(l,{minDate:i?dg(i):void 0,maxDate:r?oC(r):void 0})||(s==null?void 0:s.some(function(c){return Dr(l,c instanceof Date?c:c.date)}))||o&&!o.some(function(c){return Dr(l,c)})||a&&!a(Ze(l))||!1}function jh(e,t,n,i){var r=Ee(e),s=fa(e),o=Ee(t),a=fa(t),l=Ee(i);return r===o&&r===l?s<=n&&n<=a:r<o?l===r&&s<=n||l===o&&a>=n||l<o&&l>r:!1}function $d(e,t){var n,i=t===void 0?{}:t,r=i.minDate,s=i.maxDate;return(n=r&&hd(e,r)<0||s&&hd(e,s)>0)!==null&&n!==void 0?n:!1}function rM(e,t){return t.some(function(n){return Or(n)===Or(e)&&_r(n)===_r(e)&&fs(n)===fs(e)})}function sM(e,t){var n=t===void 0?{}:t,i=n.excludeTimes,r=n.includeTimes,s=n.filterTime;return i&&rM(e,i)||r&&!rM(e,r)||s&&!s(e)||!1}function oM(e,t){var n=t.minTime,i=t.maxTime;if(!n||!i)throw new Error("Both minTime and maxTime props required");var r=Ze();r=xp(r,Or(e)),r=bp(r,_r(e)),r=wp(r,fs(e));var s=Ze();s=xp(s,Or(n)),s=bp(s,_r(n)),s=wp(s,fs(n));var o=Ze();o=xp(o,Or(i)),o=bp(o,_r(i)),o=wp(o,fs(i));var a;try{a=!pd(r,{start:s,end:o})}catch{a=!1}return a}function aM(e,t){var n=t===void 0?{}:t,i=n.minDate,r=n.includeDates,s=Xl(e,1);return i&&pf(i,s)>0||r&&r.every(function(o){return pf(o,s)>0})||!1}function lM(e,t){var n=t===void 0?{}:t,i=n.maxDate,r=n.includeDates,s=or(e,1);return i&&pf(s,i)>0||r&&r.every(function(o){return pf(s,o)>0})||!1}function XF(e,t){var n=t===void 0?{}:t,i=n.minDate,r=n.includeDates,s=dg(e),o=xC(s,1);return i&&ff(i,o)>0||r&&r.every(function(a){return ff(a,o)>0})||!1}function ZF(e,t){var n=t===void 0?{}:t,i=n.maxDate,r=n.includeDates,s=oC(e),o=U0(s,1);return i&&ff(o,i)>0||r&&r.every(function(a){return ff(o,a)>0})||!1}function cM(e,t){var n=t===void 0?{}:t,i=n.minDate,r=n.includeDates,s=Zl(e,1);return i&&gf(i,s)>0||r&&r.every(function(o){return gf(o,s)>0})||!1}function qF(e,t){var n=t===void 0?{}:t,i=n.minDate,r=n.yearItemNumber,s=r===void 0?Kd:r,o=lu(Zl(e,s)),a=Xs(o,s).endPeriod,l=i&&Ee(i);return l&&l>a||!1}function uM(e,t){var n=t===void 0?{}:t,i=n.maxDate,r=n.includeDates,s=hs(e,1);return i&&gf(s,i)>0||r&&r.every(function(o){return gf(s,o)>0})||!1}function QF(e,t){var n=t===void 0?{}:t,i=n.maxDate,r=n.yearItemNumber,s=r===void 0?Kd:r,o=hs(e,s),a=Xs(o,s).startPeriod,l=i&&Ee(i);return l&&l<a||!1}function PC(e){var t=e.minDate,n=e.includeDates;if(n&&t){var i=n.filter(function(r){return hd(r,t)>=0});return HS(i)}else return n?HS(n):t}function OC(e){var t=e.maxDate,n=e.includeDates;if(n&&t){var i=n.filter(function(r){return hd(r,t)<=0});return WS(i)}else return n?WS(n):t}function dM(e,t){var n;e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--highlighted");for(var i=new Map,r=0,s=e.length;r<s;r++){var o=e[r];if(ps(o)){var a=gt(o,"MM.dd.yyyy"),l=i.get(a)||[];l.includes(t)||(l.push(t),i.set(a,l))}else if(typeof o=="object"){var c=Object.keys(o),u=(n=c[0])!==null&&n!==void 0?n:"",d=o[u];if(typeof u=="string"&&Array.isArray(d))for(var h=0,p=d.length;h<p;h++){var f=d[h];if(f){var a=gt(f,"MM.dd.yyyy"),l=i.get(a)||[];l.includes(u)||(l.push(u),i.set(a,l))}}}}return i}function JF(e,t){return e.length!==t.length?!1:e.every(function(n,i){return n===t[i]})}function eB(e,t){e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--holidays");var n=new Map;return e.forEach(function(i){var r=i.date,s=i.holidayName;if(ps(r)){var o=gt(r,"MM.dd.yyyy"),a=n.get(o)||{className:"",holidayNames:[]};if(!("className"in a&&a.className===t&&JF(a.holidayNames,[s]))){a.className=t;var l=a.holidayNames;a.holidayNames=l?Ir(Ir([],l,!0),[s],!1):[s],n.set(o,a)}}}),n}function tB(e,t,n,i,r){for(var s=r.length,o=[],a=0;a<s;a++){var l=e,c=r[a];c&&(l=yO(l,Or(c)),l=rv(l,_r(c)),l=vO(l,fs(c)));var u=rv(e,(n+1)*i);bo(l,t)&&Ta(l,u)&&c!=null&&o.push(c)}return o}function hM(e){return e<10?"0".concat(e):"".concat(e)}function Xs(e,t){t===void 0&&(t=Kd);var n=Math.ceil(Ee(e)/t)*t,i=n-(t-1);return{startPeriod:i,endPeriod:n}}function nB(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+n-+t)/36e5)}function pM(e){var t=e.getSeconds(),n=e.getMilliseconds();return se(e.getTime()-t*1e3-n)}function iB(e,t){return pM(e).getTime()===pM(t).getTime()}function fM(e){if(!ps(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function gM(e,t){if(!ps(e)||!ps(t))throw new Error("Invalid date received");var n=fM(e),i=fM(t);return Ta(n,i)}function _C(e){return e.key===ee.Space}var rB=function(e){tn(t,e);function t(n){var i=e.call(this,n)||this;return i.onTimeChange=function(r){var s,o;i.setState({time:r});var a=i.props.date,l=a instanceof Date&&!isNaN(+a),c=l?a:new Date;if(r!=null&&r.includes(":")){var u=r.split(":"),d=u[0],h=u[1];c.setHours(Number(d)),c.setMinutes(Number(h))}(o=(s=i.props).onChange)===null||o===void 0||o.call(s,c)},i.renderTimeInput=function(){var r=i.state.time,s=i.props,o=s.date,a=s.timeString,l=s.customTimeInput;return l?N.cloneElement(l,{date:o,value:r,onChange:i.onTimeChange}):j.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",required:!0,value:r,onChange:function(c){i.onTimeChange(c.target.value||a)}})},i.state={time:i.props.timeString},i}return t.getDerivedStateFromProps=function(n,i){return n.timeString!==i.time?{time:n.timeString}:null},t.prototype.render=function(){return j.createElement("div",{className:"react-datepicker__input-time-container"},j.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),j.createElement("div",{className:"react-datepicker-time__input-container"},j.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t}(N.Component),sB=function(e){tn(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.dayEl=N.createRef(),n.handleClick=function(i){!n.isDisabled()&&n.props.onClick&&n.props.onClick(i)},n.handleMouseEnter=function(i){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(i)},n.handleOnKeyDown=function(i){var r,s,o=i.key;o===ee.Space&&(i.preventDefault(),i.key=ee.Enter),(s=(r=n.props).handleOnKeyDown)===null||s===void 0||s.call(r,i)},n.isSameDay=function(i){return Ae(n.props.day,i)},n.isKeyboardSelected=function(){var i;if(n.props.disabledKeyboardNavigation)return!1;var r=n.props.selectsMultiple?(i=n.props.selectedDates)===null||i===void 0?void 0:i.some(function(o){return n.isSameDayOrWeek(o)}):n.isSameDayOrWeek(n.props.selected),s=n.props.preSelection&&n.isDisabled(n.props.preSelection);return!r&&n.isSameDayOrWeek(n.props.preSelection)&&!s},n.isDisabled=function(i){return i===void 0&&(i=n.props.day),$s(i,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(){return nx(n.props.day,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.isStartOfWeek=function(){return Ae(n.props.day,co(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameWeek=function(i){return n.props.showWeekPicker&&Ae(i,co(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameDayOrWeek=function(i){return n.isSameDay(i)||n.isSameWeek(i)},n.getHighLightedClass=function(){var i=n.props,r=i.day,s=i.highlightDates;if(!s)return!1;var o=gt(r,"MM.dd.yyyy");return s.get(o)},n.getHolidaysClass=function(){var i,r=n.props,s=r.day,o=r.holidays;if(!o)return[void 0];var a=gt(s,"MM.dd.yyyy");return o.has(a)?[(i=o.get(a))===null||i===void 0?void 0:i.className]:[void 0]},n.isInRange=function(){var i=n.props,r=i.day,s=i.startDate,o=i.endDate;return!s||!o?!1:cu(r,s,o)},n.isInSelectingRange=function(){var i,r=n.props,s=r.day,o=r.selectsStart,a=r.selectsEnd,l=r.selectsRange,c=r.selectsDisabledDaysInRange,u=r.startDate,d=r.endDate,h=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(o||a||l)||!h||!c&&n.isDisabled()?!1:o&&d&&(Ta(h,d)||aa(h,d))?cu(s,h,d):a&&u&&(bo(h,u)||aa(h,u))||l&&u&&!d&&(bo(h,u)||aa(h,u))?cu(s,u,h):!1},n.isSelectingRangeStart=function(){var i;if(!n.isInSelectingRange())return!1;var r=n.props,s=r.day,o=r.startDate,a=r.selectsStart,l=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return a?Ae(s,l):Ae(s,o)},n.isSelectingRangeEnd=function(){var i;if(!n.isInSelectingRange())return!1;var r=n.props,s=r.day,o=r.endDate,a=r.selectsEnd,l=r.selectsRange,c=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return a||l?Ae(s,c):Ae(s,o)},n.isRangeStart=function(){var i=n.props,r=i.day,s=i.startDate,o=i.endDate;return!s||!o?!1:Ae(s,r)},n.isRangeEnd=function(){var i=n.props,r=i.day,s=i.startDate,o=i.endDate;return!s||!o?!1:Ae(o,r)},n.isWeekend=function(){var i=f_(n.props.day);return i===0||i===6},n.isAfterMonth=function(){return n.props.month!==void 0&&(n.props.month+1)%12===In(n.props.day)},n.isBeforeMonth=function(){return n.props.month!==void 0&&(In(n.props.day)+1)%12===n.props.month},n.isCurrentDay=function(){return n.isSameDay(Ze())},n.isSelected=function(){var i;return n.props.selectsMultiple?(i=n.props.selectedDates)===null||i===void 0?void 0:i.some(function(r){return n.isSameDayOrWeek(r)}):n.isSameDayOrWeek(n.props.selected)},n.getClassNames=function(i){var r=n.props.dayClassName?n.props.dayClassName(i):void 0;return Jt("react-datepicker__day",r,"react-datepicker__day--"+jF(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass(),n.getHolidaysClass())},n.getAriaLabel=function(){var i=n.props,r=i.day,s=i.ariaLabelPrefixWhenEnabled,o=s===void 0?"Choose":s,a=i.ariaLabelPrefixWhenDisabled,l=a===void 0?"Not available":a,c=n.isDisabled()||n.isExcluded()?l:o;return"".concat(c," ").concat(gt(r,"PPPP",n.props.locale))},n.getTitle=function(){var i=n.props,r=i.day,s=i.holidays,o=s===void 0?new Map:s,a=i.excludeDates,l=gt(r,"MM.dd.yyyy"),c=[];return o.has(l)&&c.push.apply(c,o.get(l).holidayNames),n.isExcluded()&&c.push(a==null?void 0:a.filter(function(u){return u instanceof Date?Ae(u,r):Ae(u==null?void 0:u.date,r)}).map(function(u){if(!(u instanceof Date))return u==null?void 0:u.message})),c.join(", ")},n.getTabIndex=function(){var i=n.props.selected,r=n.props.preSelection,s=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(i)&&Ae(r,i))?0:-1;return s},n.handleFocusDay=function(){var i;n.shouldFocusDay()&&((i=n.dayEl.current)===null||i===void 0||i.focus({preventScroll:!0}))},n.renderDayContents=function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(jS(n.props.day),n.props.day):jS(n.props.day)},n.render=function(){return j.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"option",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&j.createElement("span",{className:"overlay"},n.getTitle()))},n}return t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var n=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(n=!1),this.isDayActiveElement()&&(n=!0),this.isDuplicateDay()&&(n=!1)),n},t.prototype.isDayActiveElement=function(){var n,i,r;return((i=(n=this.props.containerRef)===null||n===void 0?void 0:n.current)===null||i===void 0?void 0:i.contains(document.activeElement))&&((r=document.activeElement)===null||r===void 0?void 0:r.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t}(N.Component),oB=function(e){tn(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.weekNumberEl=N.createRef(),n.handleClick=function(i){n.props.onClick&&n.props.onClick(i)},n.handleOnKeyDown=function(i){var r,s,o=i.key;o===ee.Space&&(i.preventDefault(),i.key=ee.Enter),(s=(r=n.props).handleOnKeyDown)===null||s===void 0||s.call(r,i)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!Ae(n.props.date,n.props.selected)&&Ae(n.props.date,n.props.preSelection)},n.getTabIndex=function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||Ae(n.props.date,n.props.selected)&&Ae(n.props.preSelection,n.props.selected))?0:-1},n.handleFocusWeekNumber=function(i){var r=!1;n.getTabIndex()===0&&!(i!=null&&i.isInputFocused)&&Ae(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(r=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(r=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(r=!0)),r&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(n){this.handleFocusWeekNumber(n)},t.prototype.render=function(){var n=this.props,i=n.weekNumber,r=n.ariaLabelPrefix,s=r===void 0?t.defaultProps.ariaLabelPrefix:r,o=n.onClick,a={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!o,"react-datepicker__week-number--selected":!!o&&Ae(this.props.date,this.props.selected),"react-datepicker__week-number--keyboard-selected":this.isKeyboardSelected()};return j.createElement("div",{ref:this.weekNumberEl,className:Jt(a),"aria-label":"".concat(s," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},i)},t}(N.Component),aB=function(e){tn(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.isDisabled=function(i){return $s(i,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(i,r){n.props.onDayClick&&n.props.onDayClick(i,r)},n.handleDayMouseEnter=function(i){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(i)},n.handleWeekClick=function(i,r,s){for(var o,a,l,c=new Date(i),u=0;u<7;u++){var d=new Date(i);d.setDate(d.getDate()+u);var h=!n.isDisabled(d);if(h){c=d;break}}typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(c,r,s),n.props.showWeekPicker&&n.handleDayClick(c,s),((o=n.props.shouldCloseOnSelect)!==null&&o!==void 0?o:t.defaultProps.shouldCloseOnSelect)&&((l=(a=n.props).setOpen)===null||l===void 0||l.call(a,!1))},n.formatWeekNumber=function(i){return n.props.formatWeekNumber?n.props.formatWeekNumber(i):GF(i)},n.renderDays=function(){var i=n.startOfWeek(),r=[],s=n.formatWeekNumber(i);if(n.props.showWeekNumber){var o=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,i,s):void 0;r.push(j.createElement(oB,_e({key:"W"},t.defaultProps,n.props,{weekNumber:s,date:i,onClick:o})))}return r.concat([0,1,2,3,4,5,6].map(function(a){var l=Ro(i,a);return j.createElement(sB,_e({},t.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:l.valueOf(),day:l,onClick:n.handleDayClick.bind(n,l),onMouseEnter:n.handleDayMouseEnter.bind(n,l)}))}))},n.startOfWeek=function(){return co(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!Ae(n.startOfWeek(),n.props.selected)&&Ae(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":Ae(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return j.createElement("div",{className:Jt(n)},this.renderDays())},t}(N.Component),qc,lB=6,Rl={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Rm=(qc={},qc[Rl.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},qc[Rl.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},qc[Rl.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},qc),Wh=1;function mM(e,t){return e?Rl.FOUR_COLUMNS:t?Rl.TWO_COLUMNS:Rl.THREE_COLUMNS}var cB=function(e){tn(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.MONTH_REFS=Ir([],Array(12),!0).map(function(){return N.createRef()}),n.QUARTER_REFS=Ir([],Array(4),!0).map(function(){return N.createRef()}),n.isDisabled=function(i){return $s(i,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(i){return nx(i,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.handleDayClick=function(i,r){var s,o;(o=(s=n.props).onDayClick)===null||o===void 0||o.call(s,i,r,n.props.orderInDisplay)},n.handleDayMouseEnter=function(i){var r,s;(s=(r=n.props).onDayMouseEnter)===null||s===void 0||s.call(r,i)},n.handleMouseLeave=function(){var i,r;(r=(i=n.props).onMouseLeave)===null||r===void 0||r.call(i)},n.isRangeStartMonth=function(i){var r=n.props,s=r.day,o=r.startDate,a=r.endDate;return!o||!a?!1:En(ai(s,i),o)},n.isRangeStartQuarter=function(i){var r=n.props,s=r.day,o=r.startDate,a=r.endDate;return!o||!a?!1:Df(rl(s,i),o)},n.isRangeEndMonth=function(i){var r=n.props,s=r.day,o=r.startDate,a=r.endDate;return!o||!a?!1:En(ai(s,i),a)},n.isRangeEndQuarter=function(i){var r=n.props,s=r.day,o=r.startDate,a=r.endDate;return!o||!a?!1:Df(rl(s,i),a)},n.isInSelectingRangeMonth=function(i){var r,s=n.props,o=s.day,a=s.selectsStart,l=s.selectsEnd,c=s.selectsRange,u=s.startDate,d=s.endDate,h=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return!(a||l||c)||!h?!1:a&&d?Yh(h,d,i,o):l&&u||c&&u&&!d?Yh(u,h,i,o):!1},n.isSelectingMonthRangeStart=function(i){var r;if(!n.isInSelectingRangeMonth(i))return!1;var s=n.props,o=s.day,a=s.startDate,l=s.selectsStart,c=ai(o,i),u=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return l?En(c,u):En(c,a)},n.isSelectingMonthRangeEnd=function(i){var r;if(!n.isInSelectingRangeMonth(i))return!1;var s=n.props,o=s.day,a=s.endDate,l=s.selectsEnd,c=s.selectsRange,u=ai(o,i),d=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return l||c?En(u,d):En(u,a)},n.isInSelectingRangeQuarter=function(i){var r,s=n.props,o=s.day,a=s.selectsStart,l=s.selectsEnd,c=s.selectsRange,u=s.startDate,d=s.endDate,h=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return!(a||l||c)||!h?!1:a&&d?jh(h,d,i,o):l&&u||c&&u&&!d?jh(u,h,i,o):!1},n.isWeekInMonth=function(i){var r=n.props.day,s=Ro(i,6);return En(i,r)||En(s,r)},n.isCurrentMonth=function(i,r){return Ee(i)===Ee(Ze())&&r===In(Ze())},n.isCurrentQuarter=function(i,r){return Ee(i)===Ee(Ze())&&r===fa(Ze())},n.isSelectedMonth=function(i,r,s){return In(s)===r&&Ee(i)===Ee(s)},n.isSelectMonthInList=function(i,r,s){return s.some(function(o){return n.isSelectedMonth(i,r,o)})},n.isSelectedQuarter=function(i,r,s){return fa(i)===r&&Ee(i)===Ee(s)},n.renderWeeks=function(){for(var i=[],r=n.props.fixedHeight,s=0,o=!1,a=co(uo(n.props.day),n.props.locale,n.props.calendarStartDay),l=function(f){return n.props.showWeekPicker?co(f,n.props.locale,n.props.calendarStartDay):n.props.preSelection},c=function(f){return n.props.showWeekPicker?co(f,n.props.locale,n.props.calendarStartDay):n.props.selected},u=n.props.selected?c(n.props.selected):void 0,d=n.props.preSelection?l(n.props.preSelection):void 0;i.push(j.createElement(aB,_e({},n.props,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,key:s,day:a,month:In(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,selected:u,preSelection:d,showWeekNumber:n.props.showWeekNumbers}))),!o;){s++,a=df(a,1);var h=r&&s>=lB,p=!r&&!n.isWeekInMonth(a);if(h||p)if(n.props.peekNextMonth)o=!0;else break}return i},n.onMonthClick=function(i,r){var s=n.isMonthDisabledForLabelDate(r),o=s.isDisabled,a=s.labelDate;o||n.handleDayClick(uo(a),i)},n.onMonthMouseEnter=function(i){var r=n.isMonthDisabledForLabelDate(i),s=r.isDisabled,o=r.labelDate;s||n.handleDayMouseEnter(uo(o))},n.handleMonthNavigation=function(i,r){var s,o,a,l;(o=(s=n.props).setPreSelection)===null||o===void 0||o.call(s,r),(l=(a=n.MONTH_REFS[i])===null||a===void 0?void 0:a.current)===null||l===void 0||l.focus()},n.handleKeyboardNavigation=function(i,r,s){var o,a=n.props,l=a.selected,c=a.preSelection,u=a.setPreSelection,d=a.minDate,h=a.maxDate,p=a.showFourColumnMonthYearPicker,f=a.showTwoColumnMonthYearPicker;if(c){var g=mM(p,f),v=n.getVerticalOffset(g),y=(o=Rm[g])===null||o===void 0?void 0:o.grid,m=function(C,k,L){var T,O,Y=k,E=L;switch(C){case ee.ArrowRight:Y=or(k,Wh),E=L===11?0:L+Wh;break;case ee.ArrowLeft:Y=Xl(k,Wh),E=L===0?11:L-Wh;break;case ee.ArrowUp:Y=Xl(k,v),E=!((T=y==null?void 0:y[0])===null||T===void 0)&&T.includes(L)?L+12-v:L-v;break;case ee.ArrowDown:Y=or(k,v),E=!((O=y==null?void 0:y[y.length-1])===null||O===void 0)&&O.includes(L)?L-12+v:L+v;break}return{newCalculatedDate:Y,newCalculatedMonth:E}},x=function(C,k,L){for(var T=40,O=C,Y=!1,E=0,_=m(O,k,L),R=_.newCalculatedDate,z=_.newCalculatedMonth;!Y;){if(E>=T){R=k,z=L;break}if(d&&R<d){O=ee.ArrowRight;var P=m(O,R,z);R=P.newCalculatedDate,z=P.newCalculatedMonth}if(h&&R>h){O=ee.ArrowLeft;var P=m(O,R,z);R=P.newCalculatedDate,z=P.newCalculatedMonth}if($F(R,n.props)){var P=m(O,R,z);R=P.newCalculatedDate,z=P.newCalculatedMonth}else Y=!0;E++}return{newCalculatedDate:R,newCalculatedMonth:z}};if(r===ee.Enter){n.isMonthDisabled(s)||(n.onMonthClick(i,s),u==null||u(l));return}var S=x(r,c,s),D=S.newCalculatedDate,M=S.newCalculatedMonth;switch(r){case ee.ArrowRight:case ee.ArrowLeft:case ee.ArrowUp:case ee.ArrowDown:n.handleMonthNavigation(M,D);break}}},n.getVerticalOffset=function(i){var r,s;return(s=(r=Rm[i])===null||r===void 0?void 0:r.verticalNavigationOffset)!==null&&s!==void 0?s:0},n.onMonthKeyDown=function(i,r){var s=n.props,o=s.disabledKeyboardNavigation,a=s.handleOnMonthKeyDown,l=i.key;l!==ee.Tab&&i.preventDefault(),o||n.handleKeyboardNavigation(i,l,r),a&&a(i)},n.onQuarterClick=function(i,r){var s=rl(n.props.day,r);Nm(s,n.props)||n.handleDayClick(tM(s),i)},n.onQuarterMouseEnter=function(i){var r=rl(n.props.day,i);Nm(r,n.props)||n.handleDayMouseEnter(tM(r))},n.handleQuarterNavigation=function(i,r){var s,o,a,l;n.isDisabled(r)||n.isExcluded(r)||((o=(s=n.props).setPreSelection)===null||o===void 0||o.call(s,r),(l=(a=n.QUARTER_REFS[i-1])===null||a===void 0?void 0:a.current)===null||l===void 0||l.focus())},n.onQuarterKeyDown=function(i,r){var s,o,a=i.key;if(!n.props.disabledKeyboardNavigation)switch(a){case ee.Enter:n.onQuarterClick(i,r),(o=(s=n.props).setPreSelection)===null||o===void 0||o.call(s,n.props.selected);break;case ee.ArrowRight:if(!n.props.preSelection)break;n.handleQuarterNavigation(r===4?1:r+1,U0(n.props.preSelection,1));break;case ee.ArrowLeft:if(!n.props.preSelection)break;n.handleQuarterNavigation(r===1?4:r-1,xC(n.props.preSelection,1));break}},n.isMonthDisabledForLabelDate=function(i){var r,s=n.props,o=s.day,a=s.minDate,l=s.maxDate,c=s.excludeDates,u=s.includeDates,d=ai(o,i);return{isDisabled:(r=(a||l||c||u)&&AC(d,n.props))!==null&&r!==void 0?r:!1,labelDate:d}},n.isMonthDisabled=function(i){var r=n.isMonthDisabledForLabelDate(i).isDisabled;return r},n.getMonthClassNames=function(i){var r=n.props,s=r.day,o=r.startDate,a=r.endDate,l=r.preSelection,c=r.monthClassName,u=c?c(ai(s,i)):void 0,d=n.getSelection();return Jt("react-datepicker__month-text","react-datepicker__month-".concat(i),u,{"react-datepicker__month-text--disabled":n.isMonthDisabled(i),"react-datepicker__month-text--selected":d?n.isSelectMonthInList(s,i,d):void 0,"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&l&&n.isSelectedMonth(s,i,l)&&!n.isMonthDisabled(i),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(i),"react-datepicker__month-text--in-range":o&&a?Yh(o,a,i,s):void 0,"react-datepicker__month-text--range-start":n.isRangeStartMonth(i),"react-datepicker__month-text--range-end":n.isRangeEndMonth(i),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(i),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(i),"react-datepicker__month-text--today":n.isCurrentMonth(s,i)})},n.getTabIndex=function(i){if(n.props.preSelection==null)return"-1";var r=In(n.props.preSelection),s=!n.props.disabledKeyboardNavigation&&i===r?"0":"-1";return s},n.getQuarterTabIndex=function(i){if(n.props.preSelection==null)return"-1";var r=fa(n.props.preSelection),s=!n.props.disabledKeyboardNavigation&&i===r?"0":"-1";return s},n.getAriaLabel=function(i){var r=n.props,s=r.chooseDayAriaLabelPrefix,o=s===void 0?"Choose":s,a=r.disabledDayAriaLabelPrefix,l=a===void 0?"Not available":a,c=r.day,u=r.locale,d=ai(c,i),h=n.isDisabled(d)||n.isExcluded(d)?l:o;return"".concat(h," ").concat(gt(d,"MMMM yyyy",u))},n.getQuarterClassNames=function(i){var r=n.props,s=r.day,o=r.startDate,a=r.endDate,l=r.selected,c=r.minDate,u=r.maxDate,d=r.excludeDates,h=r.includeDates,p=r.filterDate,f=r.preSelection,g=r.disabledKeyboardNavigation,v=(c||u||d||h||p)&&Nm(rl(s,i),n.props);return Jt("react-datepicker__quarter-text","react-datepicker__quarter-".concat(i),{"react-datepicker__quarter-text--disabled":v,"react-datepicker__quarter-text--selected":l?n.isSelectedQuarter(s,i,l):void 0,"react-datepicker__quarter-text--keyboard-selected":!g&&f&&n.isSelectedQuarter(s,i,f)&&!v,"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(i),"react-datepicker__quarter-text--in-range":o&&a?jh(o,a,i,s):void 0,"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(i),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(i)})},n.getMonthContent=function(i){var r=n.props,s=r.showFullMonthYearPicker,o=r.renderMonthContent,a=r.locale,l=r.day,c=RC(i,a),u=tx(i,a);return o?o(i,c,u,l):s?u:c},n.getQuarterContent=function(i){var r,s=n.props,o=s.renderQuarterContent,a=s.locale,l=KF(i,a);return(r=o==null?void 0:o(i,l))!==null&&r!==void 0?r:l},n.renderMonths=function(){var i,r=n.props,s=r.showTwoColumnMonthYearPicker,o=r.showFourColumnMonthYearPicker,a=r.day,l=r.selected,c=(i=Rm[mM(o,s)])===null||i===void 0?void 0:i.grid;return c==null?void 0:c.map(function(u,d){return j.createElement("div",{className:"react-datepicker__month-wrapper",key:d},u.map(function(h,p){return j.createElement("div",{ref:n.MONTH_REFS[h],key:p,onClick:function(f){n.onMonthClick(f,h)},onKeyDown:function(f){_C(f)&&(f.preventDefault(),f.key=ee.Enter),n.onMonthKeyDown(f,h)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(h)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(h)}:void 0,tabIndex:Number(n.getTabIndex(h)),className:n.getMonthClassNames(h),"aria-disabled":n.isMonthDisabled(h),role:"option","aria-label":n.getAriaLabel(h),"aria-current":n.isCurrentMonth(a,h)?"date":void 0,"aria-selected":l?n.isSelectedMonth(a,h,l):void 0},n.getMonthContent(h))}))})},n.renderQuarters=function(){var i=n.props,r=i.day,s=i.selected,o=[1,2,3,4];return j.createElement("div",{className:"react-datepicker__quarter-wrapper"},o.map(function(a,l){return j.createElement("div",{key:l,ref:n.QUARTER_REFS[l],role:"option",onClick:function(c){n.onQuarterClick(c,a)},onKeyDown:function(c){n.onQuarterKeyDown(c,a)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(a)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(a)}:void 0,className:n.getQuarterClassNames(a),"aria-selected":s?n.isSelectedQuarter(r,a,s):void 0,tabIndex:Number(n.getQuarterTabIndex(a)),"aria-current":n.isCurrentQuarter(r,a)?"date":void 0},n.getQuarterContent(a))}))},n.getClassNames=function(){var i=n.props,r=i.selectingDate,s=i.selectsStart,o=i.selectsEnd,a=i.showMonthYearPicker,l=i.showQuarterYearPicker,c=i.showWeekPicker;return Jt("react-datepicker__month",{"react-datepicker__month--selecting-range":r&&(s||o)},{"react-datepicker__monthPicker":a},{"react-datepicker__quarterPicker":l},{"react-datepicker__weekPicker":c})},n}return t.prototype.getSelection=function(){var n=this.props,i=n.selected,r=n.selectedDates,s=n.selectsMultiple;if(s)return r;if(i)return[i]},t.prototype.render=function(){var n=this.props,i=n.showMonthYearPicker,r=n.showQuarterYearPicker,s=n.day,o=n.ariaLabelPrefix,a=o===void 0?"Month ":o,l=a?a.trim()+" ":"";return j.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(l).concat(gt(s,"MMMM, yyyy",this.props.locale)),role:"listbox"},i?this.renderMonths():r?this.renderQuarters():this.renderWeeks())},t}(N.Component),uB=function(e){tn(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.isSelectedMonth=function(i){return n.props.month===i},n.renderOptions=function(){return n.props.monthNames.map(function(i,r){return j.createElement("div",{className:n.isSelectedMonth(r)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:i,onClick:n.onChange.bind(n,r),"aria-selected":n.isSelectedMonth(r)?"true":void 0},n.isSelectedMonth(r)?j.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",i)})},n.onChange=function(i){return n.props.onChange(i)},n.handleClickOutside=function(){return n.props.onCancel()},n}return t.prototype.render=function(){return j.createElement("div",{className:"react-datepicker__month-dropdown"},this.renderOptions())},t}(N.Component),dB=lg(uB),hB=function(e){tn(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(i){return i.map(function(r,s){return j.createElement("option",{key:r,value:s},r)})},n.renderSelectMode=function(i){return j.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(r){return n.onChange(parseInt(r.target.value))}},n.renderSelectOptions(i))},n.renderReadView=function(i,r){return j.createElement("div",{key:"read",style:{visibility:i?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},j.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),j.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},r[n.props.month]))},n.renderDropdown=function(i){return j.createElement(dB,_e({key:"dropdown"},n.props,{monthNames:i,onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(i){var r=n.state.dropdownVisible,s=[n.renderReadView(!r,i)];return r&&s.unshift(n.renderDropdown(i)),s},n.onChange=function(i){n.toggleDropdown(),i!==n.props.month&&n.props.onChange(i)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return t.prototype.render=function(){var n=this,i=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(s){return RC(s,n.props.locale)}:function(s){return tx(s,n.props.locale)}),r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode(i);break;case"select":r=this.renderSelectMode(i);break}return j.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},r)},t}(N.Component);function pB(e,t){for(var n=[],i=uo(e),r=uo(t);!bo(i,r);)n.push(Ze(i)),i=or(i,1);return n}var fB=function(e){tn(t,e);function t(n){var i=e.call(this,n)||this;return i.renderOptions=function(){return i.state.monthYearsList.map(function(r){var s=ov(r),o=Dr(i.props.date,r)&&En(i.props.date,r);return j.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:s,onClick:i.onChange.bind(i,s),"aria-selected":o?"true":void 0},o?j.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",gt(r,i.props.dateFormat,i.props.locale))})},i.onChange=function(r){return i.props.onChange(r)},i.handleClickOutside=function(){i.props.onCancel()},i.state={monthYearsList:pB(i.props.minDate,i.props.maxDate)},i}return t.prototype.render=function(){var n=Jt({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return j.createElement("div",{className:n},this.renderOptions())},t}(N.Component),gB=lg(fB),mB=function(e){tn(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var i=uo(n.props.minDate),r=uo(n.props.maxDate),s=[];!bo(i,r);){var o=ov(i);s.push(j.createElement("option",{key:o,value:o},gt(i,n.props.dateFormat,n.props.locale))),i=or(i,1)}return s},n.onSelectChange=function(i){n.onChange(parseInt(i.target.value))},n.renderSelectMode=function(){return j.createElement("select",{value:ov(uo(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(i){var r=gt(n.props.date,n.props.dateFormat,n.props.locale);return j.createElement("div",{key:"read",style:{visibility:i?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:n.toggleDropdown},j.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),j.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},r))},n.renderDropdown=function(){return j.createElement(gB,_e({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var i=n.state.dropdownVisible,r=[n.renderReadView(!i)];return i&&r.unshift(n.renderDropdown()),r},n.onChange=function(i){n.toggleDropdown();var r=Ze(i);Dr(n.props.date,r)&&En(n.props.date,r)||n.props.onChange(r)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return t.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return j.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)},t}(N.Component),yB=function(e){tn(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var i,r,s;n.list&&(n.list.scrollTop=(s=n.centerLi&&t.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-((r=(i=n.header)===null||i===void 0?void 0:i.clientHeight)!==null&&r!==void 0?r:0):n.list.clientHeight,n.centerLi))!==null&&s!==void 0?s:0)})},n.handleClick=function(i){var r,s;(n.props.minTime||n.props.maxTime)&&oM(i,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&sM(i,n.props)||(s=(r=n.props).onChange)===null||s===void 0||s.call(r,i)},n.isSelectedTime=function(i){return n.props.selected&&iB(n.props.selected,i)},n.isDisabledTime=function(i){return(n.props.minTime||n.props.maxTime)&&oM(i,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&sM(i,n.props)},n.liClasses=function(i){var r,s=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(i):void 0];return n.isSelectedTime(i)&&s.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(i)&&s.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(Or(i)*3600+_r(i)*60+fs(i))%(((r=n.props.intervals)!==null&&r!==void 0?r:t.defaultProps.intervals)*60)!==0&&s.push("react-datepicker__time-list-item--injected"),s.join(" ")},n.handleOnKeyDown=function(i,r){var s,o;i.key===ee.Space&&(i.preventDefault(),i.key=ee.Enter),(i.key===ee.ArrowUp||i.key===ee.ArrowLeft)&&i.target instanceof HTMLElement&&i.target.previousSibling&&(i.preventDefault(),i.target.previousSibling instanceof HTMLElement&&i.target.previousSibling.focus()),(i.key===ee.ArrowDown||i.key===ee.ArrowRight)&&i.target instanceof HTMLElement&&i.target.nextSibling&&(i.preventDefault(),i.target.nextSibling instanceof HTMLElement&&i.target.nextSibling.focus()),i.key===ee.Enter&&n.handleClick(r),(o=(s=n.props).handleOnKeyDown)===null||o===void 0||o.call(s,i)},n.renderTimes=function(){for(var i,r=[],s=n.props.format?n.props.format:"p",o=(i=n.props.intervals)!==null&&i!==void 0?i:t.defaultProps.intervals,a=n.props.selected||n.props.openToDate||Ze(),l=Mp(a),c=n.props.injectTimes&&n.props.injectTimes.sort(function(v,y){return v.getTime()-y.getTime()}),u=60*nB(a),d=u/o,h=0;h<d;h++){var p=rv(l,h*o);if(r.push(p),c){var f=tB(l,p,h,o,c);r=r.concat(f)}}var g=r.reduce(function(v,y){return y.getTime()<=a.getTime()?y:v},r[0]);return r.map(function(v){return j.createElement("li",{key:v.valueOf(),onClick:n.handleClick.bind(n,v),className:n.liClasses(v),ref:function(y){v===g&&(n.centerLi=y)},onKeyDown:function(y){n.handleOnKeyDown(y,v)},tabIndex:v===g?0:-1,role:"option","aria-selected":n.isSelectedTime(v)?"true":void 0,"aria-disabled":n.isDisabledTime(v)?"true":void 0},gt(v,s,n.props.locale))})},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time"}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},t.prototype.render=function(){var n=this,i,r=this.state.height;return j.createElement("div",{className:"react-datepicker__time-container ".concat(((i=this.props.todayButton)!==null&&i!==void 0?i:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},j.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(this.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(s){n.header=s}},j.createElement("div",{className:"react-datepicker-time__header"},this.props.timeCaption)),j.createElement("div",{className:"react-datepicker__time"},j.createElement("div",{className:"react-datepicker__time-box"},j.createElement("ul",{className:"react-datepicker__time-list",ref:function(s){n.list=s},style:r?{height:r}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(n,i){return i.offsetTop-(n/2-i.clientHeight/2)},t}(N.Component),yM=3,vB=function(e){tn(t,e);function t(n){var i=e.call(this,n)||this;return i.YEAR_REFS=Ir([],Array(i.props.yearItemNumber),!0).map(function(){return N.createRef()}),i.isDisabled=function(r){return $s(r,{minDate:i.props.minDate,maxDate:i.props.maxDate,excludeDates:i.props.excludeDates,includeDates:i.props.includeDates,filterDate:i.props.filterDate})},i.isExcluded=function(r){return nx(r,{excludeDates:i.props.excludeDates})},i.selectingDate=function(){var r;return(r=i.props.selectingDate)!==null&&r!==void 0?r:i.props.preSelection},i.updateFocusOnPaginate=function(r){var s=function(){var o,a;(a=(o=i.YEAR_REFS[r])===null||o===void 0?void 0:o.current)===null||a===void 0||a.focus()};window.requestAnimationFrame(s)},i.handleYearClick=function(r,s){i.props.onDayClick&&i.props.onDayClick(r,s)},i.handleYearNavigation=function(r,s){var o,a,l,c,u=i.props,d=u.date,h=u.yearItemNumber;if(!(d===void 0||h===void 0)){var p=Xs(d,h).startPeriod;i.isDisabled(s)||i.isExcluded(s)||((a=(o=i.props).setPreSelection)===null||a===void 0||a.call(o,s),r-p<0?i.updateFocusOnPaginate(h-(p-r)):r-p>=h?i.updateFocusOnPaginate(Math.abs(h-(r-p))):(c=(l=i.YEAR_REFS[r-p])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus())}},i.isSameDay=function(r,s){return Ae(r,s)},i.isCurrentYear=function(r){return r===Ee(Ze())},i.isRangeStart=function(r){return i.props.startDate&&i.props.endDate&&Dr(Mr(Ze(),r),i.props.startDate)},i.isRangeEnd=function(r){return i.props.startDate&&i.props.endDate&&Dr(Mr(Ze(),r),i.props.endDate)},i.isInRange=function(r){return Gh(r,i.props.startDate,i.props.endDate)},i.isInSelectingRange=function(r){var s=i.props,o=s.selectsStart,a=s.selectsEnd,l=s.selectsRange,c=s.startDate,u=s.endDate;return!(o||a||l)||!i.selectingDate()?!1:o&&u?Gh(r,i.selectingDate(),u):a&&c||l&&c&&!u?Gh(r,c,i.selectingDate()):!1},i.isSelectingRangeStart=function(r){var s;if(!i.isInSelectingRange(r))return!1;var o=i.props,a=o.startDate,l=o.selectsStart,c=Mr(Ze(),r);return l?Dr(c,(s=i.selectingDate())!==null&&s!==void 0?s:null):Dr(c,a??null)},i.isSelectingRangeEnd=function(r){var s;if(!i.isInSelectingRange(r))return!1;var o=i.props,a=o.endDate,l=o.selectsEnd,c=o.selectsRange,u=Mr(Ze(),r);return l||c?Dr(u,(s=i.selectingDate())!==null&&s!==void 0?s:null):Dr(u,a??null)},i.isKeyboardSelected=function(r){if(!(i.props.date===void 0||i.props.selected==null||i.props.preSelection==null)){var s=i.props,o=s.minDate,a=s.maxDate,l=s.excludeDates,c=s.includeDates,u=s.filterDate,d=lu(Mr(i.props.date,r)),h=(o||a||l||c||u)&&dv(r,i.props);return!i.props.disabledKeyboardNavigation&&!i.props.inline&&!Ae(d,lu(i.props.selected))&&Ae(d,lu(i.props.preSelection))&&!h}},i.onYearClick=function(r,s){var o=i.props.date;o!==void 0&&i.handleYearClick(lu(Mr(o,s)),r)},i.onYearKeyDown=function(r,s){var o,a,l=r.key,c=i.props,u=c.date,d=c.yearItemNumber,h=c.handleOnKeyDown;if(l!==ee.Tab&&r.preventDefault(),!i.props.disabledKeyboardNavigation)switch(l){case ee.Enter:if(i.props.selected==null)break;i.onYearClick(r,s),(a=(o=i.props).setPreSelection)===null||a===void 0||a.call(o,i.props.selected);break;case ee.ArrowRight:if(i.props.preSelection==null)break;i.handleYearNavigation(s+1,hs(i.props.preSelection,1));break;case ee.ArrowLeft:if(i.props.preSelection==null)break;i.handleYearNavigation(s-1,Zl(i.props.preSelection,1));break;case ee.ArrowUp:{if(u===void 0||d===void 0||i.props.preSelection==null)break;var p=Xs(u,d).startPeriod,f=yM,g=s-f;if(g<p){var v=d%f;s>=p&&s<p+v?f=v:f+=v,g=s-f}i.handleYearNavigation(g,Zl(i.props.preSelection,f));break}case ee.ArrowDown:{if(u===void 0||d===void 0||i.props.preSelection==null)break;var y=Xs(u,d).endPeriod,f=yM,g=s+f;if(g>y){var v=d%f;s<=y&&s>y-v?f=v:f+=v,g=s+f}i.handleYearNavigation(g,hs(i.props.preSelection,f));break}}h&&h(r)},i.getYearClassNames=function(r){var s=i.props,o=s.date,a=s.minDate,l=s.maxDate,c=s.selected,u=s.excludeDates,d=s.includeDates,h=s.filterDate,p=s.yearClassName;return Jt("react-datepicker__year-text","react-datepicker__year-".concat(r),o?p==null?void 0:p(Mr(o,r)):void 0,{"react-datepicker__year-text--selected":c?r===Ee(c):void 0,"react-datepicker__year-text--disabled":(a||l||u||d||h)&&dv(r,i.props),"react-datepicker__year-text--keyboard-selected":i.isKeyboardSelected(r),"react-datepicker__year-text--range-start":i.isRangeStart(r),"react-datepicker__year-text--range-end":i.isRangeEnd(r),"react-datepicker__year-text--in-range":i.isInRange(r),"react-datepicker__year-text--in-selecting-range":i.isInSelectingRange(r),"react-datepicker__year-text--selecting-range-start":i.isSelectingRangeStart(r),"react-datepicker__year-text--selecting-range-end":i.isSelectingRangeEnd(r),"react-datepicker__year-text--today":i.isCurrentYear(r)})},i.getYearTabIndex=function(r){if(i.props.disabledKeyboardNavigation||i.props.preSelection==null)return"-1";var s=Ee(i.props.preSelection);return r===s?"0":"-1"},i.getYearContainerClassNames=function(){var r=i.props,s=r.selectingDate,o=r.selectsStart,a=r.selectsEnd,l=r.selectsRange;return Jt("react-datepicker__year",{"react-datepicker__year--selecting-range":s&&(o||a||l)})},i.getYearContent=function(r){return i.props.renderYearContent?i.props.renderYearContent(r):r},i}return t.prototype.render=function(){var n=this,i=[],r=this.props,s=r.date,o=r.yearItemNumber,a=r.onYearMouseEnter,l=r.onYearMouseLeave;if(s===void 0)return null;for(var c=Xs(s,o),u=c.startPeriod,d=c.endPeriod,h=function(g){i.push(j.createElement("div",{ref:p.YEAR_REFS[g-u],onClick:function(v){n.onYearClick(v,g)},onKeyDown:function(v){_C(v)&&(v.preventDefault(),v.key=ee.Enter),n.onYearKeyDown(v,g)},tabIndex:Number(p.getYearTabIndex(g)),className:p.getYearClassNames(g),onMouseEnter:p.props.usePointerEvent?void 0:function(v){return a(v,g)},onPointerEnter:p.props.usePointerEvent?function(v){return a(v,g)}:void 0,onMouseLeave:p.props.usePointerEvent?void 0:function(v){return l(v,g)},onPointerLeave:p.props.usePointerEvent?function(v){return l(v,g)}:void 0,key:g,"aria-current":p.isCurrentYear(g)?"date":void 0},p.getYearContent(g)))},p=this,f=u;f<=d;f++)h(f);return j.createElement("div",{className:this.getYearContainerClassNames()},j.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},i))},t}(N.Component);function xB(e,t,n,i){for(var r=[],s=0;s<2*t+1;s++){var o=e+t-s,a=!0;n&&(a=Ee(n)<=o),i&&a&&(a=Ee(i)>=o),a&&r.push(o)}return r}var bB=function(e){tn(t,e);function t(n){var i=e.call(this,n)||this;i.renderOptions=function(){var a=i.props.year,l=i.state.yearsList.map(function(d){return j.createElement("div",{className:a===d?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:d,onClick:i.onChange.bind(i,d),"aria-selected":a===d?"true":void 0},a===d?j.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",d)}),c=i.props.minDate?Ee(i.props.minDate):null,u=i.props.maxDate?Ee(i.props.maxDate):null;return(!u||!i.state.yearsList.find(function(d){return d===u}))&&l.unshift(j.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:i.incrementYears},j.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!c||!i.state.yearsList.find(function(d){return d===c}))&&l.push(j.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:i.decrementYears},j.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),l},i.onChange=function(a){i.props.onChange(a)},i.handleClickOutside=function(){i.props.onCancel()},i.shiftYears=function(a){var l=i.state.yearsList.map(function(c){return c+a});i.setState({yearsList:l})},i.incrementYears=function(){return i.shiftYears(1)},i.decrementYears=function(){return i.shiftYears(-1)};var r=n.yearDropdownItemNumber,s=n.scrollableYearDropdown,o=r||(s?10:5);return i.state={yearsList:xB(i.props.year,o,i.props.minDate,i.props.maxDate)},i.dropdownRef=N.createRef(),i}return t.prototype.componentDidMount=function(){var n=this.dropdownRef.current;if(n){var i=n.children?Array.from(n.children):null,r=i?i.find(function(s){return s.ariaSelected}):null;n.scrollTop=r&&r instanceof HTMLElement?r.offsetTop+(r.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}},t.prototype.render=function(){var n=Jt({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return j.createElement("div",{className:n,ref:this.dropdownRef},this.renderOptions())},t}(N.Component),wB=lg(bB),SB=function(e){tn(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var i=n.props.minDate?Ee(n.props.minDate):1900,r=n.props.maxDate?Ee(n.props.maxDate):2100,s=[],o=i;o<=r;o++)s.push(j.createElement("option",{key:o,value:o},o));return s},n.onSelectChange=function(i){n.onChange(parseInt(i.target.value))},n.renderSelectMode=function(){return j.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(i){return j.createElement("div",{key:"read",style:{visibility:i?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(r){return n.toggleDropdown(r)}},j.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),j.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return j.createElement(wB,_e({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var i=n.state.dropdownVisible,r=[n.renderReadView(!i)];return i&&r.unshift(n.renderDropdown()),r},n.onChange=function(i){n.toggleDropdown(),i!==n.props.year&&n.props.onChange(i)},n.toggleDropdown=function(i){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,i)})},n.handleYearChange=function(i,r){n.onSelect(i,r),n.setOpen()},n.onSelect=function(i,r){n.props.onSelect&&n.props.onSelect(i,r)},n.setOpen=function(){n.props.setOpen&&n.props.setOpen(!0)},n}return t.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return j.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)},t}(N.Component),MB=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],DB=function(e){var t=(e.className||"").split(/\s+/);return MB.some(function(n){return t.indexOf(n)>=0})},kB=function(e){tn(t,e);function t(n){var i=e.call(this,n)||this;return i.monthContainer=void 0,i.handleClickOutside=function(r){i.props.onClickOutside(r)},i.setClickOutsideRef=function(){return i.containerRef.current},i.handleDropdownFocus=function(r){var s,o;DB(r.target)&&((o=(s=i.props).onDropdownFocus)===null||o===void 0||o.call(s,r))},i.getDateInView=function(){var r=i.props,s=r.preSelection,o=r.selected,a=r.openToDate,l=PC(i.props),c=OC(i.props),u=Ze(),d=a||o||s;return d||(l&&Ta(u,l)?l:c&&bo(u,c)?c:u)},i.increaseMonth=function(){i.setState(function(r){var s=r.date;return{date:or(s,1)}},function(){return i.handleMonthChange(i.state.date)})},i.decreaseMonth=function(){i.setState(function(r){var s=r.date;return{date:Xl(s,1)}},function(){return i.handleMonthChange(i.state.date)})},i.handleDayClick=function(r,s,o){i.props.onSelect(r,s,o),i.props.setPreSelection&&i.props.setPreSelection(r)},i.handleDayMouseEnter=function(r){i.setState({selectingDate:r}),i.props.onDayMouseEnter&&i.props.onDayMouseEnter(r)},i.handleMonthMouseLeave=function(){i.setState({selectingDate:void 0}),i.props.onMonthMouseLeave&&i.props.onMonthMouseLeave()},i.handleYearMouseEnter=function(r,s){i.setState({selectingDate:Mr(Ze(),s)}),i.props.onYearMouseEnter&&i.props.onYearMouseEnter(r,s)},i.handleYearMouseLeave=function(r,s){i.props.onYearMouseLeave&&i.props.onYearMouseLeave(r,s)},i.handleYearChange=function(r){i.props.onYearChange&&(i.props.onYearChange(r),i.setState({isRenderAriaLiveMessage:!0})),i.props.adjustDateOnChange&&(i.props.onSelect&&i.props.onSelect(r),i.props.setOpen&&i.props.setOpen(!0)),i.props.setPreSelection&&i.props.setPreSelection(r)},i.handleMonthChange=function(r){i.handleCustomMonthChange(r),i.props.adjustDateOnChange&&(i.props.onSelect&&i.props.onSelect(r),i.props.setOpen&&i.props.setOpen(!0)),i.props.setPreSelection&&i.props.setPreSelection(r)},i.handleCustomMonthChange=function(r){i.props.onMonthChange&&(i.props.onMonthChange(r),i.setState({isRenderAriaLiveMessage:!0}))},i.handleMonthYearChange=function(r){i.handleYearChange(r),i.handleMonthChange(r)},i.changeYear=function(r){i.setState(function(s){var o=s.date;return{date:Mr(o,Number(r))}},function(){return i.handleYearChange(i.state.date)})},i.changeMonth=function(r){i.setState(function(s){var o=s.date;return{date:ai(o,Number(r))}},function(){return i.handleMonthChange(i.state.date)})},i.changeMonthYear=function(r){i.setState(function(s){var o=s.date;return{date:Mr(ai(o,In(r)),Ee(r))}},function(){return i.handleMonthYearChange(i.state.date)})},i.header=function(r){r===void 0&&(r=i.state.date);var s=co(r,i.props.locale,i.props.calendarStartDay),o=[];return i.props.showWeekNumbers&&o.push(j.createElement("div",{key:"W",className:"react-datepicker__day-name"},i.props.weekLabel||"#")),o.concat([0,1,2,3,4,5,6].map(function(a){var l=Ro(s,a),c=i.formatWeekday(l,i.props.locale),u=i.props.weekDayClassName?i.props.weekDayClassName(l):void 0;return j.createElement("div",{key:a,"aria-label":gt(l,"EEEE",i.props.locale),className:Jt("react-datepicker__day-name",u)},c)}))},i.formatWeekday=function(r,s){return i.props.formatWeekDay?HF(r,i.props.formatWeekDay,s):i.props.useWeekdaysShort?VF(r,s):UF(r,s)},i.decreaseYear=function(){i.setState(function(r){var s,o=r.date;return{date:Zl(o,i.props.showYearPicker?(s=i.props.yearItemNumber)!==null&&s!==void 0?s:t.defaultProps.yearItemNumber:1)}},function(){return i.handleYearChange(i.state.date)})},i.clearSelectingDate=function(){i.setState({selectingDate:void 0})},i.renderPreviousButton=function(){var r;if(!i.props.renderCustomHeader){var s;switch(!0){case i.props.showMonthYearPicker:s=cM(i.state.date,i.props);break;case i.props.showYearPicker:s=qF(i.state.date,i.props);break;case i.props.showQuarterYearPicker:s=XF(i.state.date,i.props);break;default:s=aM(i.state.date,i.props);break}if(!(!((r=i.props.forceShowMonthNavigation)!==null&&r!==void 0?r:t.defaultProps.forceShowMonthNavigation)&&!i.props.showDisabledMonthNavigation&&s||i.props.showTimeSelectOnly)){var o=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],a=["react-datepicker__navigation","react-datepicker__navigation--previous"],l=i.decreaseMonth;(i.props.showMonthYearPicker||i.props.showQuarterYearPicker||i.props.showYearPicker)&&(l=i.decreaseYear),s&&i.props.showDisabledMonthNavigation&&(a.push("react-datepicker__navigation--previous--disabled"),l=void 0);var c=i.props.showMonthYearPicker||i.props.showQuarterYearPicker||i.props.showYearPicker,u=i.props,d=u.previousMonthButtonLabel,h=d===void 0?t.defaultProps.previousMonthButtonLabel:d,p=u.previousYearButtonLabel,f=p===void 0?t.defaultProps.previousYearButtonLabel:p,g=i.props,v=g.previousMonthAriaLabel,y=v===void 0?typeof h=="string"?h:"Previous Month":v,m=g.previousYearAriaLabel,x=m===void 0?typeof f=="string"?f:"Previous Year":m;return j.createElement("button",{type:"button",className:a.join(" "),onClick:l,onKeyDown:i.props.handleOnKeyDown,"aria-label":c?x:y},j.createElement("span",{className:o.join(" ")},c?f:h))}}},i.increaseYear=function(){i.setState(function(r){var s,o=r.date;return{date:hs(o,i.props.showYearPicker?(s=i.props.yearItemNumber)!==null&&s!==void 0?s:t.defaultProps.yearItemNumber:1)}},function(){return i.handleYearChange(i.state.date)})},i.renderNextButton=function(){var r;if(!i.props.renderCustomHeader){var s;switch(!0){case i.props.showMonthYearPicker:s=uM(i.state.date,i.props);break;case i.props.showYearPicker:s=QF(i.state.date,i.props);break;case i.props.showQuarterYearPicker:s=ZF(i.state.date,i.props);break;default:s=lM(i.state.date,i.props);break}if(!(!((r=i.props.forceShowMonthNavigation)!==null&&r!==void 0?r:t.defaultProps.forceShowMonthNavigation)&&!i.props.showDisabledMonthNavigation&&s||i.props.showTimeSelectOnly)){var o=["react-datepicker__navigation","react-datepicker__navigation--next"],a=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];i.props.showTimeSelect&&o.push("react-datepicker__navigation--next--with-time"),i.props.todayButton&&o.push("react-datepicker__navigation--next--with-today-button");var l=i.increaseMonth;(i.props.showMonthYearPicker||i.props.showQuarterYearPicker||i.props.showYearPicker)&&(l=i.increaseYear),s&&i.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--next--disabled"),l=void 0);var c=i.props.showMonthYearPicker||i.props.showQuarterYearPicker||i.props.showYearPicker,u=i.props,d=u.nextMonthButtonLabel,h=d===void 0?t.defaultProps.nextMonthButtonLabel:d,p=u.nextYearButtonLabel,f=p===void 0?t.defaultProps.nextYearButtonLabel:p,g=i.props,v=g.nextMonthAriaLabel,y=v===void 0?typeof h=="string"?h:"Next Month":v,m=g.nextYearAriaLabel,x=m===void 0?typeof f=="string"?f:"Next Year":m;return j.createElement("button",{type:"button",className:o.join(" "),onClick:l,onKeyDown:i.props.handleOnKeyDown,"aria-label":c?x:y},j.createElement("span",{className:a.join(" ")},c?f:h))}}},i.renderCurrentMonth=function(r){r===void 0&&(r=i.state.date);var s=["react-datepicker__current-month"];return i.props.showYearDropdown&&s.push("react-datepicker__current-month--hasYearDropdown"),i.props.showMonthDropdown&&s.push("react-datepicker__current-month--hasMonthDropdown"),i.props.showMonthYearDropdown&&s.push("react-datepicker__current-month--hasMonthYearDropdown"),j.createElement("h2",{className:s.join(" ")},gt(r,i.props.dateFormat,i.props.locale))},i.renderYearDropdown=function(r){if(r===void 0&&(r=!1),!(!i.props.showYearDropdown||r))return j.createElement(SB,_e({},t.defaultProps,i.props,{date:i.state.date,onChange:i.changeYear,year:Ee(i.state.date)}))},i.renderMonthDropdown=function(r){if(r===void 0&&(r=!1),!(!i.props.showMonthDropdown||r))return j.createElement(hB,_e({},t.defaultProps,i.props,{month:In(i.state.date),onChange:i.changeMonth}))},i.renderMonthYearDropdown=function(r){if(r===void 0&&(r=!1),!(!i.props.showMonthYearDropdown||r))return j.createElement(mB,_e({},t.defaultProps,i.props,{date:i.state.date,onChange:i.changeMonthYear}))},i.handleTodayButtonClick=function(r){i.props.onSelect(nM(),r),i.props.setPreSelection&&i.props.setPreSelection(nM())},i.renderTodayButton=function(){if(!(!i.props.todayButton||i.props.showTimeSelectOnly))return j.createElement("div",{className:"react-datepicker__today-button",onClick:i.handleTodayButtonClick},i.props.todayButton)},i.renderDefaultHeader=function(r){var s=r.monthDate,o=r.i;return j.createElement("div",{className:"react-datepicker__header ".concat(i.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},i.renderCurrentMonth(s),j.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(i.props.dropdownMode),onFocus:i.handleDropdownFocus},i.renderMonthDropdown(o!==0),i.renderMonthYearDropdown(o!==0),i.renderYearDropdown(o!==0)),j.createElement("div",{className:"react-datepicker__day-names"},i.header(s)))},i.renderCustomHeader=function(r){var s,o,a=r.monthDate,l=r.i;if(i.props.showTimeSelect&&!i.state.monthContainer||i.props.showTimeSelectOnly)return null;var c=aM(i.state.date,i.props),u=lM(i.state.date,i.props),d=cM(i.state.date,i.props),h=uM(i.state.date,i.props),p=!i.props.showMonthYearPicker&&!i.props.showQuarterYearPicker&&!i.props.showYearPicker;return j.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:i.props.onDropdownFocus},(o=(s=i.props).renderCustomHeader)===null||o===void 0?void 0:o.call(s,_e(_e({},i.state),{customHeaderCount:l,monthDate:a,changeMonth:i.changeMonth,changeYear:i.changeYear,decreaseMonth:i.decreaseMonth,increaseMonth:i.increaseMonth,decreaseYear:i.decreaseYear,increaseYear:i.increaseYear,prevMonthButtonDisabled:c,nextMonthButtonDisabled:u,prevYearButtonDisabled:d,nextYearButtonDisabled:h})),p&&j.createElement("div",{className:"react-datepicker__day-names"},i.header(a)))},i.renderYearHeader=function(r){var s=r.monthDate,o=i.props,a=o.showYearPicker,l=o.yearItemNumber,c=l===void 0?t.defaultProps.yearItemNumber:l,u=Xs(s,c),d=u.startPeriod,h=u.endPeriod;return j.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},a?"".concat(d," - ").concat(h):Ee(s))},i.renderHeader=function(r){var s=r.monthDate,o=r.i,a=o===void 0?0:o,l={monthDate:s,i:a};switch(!0){case i.props.renderCustomHeader!==void 0:return i.renderCustomHeader(l);case(i.props.showMonthYearPicker||i.props.showQuarterYearPicker||i.props.showYearPicker):return i.renderYearHeader(l);default:return i.renderDefaultHeader(l)}},i.renderMonths=function(){var r,s;if(!(i.props.showTimeSelectOnly||i.props.showYearPicker)){for(var o=[],a=(r=i.props.monthsShown)!==null&&r!==void 0?r:t.defaultProps.monthsShown,l=i.props.showPreviousMonths?a-1:0,c=i.props.showMonthYearPicker||i.props.showQuarterYearPicker?hs(i.state.date,l):Xl(i.state.date,l),u=(s=i.props.monthSelectedIn)!==null&&s!==void 0?s:l,d=0;d<a;++d){var h=d-u+l,p=i.props.showMonthYearPicker||i.props.showQuarterYearPicker?hs(c,h):or(c,h),f="month-".concat(d),g=d<a-1,v=d>0;o.push(j.createElement("div",{key:f,ref:function(y){i.monthContainer=y??void 0},className:"react-datepicker__month-container"},i.renderHeader({monthDate:p,i:d}),j.createElement(cB,_e({},t.defaultProps,i.props,{ariaLabelPrefix:i.props.monthAriaLabelPrefix,day:p,onDayClick:i.handleDayClick,handleOnKeyDown:i.props.handleOnDayKeyDown,handleOnMonthKeyDown:i.props.handleOnKeyDown,onDayMouseEnter:i.handleDayMouseEnter,onMouseLeave:i.handleMonthMouseLeave,orderInDisplay:d,selectingDate:i.state.selectingDate,monthShowsDuplicateDaysEnd:g,monthShowsDuplicateDaysStart:v}))))}return o}},i.renderYears=function(){if(!i.props.showTimeSelectOnly&&i.props.showYearPicker)return j.createElement("div",{className:"react-datepicker__year--container"},i.renderHeader({monthDate:i.state.date}),j.createElement(vB,_e({},t.defaultProps,i.props,{selectingDate:i.state.selectingDate,date:i.state.date,onDayClick:i.handleDayClick,clearSelectingDate:i.clearSelectingDate,onYearMouseEnter:i.handleYearMouseEnter,onYearMouseLeave:i.handleYearMouseLeave})))},i.renderTimeSection=function(){if(i.props.showTimeSelect&&(i.state.monthContainer||i.props.showTimeSelectOnly))return j.createElement(yB,_e({},t.defaultProps,i.props,{onChange:i.props.onTimeChange,format:i.props.timeFormat,intervals:i.props.timeIntervals,monthRef:i.state.monthContainer}))},i.renderInputTimeSection=function(){var r=i.props.selected?new Date(i.props.selected):void 0,s=r&&ns(r)&&!!i.props.selected,o=s?"".concat(hM(r.getHours()),":").concat(hM(r.getMinutes())):"";if(i.props.showTimeInput)return j.createElement(rB,_e({},t.defaultProps,i.props,{date:r,timeString:o,onChange:i.props.onTimeChange}))},i.renderAriaLiveRegion=function(){var r,s=Xs(i.state.date,(r=i.props.yearItemNumber)!==null&&r!==void 0?r:t.defaultProps.yearItemNumber),o=s.startPeriod,a=s.endPeriod,l;return i.props.showYearPicker?l="".concat(o," - ").concat(a):i.props.showMonthYearPicker||i.props.showQuarterYearPicker?l=Ee(i.state.date):l="".concat(tx(In(i.state.date),i.props.locale)," ").concat(Ee(i.state.date)),j.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},i.state.isRenderAriaLiveMessage&&l)},i.renderChildren=function(){if(i.props.children)return j.createElement("div",{className:"react-datepicker__children-container"},i.props.children)},i.containerRef=N.createRef(),i.state={date:i.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},i}return Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Kd}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){n.setState({monthContainer:n.monthContainer})}())},t.prototype.componentDidUpdate=function(n){var i=this;if(this.props.preSelection&&(!Ae(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var r=!En(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return r&&i.handleCustomMonthChange(i.state.date)})}else this.props.openToDate&&!Ae(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})},t.prototype.render=function(){var n=this.props.container||_F;return j.createElement("div",{style:{display:"contents"},ref:this.containerRef},j.createElement(n,{className:Jt("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))},t}(N.Component),CB=function(e){var t=e.icon,n=e.className,i=n===void 0?"":n,r=e.onClick,s="react-datepicker__calendar-icon";return typeof t=="string"?j.createElement("i",{className:"".concat(s," ").concat(t," ").concat(i),"aria-hidden":"true",onClick:r}):j.isValidElement(t)?j.cloneElement(t,{className:"".concat(t.props.className||""," ").concat(s," ").concat(i),onClick:function(o){typeof t.props.onClick=="function"&&t.props.onClick(o),typeof r=="function"&&r(o)}}):j.createElement("svg",{className:"".concat(s," ").concat(i),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:r},j.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},FC=function(e){tn(t,e);function t(n){var i=e.call(this,n)||this;return i.portalRoot=null,i.el=document.createElement("div"),i}return t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return Y1.createPortal(this.props.children,this.el)},t}(N.Component),LB="[tabindex], a, button, input, select, textarea",EB=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},BC=function(e){tn(t,e);function t(n){var i=e.call(this,n)||this;return i.getTabChildren=function(){var r;return Array.prototype.slice.call((r=i.tabLoopRef.current)===null||r===void 0?void 0:r.querySelectorAll(LB),1,-1).filter(EB)},i.handleFocusStart=function(){var r=i.getTabChildren();r&&r.length>1&&r[r.length-1].focus()},i.handleFocusEnd=function(){var r=i.getTabChildren();r&&r.length>1&&r[0].focus()},i.tabLoopRef=N.createRef(),i}return t.prototype.render=function(){var n;return((n=this.props.enableTabLoop)!==null&&n!==void 0?n:t.defaultProps.enableTabLoop)?j.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},j.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,j.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t}(N.Component);function TB(e){var t=function(n){var i,r=typeof n.hidePopper=="boolean"?n.hidePopper:!0,s=N.useRef(null),o=OF(_e({open:!r,whileElementsMounted:pF,placement:n.popperPlacement,middleware:Ir([bF({padding:15}),xF(10),wF({element:s})],(i=n.popperModifiers)!==null&&i!==void 0?i:[],!0)},n.popperProps)),a=_e(_e({},n),{hidePopper:r,popperProps:_e(_e({},o),{arrowRef:s})});return j.createElement(e,_e({},a))};return t}var IB=function(e){tn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var n=this.props,i=n.className,r=n.wrapperClassName,s=n.hidePopper,o=s===void 0?t.defaultProps.hidePopper:s,a=n.popperComponent,l=n.targetComponent,c=n.enableTabLoop,u=n.popperOnKeyDown,d=n.portalId,h=n.portalHost,p=n.popperProps,f=n.showArrow,g=void 0;if(!o){var v=Jt("react-datepicker-popper",i);g=j.createElement(BC,{enableTabLoop:c},j.createElement("div",{ref:p.refs.setFloating,style:p.floatingStyles,className:v,"data-placement":p.placement,onKeyDown:u},a,f&&j.createElement(EF,{ref:p.arrowRef,context:p.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(g=N.createElement(this.props.popperContainer,{},g)),d&&!o&&(g=j.createElement(FC,{portalId:d,portalHost:h},g));var y=Jt("react-datepicker-wrapper",r);return j.createElement(j.Fragment,null,j.createElement("div",{ref:p.refs.setReference,className:y},l),g)},t}(N.Component),NB=TB(IB),vM="react-datepicker-ignore-onclickoutside",RB=lg(kB);function AB(e,t){return e&&t?In(e)!==In(t)||Ee(e)!==Ee(t):e!==t}var Am="Date input not valid.",xM=function(e){tn(t,e);function t(n){var i=e.call(this,n)||this;return i.calendar=null,i.input=null,i.getPreSelection=function(){return i.props.openToDate?i.props.openToDate:i.props.selectsEnd&&i.props.startDate?i.props.startDate:i.props.selectsStart&&i.props.endDate?i.props.endDate:Ze()},i.modifyHolidays=function(){var r;return(r=i.props.holidays)===null||r===void 0?void 0:r.reduce(function(s,o){var a=new Date(o.date);return ns(a)?Ir(Ir([],s,!0),[_e(_e({},o),{date:a})],!1):s},[])},i.calcInitialState=function(){var r,s=i.getPreSelection(),o=PC(i.props),a=OC(i.props),l=o&&Ta(s,Mp(o))?o:a&&bo(s,iM(a))?a:s;return{open:i.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(r=i.props.selectsRange?i.props.startDate:i.props.selected)!==null&&r!==void 0?r:l,highlightDates:dM(i.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},i.resetHiddenStatus=function(){i.setState(_e(_e({},i.state),{wasHidden:!1}))},i.setHiddenStatus=function(){i.setState(_e(_e({},i.state),{wasHidden:!0}))},i.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&i.setHiddenStatus()},i.clearPreventFocusTimeout=function(){i.preventFocusTimeout&&clearTimeout(i.preventFocusTimeout)},i.setFocus=function(){i.input&&i.input.focus&&i.input.focus({preventScroll:!0})},i.setBlur=function(){i.input&&i.input.blur&&i.input.blur(),i.cancelFocusInput()},i.setOpen=function(r,s){s===void 0&&(s=!1),i.setState({open:r,preSelection:r&&i.state.open?i.state.preSelection:i.calcInitialState().preSelection,lastPreSelectChange:Pm},function(){r||i.setState(function(o){return{focused:s?o.focused:!1}},function(){!s&&i.setBlur(),i.setState({inputValue:null})})})},i.inputOk=function(){return ps(i.state.preSelection)},i.isCalendarOpen=function(){return i.props.open===void 0?i.state.open&&!i.props.disabled&&!i.props.readOnly:i.props.open},i.handleFocus=function(r){var s,o,a=i.state.wasHidden,l=a?i.state.open:!0;a&&i.resetHiddenStatus(),!i.state.preventFocus&&l&&((o=(s=i.props).onFocus)===null||o===void 0||o.call(s,r),!i.props.preventOpenOnFocus&&!i.props.readOnly&&i.setOpen(!0)),i.setState({focused:!0})},i.sendFocusBackToInput=function(){i.preventFocusTimeout&&i.clearPreventFocusTimeout(),i.setState({preventFocus:!0},function(){i.preventFocusTimeout=setTimeout(function(){i.setFocus(),i.setState({preventFocus:!1})})})},i.cancelFocusInput=function(){clearTimeout(i.inputFocusTimeout),i.inputFocusTimeout=void 0},i.deferFocusInput=function(){i.cancelFocusInput(),i.inputFocusTimeout=setTimeout(function(){return i.setFocus()},1)},i.handleDropdownFocus=function(){i.cancelFocusInput()},i.handleBlur=function(r){var s,o;(!i.state.open||i.props.withPortal||i.props.showTimeInput)&&((o=(s=i.props).onBlur)===null||o===void 0||o.call(s,r)),i.setState({focused:!1})},i.handleCalendarClickOutside=function(r){var s,o;i.props.inline||i.setOpen(!1),(o=(s=i.props).onClickOutside)===null||o===void 0||o.call(s,r),i.props.withPortal&&r.preventDefault()},i.handleChange=function(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];var o=r[0];if(!(i.props.onChangeRaw&&(i.props.onChangeRaw.apply(i,r),!o||typeof o.isDefaultPrevented!="function"||o.isDefaultPrevented()))){i.setState({inputValue:(o==null?void 0:o.target)instanceof HTMLInputElement?o.target.value:null,lastPreSelectChange:PB});var a=i.props,l=a.dateFormat,c=l===void 0?t.defaultProps.dateFormat:l,u=a.strictParsing,d=u===void 0?t.defaultProps.strictParsing:u,h=BF((o==null?void 0:o.target)instanceof HTMLInputElement?o.target.value:"",c,i.props.locale,d,i.props.minDate);i.props.showTimeSelectOnly&&i.props.selected&&h&&!Ae(h,i.props.selected)&&(h=A2(i.props.selected,{hours:Or(h),minutes:_r(h),seconds:fs(h)})),(h||!((o==null?void 0:o.target)instanceof HTMLInputElement)||!(o!=null&&o.target.value))&&i.setSelected(h,o,!0)}},i.handleSelect=function(r,s,o){if(i.props.shouldCloseOnSelect&&!i.props.showTimeSelect&&i.sendFocusBackToInput(),i.props.onChangeRaw&&i.props.onChangeRaw(s),i.setSelected(r,s,!1,o),i.props.showDateSelect&&i.setState({isRenderAriaLiveMessage:!0}),!i.props.shouldCloseOnSelect||i.props.showTimeSelect)i.setPreSelection(r);else if(!i.props.inline){i.props.selectsRange||i.setOpen(!1);var a=i.props,l=a.startDate,c=a.endDate;l&&!c&&(i.props.swapRange||!gM(r,l))&&i.setOpen(!1)}},i.setSelected=function(r,s,o,a){var l,c=r;if(i.props.showYearPicker){if(c!==null&&dv(Ee(c),i.props))return}else if(i.props.showMonthYearPicker){if(c!==null&&AC(c,i.props))return}else if(c!==null&&$s(c,i.props))return;var u=i.props,d=u.onChange,h=u.selectsRange,p=u.startDate,f=u.endDate,g=u.selectsMultiple,v=u.selectedDates,y=u.minTime,m=u.swapRange;if(!aa(i.props.selected,c)||i.props.allowSameDay||h||g)if(c!==null&&(i.props.selected&&(!o||!i.props.showTimeSelect&&!i.props.showTimeSelectOnly&&!i.props.showTimeInput)&&(c=Im(c,{hour:Or(i.props.selected),minute:_r(i.props.selected),second:fs(i.props.selected)})),!o&&(i.props.showTimeSelect||i.props.showTimeSelectOnly)&&y&&(c=Im(c,{hour:y.getHours(),minute:y.getMinutes(),second:y.getSeconds()})),i.props.inline||i.setState({preSelection:c}),i.props.focusSelectedMonth||i.setState({monthSelectedIn:a})),h){var x=!p&&!f,S=p&&!f,D=p&&f;x?d?d([c,null],s):t.defaultProps.onChange:S&&(c===null?d?d([null,null],s):t.defaultProps.onChange:gM(c,p)?m?d?d([c,p],s):t.defaultProps.onChange:d?d([c,null],s):t.defaultProps.onChange:d?d([p,c],s):t.defaultProps.onChange),D&&(d?d([c,null],s):t.defaultProps.onChange)}else if(g){if(c!==null)if(!(v!=null&&v.length))d?d([c],s):t.defaultProps.onChange;else{var M=v.some(function(L){return Ae(L,c)});if(M){var C=v.filter(function(L){return!Ae(L,c)});d?d(C,s):t.defaultProps.onChange}else d?d(Ir(Ir([],v,!0),[c],!1),s):t.defaultProps.onChange}}else d?d(c,s):t.defaultProps.onChange;if(!o){var k=(l=i.props.onSelect)!==null&&l!==void 0?l:t.defaultProps.onSelect;k(c,s),i.setState({inputValue:null})}},i.setPreSelection=function(r){var s=ps(i.props.minDate),o=ps(i.props.maxDate),a=!0;if(r){var l=Mp(r);if(s&&o)a=cu(r,i.props.minDate,i.props.maxDate);else if(s){var c=Mp(i.props.minDate);a=bo(r,c)||aa(l,c)}else if(o){var u=iM(i.props.maxDate);a=Ta(r,u)||aa(l,u)}}a&&i.setState({preSelection:r})},i.toggleCalendar=function(){i.setOpen(!i.state.open)},i.handleTimeChange=function(r){var s;if(!(i.props.selectsRange||i.props.selectsMultiple)){var o=i.props.selected?i.props.selected:i.getPreSelection(),a=i.props.selected?r:Im(o,{hour:Or(r),minute:_r(r)});i.setState({preSelection:a});var l=(s=i.props.onChange)!==null&&s!==void 0?s:t.defaultProps.onChange;l(a),i.props.shouldCloseOnSelect&&!i.props.showTimeInput&&(i.sendFocusBackToInput(),i.setOpen(!1)),i.props.showTimeInput&&i.setOpen(!0),(i.props.showTimeSelectOnly||i.props.showTimeSelect)&&i.setState({isRenderAriaLiveMessage:!0}),i.setState({inputValue:null})}},i.onInputClick=function(){var r,s;!i.props.disabled&&!i.props.readOnly&&i.setOpen(!0),(s=(r=i.props).onInputClick)===null||s===void 0||s.call(r)},i.onInputKeyDown=function(r){var s,o,a,l,c;(o=(s=i.props).onKeyDown)===null||o===void 0||o.call(s,r);var u=r.key;if(!i.state.open&&!i.props.inline&&!i.props.preventOpenOnFocus){(u===ee.ArrowDown||u===ee.ArrowUp||u===ee.Enter)&&i.onInputClick();return}if(i.state.open){if(u===ee.ArrowDown||u===ee.ArrowUp){r.preventDefault();var d=i.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":i.props.showWeekPicker&&i.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':i.props.showFullMonthYearPicker||i.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',h=((a=i.calendar)===null||a===void 0?void 0:a.componentNode)instanceof Element&&i.calendar.componentNode.querySelector(d);h instanceof HTMLElement&&h.focus({preventScroll:!0});return}var p=Ze(i.state.preSelection);u===ee.Enter?(r.preventDefault(),i.inputOk()&&i.state.lastPreSelectChange===Pm?(i.handleSelect(p,r),!i.props.shouldCloseOnSelect&&i.setPreSelection(p)):i.setOpen(!1)):u===ee.Escape?(r.preventDefault(),i.sendFocusBackToInput(),i.setOpen(!1)):u===ee.Tab&&i.setOpen(!1),i.inputOk()||(c=(l=i.props).onInputError)===null||c===void 0||c.call(l,{code:1,msg:Am})}},i.onPortalKeyDown=function(r){var s=r.key;s===ee.Escape&&(r.preventDefault(),i.setState({preventFocus:!0},function(){i.setOpen(!1),setTimeout(function(){i.setFocus(),i.setState({preventFocus:!1})})}))},i.onDayKeyDown=function(r){var s,o,a,l,c=i.props,u=c.minDate,d=c.maxDate,h=c.disabledKeyboardNavigation,p=c.showWeekPicker,f=c.shouldCloseOnSelect,g=c.locale,v=c.calendarStartDay,y=c.adjustDateOnChange,m=c.inline;if((o=(s=i.props).onKeyDown)===null||o===void 0||o.call(s,r),!h){var x=r.key,S=r.shiftKey,D=Ze(i.state.preSelection),M=function(E,_){var R=_;switch(E){case ee.ArrowRight:R=p?df(_,1):Ro(_,1);break;case ee.ArrowLeft:R=p?US(_,1):P2(_,1);break;case ee.ArrowUp:R=US(_,1);break;case ee.ArrowDown:R=df(_,1);break;case ee.PageUp:R=S?Zl(_,1):Xl(_,1);break;case ee.PageDown:R=S?hs(_,1):or(_,1);break;case ee.Home:R=co(_,g,v);break;case ee.End:R=WF(_);break}return R},C=function(E,_){for(var R=40,z=E,P=!1,F=0,G=M(E,_);!P;){if(F>=R){G=_;break}u&&G<u&&(z=ee.ArrowRight,G=$s(u,i.props)?M(z,G):u),d&&G>d&&(z=ee.ArrowLeft,G=$s(d,i.props)?M(z,G):d),$s(G,i.props)?((z===ee.PageUp||z===ee.Home)&&(z=ee.ArrowRight),(z===ee.PageDown||z===ee.End)&&(z=ee.ArrowLeft),G=M(z,G)):P=!0,F++}return G};if(x===ee.Enter){r.preventDefault(),i.handleSelect(D,r),!f&&i.setPreSelection(D);return}else if(x===ee.Escape){r.preventDefault(),i.setOpen(!1),i.inputOk()||(l=(a=i.props).onInputError)===null||l===void 0||l.call(a,{code:1,msg:Am});return}var k=null;switch(x){case ee.ArrowLeft:case ee.ArrowRight:case ee.ArrowUp:case ee.ArrowDown:case ee.PageUp:case ee.PageDown:case ee.Home:case ee.End:k=C(x,D);break}if(!k){i.props.onInputError&&i.props.onInputError({code:1,msg:Am});return}if(r.preventDefault(),i.setState({lastPreSelectChange:Pm}),y&&i.setSelected(k),i.setPreSelection(k),m){var L=In(D),T=In(k),O=Ee(D),Y=Ee(k);L!==T||O!==Y?i.setState({shouldFocusDayInline:!0}):i.setState({shouldFocusDayInline:!1})}}},i.onPopperKeyDown=function(r){var s=r.key;s===ee.Escape&&(r.preventDefault(),i.sendFocusBackToInput())},i.onClearClick=function(r){r&&r.preventDefault&&r.preventDefault(),i.sendFocusBackToInput();var s=i.props,o=s.selectsRange,a=s.onChange;o?a?a([null,null],r):t.defaultProps.onChange():a?a(null,r):t.defaultProps.onChange(),i.setState({inputValue:null})},i.clear=function(){i.onClearClick()},i.onScroll=function(r){typeof i.props.closeOnScroll=="boolean"&&i.props.closeOnScroll?(r.target===document||r.target===document.documentElement||r.target===document.body)&&i.setOpen(!1):typeof i.props.closeOnScroll=="function"&&i.props.closeOnScroll(r)&&i.setOpen(!1)},i.renderCalendar=function(){var r,s;return!i.props.inline&&!i.isCalendarOpen()?null:j.createElement(RB,_e({ref:function(o){i.calendar=o}},i.props,i.state,{setOpen:i.setOpen,dateFormat:(r=i.props.dateFormatCalendar)!==null&&r!==void 0?r:t.defaultProps.dateFormatCalendar,onSelect:i.handleSelect,onClickOutside:i.handleCalendarClickOutside,holidays:eB(i.modifyHolidays()),outsideClickIgnoreClass:vM,onDropdownFocus:i.handleDropdownFocus,onTimeChange:i.handleTimeChange,className:i.props.calendarClassName,container:i.props.calendarContainer,handleOnKeyDown:i.props.onKeyDown,handleOnDayKeyDown:i.onDayKeyDown,setPreSelection:i.setPreSelection,dropdownMode:(s=i.props.dropdownMode)!==null&&s!==void 0?s:t.defaultProps.dropdownMode}),i.props.children)},i.renderAriaLiveRegion=function(){var r=i.props,s=r.dateFormat,o=s===void 0?t.defaultProps.dateFormat:s,a=r.locale,l=i.props.showTimeInput||i.props.showTimeSelect,c=l?"PPPPp":"PPPP",u;return i.props.selectsRange?u="Selected start date: ".concat(Mi(i.props.startDate,{dateFormat:c,locale:a}),". ").concat(i.props.endDate?"End date: "+Mi(i.props.endDate,{dateFormat:c,locale:a}):""):i.props.showTimeSelectOnly?u="Selected time: ".concat(Mi(i.props.selected,{dateFormat:o,locale:a})):i.props.showYearPicker?u="Selected year: ".concat(Mi(i.props.selected,{dateFormat:"yyyy",locale:a})):i.props.showMonthYearPicker?u="Selected month: ".concat(Mi(i.props.selected,{dateFormat:"MMMM yyyy",locale:a})):i.props.showQuarterYearPicker?u="Selected quarter: ".concat(Mi(i.props.selected,{dateFormat:"yyyy, QQQ",locale:a})):u="Selected date: ".concat(Mi(i.props.selected,{dateFormat:c,locale:a})),j.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},u)},i.renderDateInput=function(){var r,s,o,a=Jt(i.props.className,(r={},r[vM]=i.state.open,r)),l=i.props.customInput||j.createElement("input",{type:"text"}),c=i.props.customInputRef||"ref",u=i.props,d=u.dateFormat,h=d===void 0?t.defaultProps.dateFormat:d,p=u.locale,f=typeof i.props.value=="string"?i.props.value:typeof i.state.inputValue=="string"?i.state.inputValue:i.props.selectsRange?zF(i.props.startDate,i.props.endDate,{dateFormat:h,locale:p}):i.props.selectsMultiple?YF((o=i.props.selectedDates)!==null&&o!==void 0?o:[],{dateFormat:h,locale:p}):Mi(i.props.selected,{dateFormat:h,locale:p});return N.cloneElement(l,(s={},s[c]=function(g){i.input=g},s.value=f,s.onBlur=i.handleBlur,s.onChange=i.handleChange,s.onClick=i.onInputClick,s.onFocus=i.handleFocus,s.onKeyDown=i.onInputKeyDown,s.id=i.props.id,s.name=i.props.name,s.form=i.props.form,s.autoFocus=i.props.autoFocus,s.placeholder=i.props.placeholderText,s.disabled=i.props.disabled,s.autoComplete=i.props.autoComplete,s.className=Jt(l.props.className,a),s.title=i.props.title,s.readOnly=i.props.readOnly,s.required=i.props.required,s.tabIndex=i.props.tabIndex,s["aria-describedby"]=i.props.ariaDescribedBy,s["aria-invalid"]=i.props.ariaInvalid,s["aria-labelledby"]=i.props.ariaLabelledBy,s["aria-required"]=i.props.ariaRequired,s))},i.renderClearButton=function(){var r=i.props,s=r.isClearable,o=r.disabled,a=r.selected,l=r.startDate,c=r.endDate,u=r.clearButtonTitle,d=r.clearButtonClassName,h=d===void 0?"":d,p=r.ariaLabelClose,f=p===void 0?"Close":p,g=r.selectedDates;return s&&(a!=null||l!=null||c!=null||g!=null&&g.length)?j.createElement("button",{type:"button",className:Jt("react-datepicker__close-icon",h,{"react-datepicker__close-icon--disabled":o}),disabled:o,"aria-label":f,onClick:i.onClearClick,title:u,tabIndex:-1}):null},i.state=i.calcInitialState(),i.preventFocusTimeout=void 0,i}return Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",onChange:function(){},disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",onFocus:function(){},onBlur:function(){},onKeyDown:function(){},onInputClick:function(){},onSelect:function(){},onClickOutside:function(){},onMonthChange:function(){},onCalendarOpen:function(){},onCalendarClose:function(){},preventOpenOnFocus:!1,onYearChange:function(){},onInputError:function(){},monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Kd,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(n,i){var r,s,o,a;n.inline&&AB(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:dM(this.props.highlightDates)}),!i.focused&&!aa(n.selected,this.props.selected)&&this.setState({inputValue:null}),i.open!==this.state.open&&(i.open===!1&&this.state.open===!0&&((s=(r=this.props).onCalendarOpen)===null||s===void 0||s.call(r)),i.open===!0&&this.state.open===!1&&((a=(o=this.props).onCalendarClose)===null||a===void 0||a.call(o)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var n=this.props,i=n.showIcon,r=n.icon,s=n.calendarIconClassname,o=n.calendarIconClassName,a=n.toggleCalendarOnIconClick,l=this.state.open;return s&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),j.createElement("div",{className:"react-datepicker__input-container".concat(i?" react-datepicker__view-calendar-icon":"")},i&&j.createElement(CB,_e({icon:r,className:Jt(o,!o&&s,l&&"react-datepicker-ignore-onclickoutside")},a?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var i=this.state.open?j.createElement(BC,{enableTabLoop:this.props.enableTabLoop},j.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(i=j.createElement(FC,_e({portalId:this.props.portalId},this.props),i)),j.createElement("div",null,this.renderInputContainer(),i)}return j.createElement(NB,_e({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:n,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},t}(N.Component),PB="input",Pm="navigate";const zC=e=>{const{startDate:t,endDate:n,updateStartDate:i,updateEndDate:r}=e,s=new Date("January 01, 2020 00:00:00"),o=new Date;return U.jsxs(U.Fragment,{children:[U.jsxs("label",{children:["Start:",U.jsx(xM,{maxDate:n,minDate:s,selectsStart:!0,endDate:n,selected:t,onChange:a=>i(a)})]}),U.jsxs("label",{children:["End:",U.jsx(xM,{maxDate:o,minDate:t,selectsEnd:!0,startDate:t,selected:n,onChange:a=>r(a)})]})]})},Al=e=>{const{legend:t,children:n}=e;return U.jsxs("fieldset",{children:[U.jsx("legend",{children:t}),n]})},OB=()=>U.jsxs(U.Fragment,{children:[U.jsxs("div",{children:[U.jsx("h3",{children:"Buy: "}),U.jsxs("ul",{className:"listitems",children:[U.jsx("li",{children:U.jsxs("label",{children:[U.jsx("input",{type:"checkbox",name:"p0-buy"})," ","P0"]})}),U.jsx("li",{children:U.jsxs("label",{children:[U.jsx("input",{type:"checkbox",name:"p1-buy"})," ","P1"]})}),U.jsx("li",{children:U.jsxs("label",{children:[U.jsx("input",{type:"checkbox",name:"p2-buy"})," ","P2"]})})]})]}),U.jsxs("div",{children:[U.jsx("h3",{children:"Sell: "}),U.jsxs("ul",{className:"listitems",children:[U.jsx("li",{children:U.jsxs("label",{children:[U.jsx("input",{type:"checkbox",name:"p0-sell"})," ","P0"]})}),U.jsx("li",{children:U.jsxs("label",{children:[U.jsx("input",{type:"checkbox",name:"p1-sell"})," ","P1"]})}),U.jsx("li",{children:U.jsxs("label",{children:[U.jsx("input",{type:"checkbox",name:"p2-sell"})," ","P2"]})})]})]})]}),_B=()=>U.jsxs("section",{className:"grid-container grid-sidebar",children:[U.jsxs("div",{children:[U.jsx(Al,{legend:"Max Results",children:U.jsx("label",{children:U.jsx("input",{type:"number",max:200,value:50,name:"limit"})})}),U.jsx(Al,{legend:"Indicators",children:U.jsx(OB,{})}),U.jsx(Al,{legend:"Date Range",children:U.jsx(zC,{})})]}),U.jsx("div",{children:"content is king - an interactive table will go here."})]});var YC=Object.defineProperty,FB=Object.getOwnPropertyDescriptor,Wr=(e,t)=>{for(var n in t)YC(e,n,{get:t[n],enumerable:!0})},b=(e,t,n,i)=>{for(var r=i>1?void 0:i?FB(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(r=(i?o(t,n,r):o(r))||r);return i&&r&&YC(t,n,r),r},BB={ariaAnnounceVisible:"visible",ariaAnnounceHidden:"hidden",ariaAnnounceHoverDatum:"${datum}",ariaAnnounceChart:"chart, ${seriesCount}[number] series, ${caption}",ariaAnnounceHierarchyDatum:"level ${level}[number], ${count}[number] children, ${description}",ariaAnnounceFlowProportionLink:"link ${index} of ${count}, from ${from} to ${to}, ${sizeName} ${size}",ariaAnnounceFlowProportionNode:"node ${index} of ${count}, ${description}",ariaLabelAnnotationsToolbar:"Annotations",ariaLabelAnnotationOptionsToolbar:"Annotation Options",ariaLabelLegend:"Legend",ariaLabelLegendPagination:"Legend Pagination",ariaLabelLegendPagePrevious:"Previous Legend Page",ariaLabelLegendPageNext:"Next Legend Page",ariaLabelLegendItem:"${label}, Legend item ${index}[number] of ${count}[number], ",ariaLabelLegendItemUnknown:"Unknown legend item",ariaLabelNavigator:"Navigator",ariaLabelNavigatorRange:"Range",ariaLabelNavigatorMinimum:"Minimum",ariaLabelNavigatorMaximum:"Maximum",ariaLabelRangesToolbar:"Ranges",ariaLabelZoomToolbar:"Zoom",ariaValuePanRange:"${min}[percent] to ${max}[percent]",overlayLoadingData:"Loading data...",overlayNoData:"No data to display",overlayNoVisibleSeries:"No visible series",toolbarAnnotationsTrendLine:"Trend line",toolbarAnnotationsHorizontalLine:"Horizontal line",toolbarAnnotationsVerticalLine:"Vertical line",toolbarAnnotationsParallelChannel:"Parallel channel",toolbarAnnotationsDisjointChannel:"Disjoint channel",toolbarAnnotationsClearAll:"Clear all annotations",toolbarAnnotationsColor:"Pick annotation color",toolbarAnnotationsLock:"Lock annotation",toolbarAnnotationsUnlock:"Unlock annotation",toolbarAnnotationsDelete:"Delete annotation",toolbarRange1Month:"1m",toolbarRange1MonthAria:"1 month",toolbarRange3Months:"3m",toolbarRange3MonthsAria:"3 months",toolbarRange6Months:"6m",toolbarRange6MonthsAria:"6 months",toolbarRangeYearToDate:"YTD",toolbarRangeYearToDateAria:"Year to date",toolbarRange1Year:"1y",toolbarRange1YearAria:"1 year",toolbarRangeAll:"All",toolbarRangeAllAria:"All",toolbarZoomZoomOut:"Zoom out",toolbarZoomZoomIn:"Zoom in",toolbarZoomPanLeft:"Pan left",toolbarZoomPanRight:"Pan right",toolbarZoomPanStart:"Pan to the start",toolbarZoomPanEnd:"Pan to the end",toolbarZoomReset:"Reset the zoom",contextMenuDownload:"Download",contextMenuToggleSeriesVisibility:"Toggle Visibility",contextMenuToggleOtherSeries:"Toggle Other Series",contextMenuZoomToCursor:"Zoom to here",contextMenuPanToCursor:"Pan to here"},GC=(e=>(e.POINTER="pointer",e.NODE="node",e.TOP="top",e.RIGHT="right",e.BOTTOM="bottom",e.LEFT="left",e.TOP_LEFT="top-left",e.TOP_RIGHT="top-right",e.BOTTOM_RIGHT="bottom-right",e.BOTTOM_LEFT="bottom-left",e))(GC||{}),zB={};Wr(zB,{TimeInterval:()=>Na,day:()=>ax,friday:()=>XC,hour:()=>ox,millisecond:()=>ix,minute:()=>sx,monday:()=>UC,month:()=>cx,saturday:()=>ZC,second:()=>rx,sunday:()=>lx,thursday:()=>$C,tuesday:()=>VC,utcDay:()=>JC,utcHour:()=>QC,utcMinute:()=>qC,utcMonth:()=>eL,utcYear:()=>tL,wednesday:()=>KC,year:()=>ux});var hv=new Map;function pv(e,t){hv.has(t)||(hv.set(t,!0),e())}pv.clear=()=>hv.clear();function bM(e){return e}function*Hh(...e){for(const t of e)yield*t}function wM(e,t=0,n){const{leading:i=!0,trailing:r=!0}=n??{};let s,o,a=!1;function l(){r&&o?(s=setTimeout(l,t),e(...o)):a=!1,o=null}function c(...u){a?o=u:(a=!0,s=setTimeout(l,t),i?e(...u):o=u)}return Object.assign(c,{cancel(){clearTimeout(s),a=!1,o=null}})}function YB(...e){return()=>{for(const t of e)t()}}var $={log(...e){console.log(...e)},warn(e,...t){console.warn(`AG Charts - ${e}`,...t)},error(e,...t){typeof e=="object"?console.error("AG Charts error",e,...t):console.error(`AG Charts - ${e}`,...t)},table(...e){console.table(...e)},warnOnce(e,...t){pv(()=>$.warn(e,...t),`Logger.warn: ${e}`)},errorOnce(e,...t){pv(()=>$.error(e,...t),`Logger.error: ${e}`)}},Na=class{constructor(e,t,n){this._encode=e,this._decode=t,this._rangeCallback=n}floor(e){const t=new Date(e),n=this._encode(t);return this._decode(n)}ceil(e){const t=new Date(Number(e)-1),n=this._encode(t);return this._decode(n+1)}range(e,t,n){var a;const i=(a=this._rangeCallback)==null?void 0:a.call(this,e,t),r=this._encode(n?this.floor(e):this.ceil(e)),s=this._encode(n?this.ceil(t):this.floor(t));if(s<r)return[];const o=[];for(let l=r;l<=s;l++){const c=this._decode(l);o.push(c)}return i==null||i(),o}},mi=class extends Na{getOffset(e,t){const n=typeof e=="number"||e instanceof Date?this._encode(new Date(e)):0;return Math.floor(n)%t}every(e,t){let n=0,i;const r=e;e=Math.max(1,Math.round(e)),r!==e&&$.warnOnce(`interval step of [${r}] rounded to [${e}].`);const{snapTo:s="start"}=t??{};if(typeof s=="string"){const l=n;i=(c,u)=>{const d=s==="start"?c:u;return n=this.getOffset(d,e),()=>n=l}}else typeof s=="number"?n=this.getOffset(new Date(s),e):s instanceof Date&&(n=this.getOffset(s,e));const o=l=>{const c=this._encode(l);return Math.floor((c-n)/e)},a=l=>this._decode(l*e+n);return new Na(o,a,i)}};function GB(e){return e.getTime()}function jB(e){return new Date(e)}var ix=new mi(GB,jB),WB=ix;new Date(0).getFullYear();var Zs=1e3,dn=Zs*60,Tn=dn*60,Ri=Tn*24,as=Ri*7,Qc=Ri*30,ec=Ri*365,jC=new Date().getTimezoneOffset()*dn;function HB(e){return Math.floor((e.getTime()-jC)/Zs)}function UB(e){return new Date(jC+e*Zs)}var rx=new mi(HB,UB),uu=rx,WC=new Date().getTimezoneOffset()*dn;function VB(e){return Math.floor((e.getTime()-WC)/dn)}function KB(e){return new Date(WC+e*dn)}var sx=new mi(VB,KB),du=sx,HC=new Date().getTimezoneOffset()*dn;function $B(e){return Math.floor((e.getTime()-HC)/Tn)}function XB(e){return new Date(HC+e*Tn)}var ox=new mi($B,XB),hu=ox;function ZB(e){const t=e.getTimezoneOffset()*dn;return Math.floor((e.getTime()-t)/Ri)}function qB(e){const t=new Date(1970,0,1);return t.setDate(t.getDate()+e),t}var ax=new mi(ZB,qB),fv=ax;function Fa(e){const n=(7+e-4)%7;function i(s){const o=s.getTimezoneOffset()*dn;return Math.floor((s.getTime()-o)/as-n/7)}function r(s){const o=new Date(1970,0,1);return o.setDate(o.getDate()+s*7+n),o}return new mi(i,r)}var lx=Fa(0),UC=Fa(1),VC=Fa(2),KC=Fa(3),$C=Fa(4),XC=Fa(5),ZC=Fa(6),Dp=lx;function QB(e){return e.getFullYear()*12+e.getMonth()}function JB(e){const t=Math.floor(e/12),n=e-t*12;return new Date(t,n,1)}var cx=new mi(QB,JB),sl=cx;function ez(e){return e.getFullYear()}function tz(e){const t=new Date;return t.setFullYear(e),t.setMonth(0,1),t.setHours(0,0,0,0),t}var ux=new mi(ez,tz),dx=ux;function nz(e){return Math.floor(e.getTime()/dn)}function iz(e){return new Date(e*dn)}var qC=new mi(nz,iz);function rz(e){return Math.floor(e.getTime()/Tn)}function sz(e){return new Date(e*Tn)}var QC=new mi(rz,sz);function oz(e){return Math.floor(e.getTime()/Ri)}function az(e){const t=new Date(0);return t.setUTCDate(t.getUTCDate()+e),t.setUTCHours(0,0,0,0),t}var JC=new mi(oz,az);function lz(e){return e.getUTCFullYear()*12+e.getUTCMonth()}function cz(e){const t=Math.floor(e/12),n=e-t*12;return new Date(Date.UTC(t,n,1))}var eL=new mi(lz,cz);function uz(e){return e.getUTCFullYear()}function dz(e){const t=new Date;return t.setUTCFullYear(e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0),t}var tL=new mi(uz,dz),nL={};Wr(nL,{NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>Nn,fromToMotion:()=>Et,staticFromToMotion:()=>Ur});var gv=new Map;function iL(){gv.clear()}function Hr(e){const t=e.constructor,n=Object.hasOwn(t,"className")?t.className:t.name;if(!n)throw new Error(`The ${t} is missing the 'className' property.`);const i=(gv.get(n)??0)+1;return gv.set(n,i),`${n}-${i}`}function hz(){return URL.createObjectURL(new Blob).split("/").at(-1)}var gg="$interpolate",SM=e=>e[gg]!=null;function mg(e,t,n,i=1/0){const r={nearest:void 0,distanceSquared:i};for(const s of n){const o=s.distanceSquared(e,t);if(o===0)return{nearest:s,distanceSquared:0};o<r.distanceSquared&&(r.nearest=s,r.distanceSquared=o)}return r}function pz(e,t,n,i=1/0){const{x:r,y:s}=n.transformPoint(e,t),o={nearest:void 0,distanceSquared:i};for(const a of n.children){const{nearest:l,distanceSquared:c}=a.nearestSquared(r,s,o.distanceSquared);if(c===0)return{nearest:l,distanceSquared:c};c<o.distanceSquared&&(o.nearest=l,o.distanceSquared=c)}return o}function ke(e,t,n){return Math.min(n,Math.max(e,t))}function kf(e,t){const[n,i]=Ai(t);return ke(n,e,i)}function Ai(e){return e.length?[Math.min(...e),Math.max(...e)]:[]}function md(e){const[t,n]=Ai(e);return n-t}function ya(e,t,n=1e-10){return Math.abs(e-t)<n}function dc(e){return Math.sign(e)===-1||Object.is(e,-0)}function hx(e,t=2){const n=10**t;return Math.round(e*n)/n}function yg(e,t=2){const n=Math.floor(Math.log(Math.abs(e))/Math.LN10);return n>=0||!isFinite(n)?e.toFixed(t):e.toFixed(Math.abs(n)-1+t)}function vg(e,t){return Math.floor(e%t+(e<0?t:0))}function xg(e,t=10){const[,n=""]=(Math.abs(e)%1).toLocaleString("en-GB",{minimumFractionDigits:0,maximumFractionDigits:t}).split(".");return n.length}function px(e,t){return t=t??navigator.language,new Intl.NumberFormat(t,{style:"percent"}).format(e)}function fx(e,t){return px(e/100,t)}var yd=class pu{constructor(t,n,i,r){this.x=t,this.y=n,this.width=i,this.height=r}static fromDOMRect({x:t,y:n,width:i,height:r}){return new pu(t,n,i,r)}clone(){const{x:t,y:n,width:i,height:r}=this;return new pu(t,n,i,r)}equals(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height}containsPoint(t,n){return t>=this.x&&t<=this.x+this.width&&n>=this.y&&n<=this.y+this.height}collidesBBox(t){return this.x<t.x+t.width&&this.x+this.width>t.x&&this.y<t.y+t.height&&this.y+this.height>t.y}computeCenter(){return{x:this.x+this.width/2,y:this.y+this.height/2}}isFinite(){return Number.isFinite(this.x)&&Number.isFinite(this.y)&&Number.isFinite(this.width)&&Number.isFinite(this.height)}distanceSquared(t,n){if(this.containsPoint(t,n))return 0;const i=t-ke(this.x,t,this.x+this.width),r=n-ke(this.y,n,this.y+this.height);return i*i+r*r}static nearestBox(t,n,i){return mg(t,n,i)}clip(t){if(t===void 0)return this;const n=Math.max(this.x,t.x),i=Math.max(this.y,t.y),r=Math.min(this.x+this.width,t.x+t.width),s=Math.min(this.y+this.height,t.y+t.height);return this.x=n,this.y=i,this.width=Math.max(0,r-n),this.height=Math.max(0,s-i),this}shrink(t,n){const i=(r,s)=>{switch(r){case"top":this.y+=s;case"bottom":this.height-=s;break;case"left":this.x+=s;case"right":this.width-=s;break;case"vertical":this.y+=s,this.height-=s*2;break;case"horizontal":this.x+=s,this.width-=s*2;break;case void 0:this.x+=s,this.width-=s*2,this.y+=s,this.height-=s*2;break}};return typeof t=="number"?i(n,t):typeof t=="object"&&Object.entries(t).forEach(([r,s])=>i(r,s)),this}grow(t,n){if(typeof t=="number")this.shrink(-t,n);else{const i={...t};for(const r in i)i[r]*=-1;this.shrink(i)}return this}translate(t,n){return this.x+=t,this.y+=n,this}combine(t){const{x:n,y:i,width:r,height:s}=this;this.x=Math.min(n,t.x),this.y=Math.min(i,t.y),this.width=Math.max(n+r,t.x+t.width)-this.x,this.height=Math.max(i+s,t.y+t.height)-this.y}static merge(t){let n=1/0,i=1/0,r=-1/0,s=-1/0;for(const o of t)o.x<n&&(n=o.x),o.y<i&&(i=o.y),o.x+o.width>r&&(r=o.x+o.width),o.y+o.height>s&&(s=o.y+o.height);return new pu(n,i,r-n,s-i)}[gg](t,n){return new pu(this.x*(1-n)+t.x*n,this.y*(1-n)+t.y*n,this.width*(1-n)+t.width*n,this.height*(1-n)+t.height*n)}};yd.zero=new yd(0,0,0,0);yd.NaN=new yd(NaN,NaN,NaN,NaN);var re=yd,ho=(e=>(e[e.NONE=0]="NONE",e[e.TRIVIAL=1]="TRIVIAL",e[e.MINOR=2]="MINOR",e[e.MAJOR=3]="MAJOR",e))(ho||{});function ne(e){return function(t,n){const i=`__${n}`;t[n]||fz(t,n,i,e)}}function fz(e,t,n,i){const{redraw:r=1,type:s="normal",changeCb:o,convertor:a,checkDirtyOnAssignment:l=!1}=i??{},c={redraw:r,type:s,changeCb:o,checkDirtyOnAssignment:l,convertor:a};let u;switch(s){case"normal":u=vz(n,c);break;case"transform":u=xz(n,c);break;case"path":u=bz(n,c);break;case"font":u=wz(n,c);break}u=yz(mz(gz(u,c),c),c),Object.defineProperty(e,t,{set:u,get:function(){return this[n]},enumerable:!0,configurable:!0})}function gz(e,t){const{convertor:n}=t;return n?function(i){e.call(this,n(i))}:e}var hc=Symbol("no-change");function mz(e,t){const{changeCb:n}=t;return n?function(i){const r=e.call(this,i);return r!==hc&&n.call(this,this),r}:e}function yz(e,t){const{checkDirtyOnAssignment:n}=t;return n?function(i){const r=e.call(this,i);return r!==hc&&i!=null&&i._dirty>0&&this.markDirty(i,i._dirty),r}:e}function vz(e,t){const{redraw:n=1,changeCb:i}=t;return function(r){const s=this[e];return r!==s?(this[e]=r,this.markDirty(this,n),i==null||i(this),r):hc}}function xz(e,t){const{redraw:n=1}=t;return function(i){const r=this[e];return i!==r?(this[e]=i,this.markDirtyTransform(n),i):hc}}function bz(e,t){const{redraw:n=1}=t;return function(i){const r=this[e];return i!==r?(this[e]=i,this._dirtyPath||(this._dirtyPath=!0,this.markDirty(this,n)),i):hc}}function wz(e,t){const{redraw:n=1}=t;return function(i){const r=this[e];return i!==r?(this[e]=i,this._dirtyFont||(this._dirtyFont=!0,this.markDirty(this,n)),i):hc}}var Sz=class{constructor(){this._dirty=3}markDirty(e,t=1){this._dirty<t&&(this._dirty=t)}markClean(e){this._dirty=0}isDirty(){return this._dirty>0}},mv=class fu{get e(){return[...this.elements]}constructor(t=[1,0,0,1,0,0]){this.elements=t}setElements(t){const n=this.elements;return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],this}get identity(){const t=this.elements;return t[0]===1&&t[1]===0&&t[2]===0&&t[3]===1&&t[4]===0&&t[5]===0}AxB(t,n,i){const r=t[0]*n[0]+t[2]*n[1],s=t[1]*n[0]+t[3]*n[1],o=t[0]*n[2]+t[2]*n[3],a=t[1]*n[2]+t[3]*n[3],l=t[0]*n[4]+t[2]*n[5]+t[4],c=t[1]*n[4]+t[3]*n[5]+t[5];i=i??t,i[0]=r,i[1]=s,i[2]=o,i[3]=a,i[4]=l,i[5]=c}multiplySelf(t){return this.AxB(this.elements,t.elements),this}multiply(t){const n=new Array(6);return this.AxB(this.elements,t.elements,n),new fu(n)}preMultiplySelf(t){return this.AxB(t.elements,this.elements,this.elements),this}inverse(){const t=this.elements;let n=t[0],i=t[1],r=t[2],s=t[3];const o=t[4],a=t[5],l=1/(n*s-i*r);return n*=l,i*=l,r*=l,s*=l,new fu([s,-i,-r,n,r*a-s*o,i*o-n*a])}inverseTo(t){const n=this.elements;let i=n[0],r=n[1],s=n[2],o=n[3];const a=n[4],l=n[5],c=1/(i*o-r*s);return i*=c,r*=c,s*=c,o*=c,t.setElements([o,-r,-s,i,s*l-o*a,r*a-i*l]),this}invertSelf(){const t=this.elements;let n=t[0],i=t[1],r=t[2],s=t[3];const o=t[4],a=t[5],l=1/(n*s-i*r);return n*=l,i*=l,r*=l,s*=l,t[0]=s,t[1]=-i,t[2]=-r,t[3]=n,t[4]=r*a-s*o,t[5]=i*o-n*a,this}transformPoint(t,n){const i=this.elements;return{x:t*i[0]+n*i[2]+i[4],y:t*i[1]+n*i[3]+i[5]}}transformBBox(t,n){const i=this.elements,r=i[0],s=i[1],o=i[2],a=i[3],l=t.width*.5,c=t.height*.5,u=t.x+l,d=t.y+c,h=Math.abs(l*r)+Math.abs(c*o),p=Math.abs(l*s)+Math.abs(c*a);return n||(n=new re(0,0,0,0)),n.x=u*r+d*o+i[4]-h,n.y=u*s+d*a+i[5]-p,n.width=h+h,n.height=p+p,n}toContext(t){if(this.identity)return;const n=this.elements;t.transform(n[0],n[1],n[2],n[3],n[4],n[5])}static flyweight(t){return fu.instance.setElements(t.elements)}static updateTransformMatrix(t,n,i,r,s,o,a){const[l,c]=[0,0],u=n,d=i;let h,p;u===1&&d===1?(h=0,p=0):(h=(a==null?void 0:a.scalingCenterX)==null?l:a==null?void 0:a.scalingCenterX,p=(a==null?void 0:a.scalingCenterY)==null?c:a==null?void 0:a.scalingCenterY);const f=r,g=Math.cos(f),v=Math.sin(f);let y,m;f===0?(y=0,m=0):(y=(a==null?void 0:a.rotationCenterX)==null?l:a==null?void 0:a.rotationCenterX,m=(a==null?void 0:a.rotationCenterY)==null?c:a==null?void 0:a.rotationCenterY);const x=s,S=o,D=h*(1-u)-y,M=p*(1-d)-m;return t.setElements([g*u,v*u,-v*d,g*d,g*D-v*M+y+x,v*D+g*M+m+S]),t}static fromContext(t){const n=t.getTransform();return new fu([n.a,n.b,n.c,n.d,n.e,n.f])}};mv.instance=new mv;var Nr=mv,rL=(e=>(e[e.All=0]="All",e[e.None=1]="None",e))(rL||{}),Qn=class sL extends Sz{constructor({isVirtual:t,tag:n,zIndex:i}={}){super(),this.serialNumber=sL._nextSerialNumber++,this.id=Hr(this),this.isContainerNode=!1,this._virtualChildren=[],this._children=[],this.childSet={},this.matrix=new Nr,this.dirtyTransform=!1,this.scalingX=1,this.scalingY=1,this.scalingCenterX=null,this.scalingCenterY=null,this.rotationCenterX=null,this.rotationCenterY=null,this.rotation=0,this.translationX=0,this.translationY=0,this._childNodeCounts={groups:0,nonGroups:0},this.visible=!0,this.dirtyZIndex=!1,this.zIndex=0,this.zIndexSubOrder=void 0,this.pointerEvents=0,this.isVirtual=t??!1,this.tag=n??NaN,this.zIndex=i??0}get datum(){var t;return this._datum??((t=this._parent)==null?void 0:t.datum)}get previousDatum(){return this._previousDatum}set datum(t){this._datum!==t&&(this._previousDatum=this._datum),this._datum=t}_setLayerManager(t){this._layerManager=t,this._debug=t==null?void 0:t.debug;for(const n of this._children)n._setLayerManager(t);for(const n of this._virtualChildren)n._setLayerManager(t)}get layerManager(){return this._layerManager}*ancestors(){let t=this;for(;t=t.parent;)yield t}*traverseUp(){yield this,yield*this.ancestors()}get parent(){return this._parent}get children(){return this._virtualChildren.length?this._children.concat(this._virtualChildren.flatMap(t=>t.children)):this._children}get virtualChildren(){return this._virtualChildren}hasVirtualChildren(){return this._virtualChildren.length>0}setProperties(t,n){const i=n??Object.keys(t);for(const r of i)this[r]=t[r];return this}append(t){Array.isArray(t)||(t=[t]);for(const n of t){if(n.parent)throw new Error(`${n} already belongs to another parent: ${n.parent}.`);if(n.layerManager)throw new Error(`${n} already belongs to a scene: ${n.layerManager}.`);if(this.childSet[n.id])throw new Error(`Duplicate ${n.constructor.name} node: ${n}`);n.isVirtual?this._virtualChildren.push(n):this._children.push(n),this.childSet[n.id]=!0,n._parent=this,n._setLayerManager(this.layerManager)}this.dirtyZIndex=!0,this.markDirty(this,3)}appendChild(t){return this.append(t),t}removeChild(t){const n=()=>{throw new Error("The node to be removed is not a child of this node.")};if(t.parent!==this&&n(),t.isVirtual){const i=this._virtualChildren.indexOf(t);i<0&&n(),this._virtualChildren.splice(i,1)}else{const i=this._children.indexOf(t);i<0&&n(),this._children.splice(i,1)}return delete this.childSet[t.id],t._parent=void 0,t._setLayerManager(),this.dirtyZIndex=!0,this.markDirty(t,3),t}calculateCumulativeMatrix(){this.computeTransformMatrix();const t=Nr.flyweight(this.matrix);for(const n of this.ancestors())n.computeTransformMatrix(),t.preMultiplySelf(n.matrix);return t}transformPoint(t,n){return this.calculateCumulativeMatrix().invertSelf().transformPoint(t,n)}inverseTransformPoint(t,n){return this.calculateCumulativeMatrix().transformPoint(t,n)}transformBBox(t){return this.calculateCumulativeMatrix().invertSelf().transformBBox(t)}inverseTransformBBox(t){return this.calculateCumulativeMatrix().transformBBox(t)}markDirtyTransform(){this.dirtyTransform=!0,this.markDirty(this,3)}destroy(){var t;(t=this.parent)==null||t.removeChild(this)}containsPoint(t,n){return!1}pickNode(t,n){var r;if(!this.visible||this.pointerEvents===1||!this.containsPoint(t,n))return;const{children:i}=this;if(i.length>1e3)for(let s=i.length-1;s>=0;s--){const o=i[s],l=((r=o.computeTransformedBBox())==null?void 0:r.containsPoint(t,n))?o.pickNode(t,n):void 0;if(l)return l}else if(i.length)for(let s=i.length-1;s>=0;s--){const o=i[s].pickNode(t,n);if(o)return o}else if(!this.isContainerNode)return this}getCachedBBox(){return this.cachedBBox??re.zero}computeBBox(){}computeTransformedBBox(){const t=this.computeBBox();if(!t)return;this.computeTransformMatrix();const n=Nr.flyweight(this.matrix);for(const i of this.ancestors())i.computeTransformMatrix(),n.preMultiplySelf(i.matrix);return n.transformBBox(t,t),t}computeTransformMatrix(){if(!this.dirtyTransform)return;const{matrix:t,scalingX:n,scalingY:i,rotation:r,translationX:s,translationY:o,scalingCenterX:a,scalingCenterY:l,rotationCenterX:c,rotationCenterY:u}=this;Nr.updateTransformMatrix(t,n,i,r,s,o,{scalingCenterX:a,scalingCenterY:l,rotationCenterX:c,rotationCenterY:u}),this.dirtyTransform=!1}preRender(){this._childNodeCounts.groups=0,this._childNodeCounts.nonGroups=1;for(const t of this.children){const n=t.preRender();this._childNodeCounts.groups+=n.groups,this._childNodeCounts.nonGroups+=n.nonGroups}return this._childNodeCounts}render(t){const{stats:n}=t;this._dirty=0,this.cachedBBox=this.computeBBox(),n&&n.nodesRendered++}markDirty(t,n=1,i=n){this._dirty>n||this._dirty===n&&n===i||(this._dirty=n,this.parent?this.parent.markDirty(this,i):this.layerManager&&this.layerManager.markDirty())}get dirty(){return this._dirty}markClean(t){const{force:n=!1,recursive:i=!0}=t??{};if(!(this._dirty===0&&!n)){if(this._dirty=0,i!==!1)for(const r of this._virtualChildren)r.markClean({force:n});if(i===!0)for(const r of this._children)r.markClean({force:n})}}onVisibleChange(){}get nodeCount(){let t=1,n=this._dirty>=0||this.dirtyTransform?1:0,i=this.visible?1:0;const r=s=>{const{count:o,visibleCount:a,dirtyCount:l}=s.nodeCount;t+=o,i+=a,n+=l};for(const s of this._children)r(s);for(const s of this._virtualChildren)r(s);return{count:t,visibleCount:i,dirtyCount:n}}onZIndexChange(){this.parent&&(this.parent.dirtyZIndex=!0)}};Qn._nextSerialNumber=0;b([ne({type:"transform"})],Qn.prototype,"scalingX",2);b([ne({type:"transform"})],Qn.prototype,"scalingY",2);b([ne({type:"transform"})],Qn.prototype,"scalingCenterX",2);b([ne({type:"transform"})],Qn.prototype,"scalingCenterY",2);b([ne({type:"transform"})],Qn.prototype,"rotationCenterX",2);b([ne({type:"transform"})],Qn.prototype,"rotationCenterY",2);b([ne({type:"transform"})],Qn.prototype,"rotation",2);b([ne({type:"transform"})],Qn.prototype,"translationX",2);b([ne({type:"transform"})],Qn.prototype,"translationY",2);b([ne({redraw:3,changeCb:e=>e.onVisibleChange()})],Qn.prototype,"visible",2);b([ne({redraw:1,changeCb:e=>e.onZIndexChange()})],Qn.prototype,"zIndex",2);b([ne({redraw:1,changeCb:e=>e.onZIndexChange()})],Qn.prototype,"zIndexSubOrder",2);var pc=Qn,Uh=(e,t,n)=>e*(1-n)+t*n,Om=e=>{const t=e<0?-1:1,n=Math.abs(e);return n<=.04045?e/12.92:t*((n+.055)/1.055)**2.4},_m=e=>{const t=e<0?-1:1,n=Math.abs(e);return n>.0031308?t*(1.055*n**(1/2.4)-.055):12.92*e},oL=class it{constructor(t,n,i,r=1){this.r=ke(0,t||0,1),this.g=ke(0,n||0,1),this.b=ke(0,i||0,1),this.a=ke(0,r||0,1)}static validColorString(t){return t.indexOf("#")>=0?!!it.parseHex(t):t.indexOf("rgb")>=0?!!it.stringToRgba(t):!!it.nameToHex[t.toLowerCase()]}static fromString(t){if(t.indexOf("#")>=0)return it.fromHexString(t);const n=it.nameToHex[t.toLowerCase()];if(n)return it.fromHexString(n);if(t.indexOf("rgb")>=0)return it.fromRgbaString(t);throw new Error(`Invalid color string: '${t}'`)}static parseHex(t){t=t.replace(/ /g,"").slice(1);let n;switch(t.length){case 6:case 8:n=[];for(let i=0;i<t.length;i+=2)n.push(parseInt(`${t[i]}${t[i+1]}`,16));break;case 3:case 4:n=t.split("").map(i=>parseInt(i,16)).map(i=>i+i*16);break}if((n==null?void 0:n.length)>=3&&n.every(i=>i>=0))return n.length===3&&n.push(255),n}static fromHexString(t){const n=it.parseHex(t);if(n){const[i,r,s,o]=n;return new it(i/255,r/255,s/255,o/255)}throw new Error(`Malformed hexadecimal color string: '${t}'`)}static stringToRgba(t){let n=-1,i=-1;for(let a=0;a<t.length;a++){const l=t[a];if(n===-1&&l==="(")n=a;else if(l===")"){i=a;break}}if(n===-1||i===-1)return;const s=t.substring(n+1,i).split(","),o=[];for(let a=0;a<s.length;a++){const l=s[a];let c=parseFloat(l);if(!Number.isFinite(c))return;l.indexOf("%")>=0?(c=ke(0,c,100),c/=100):a===3?c=ke(0,c,1):(c=ke(0,c,255),c/=255),o.push(c)}return o}static fromRgbaString(t){const n=it.stringToRgba(t);if(n){if(n.length===3)return new it(n[0],n[1],n[2]);if(n.length===4)return new it(n[0],n[1],n[2],n[3])}throw new Error(`Malformed rgb/rgba color string: '${t}'`)}static fromArray(t){if(t.length===4)return new it(t[0],t[1],t[2],t[3]);if(t.length===3)return new it(t[0],t[1],t[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")}static fromHSB(t,n,i,r=1){const s=it.HSBtoRGB(t,n,i);return new it(s[0],s[1],s[2],r)}static fromHSL(t,n,i,r=1){const s=it.HSLtoRGB(t,n,i);return new it(s[0],s[1],s[2],r)}static fromOKLCH(t,n,i,r=1){const s=it.OKLCHtoRGB(t,n,i);return new it(s[0],s[1],s[2],r)}static padHex(t){return t.length===1?"0"+t:t}toHexString(){let t="#"+it.padHex(Math.round(this.r*255).toString(16))+it.padHex(Math.round(this.g*255).toString(16))+it.padHex(Math.round(this.b*255).toString(16));return this.a<1&&(t+=it.padHex(Math.round(this.a*255).toString(16))),t}toRgbaString(t=3){const n=[Math.round(this.r*255),Math.round(this.g*255),Math.round(this.b*255)],i=Math.pow(10,t);return this.a!==1?(n.push(Math.round(this.a*i)/i),`rgba(${n.join(", ")})`):`rgb(${n.join(", ")})`}toString(){return this.a===1?this.toHexString():this.toRgbaString()}toHSB(){return it.RGBtoHSB(this.r,this.g,this.b)}static RGBtoOKLCH(t,n,i){const r=Om(t),s=Om(n),o=Om(i),a=Math.cbrt(.4122214708*r+.5363325363*s+.0514459929*o),l=Math.cbrt(.2119034982*r+.6806995451*s+.1073969566*o),c=Math.cbrt(.0883024619*r+.2817188376*s+.6299787005*o),u=.2104542553*a+.793617785*l-.0040720468*c,d=1.9779984951*a-2.428592205*l+.4505937099*c,h=.0259040371*a+.7827717662*l-.808675766*c,p=Math.atan2(h,d)*180/Math.PI,f=u,g=Math.hypot(d,h),v=p>=0?p:p+360;return[f,g,v]}static OKLCHtoRGB(t,n,i){const r=t,s=n*Math.cos(i*Math.PI/180),o=n*Math.sin(i*Math.PI/180),a=(r+.3963377774*s+.2158037573*o)**3,l=(r-.1055613458*s-.0638541728*o)**3,c=(r-.0894841775*s-1.291485548*o)**3,u=4.0767416621*a-3.3077115913*l+.2309699292*c,d=-1.2684380046*a+2.6097574011*l-.3413193965*c,h=-.0041960863*a-.7034186147*l+1.707614701*c,p=_m(u),f=_m(d),g=_m(h);return[p,f,g]}static RGBtoHSL(t,n,i){const r=Math.min(t,n,i),s=Math.max(t,n,i),o=(s+r)/2;let a,l;if(s===r)a=0,l=0;else{const c=s-r;l=o>.5?c/(2-s-r):c/(s+r),s===t?a=(n-i)/c+(n<i?6:0):s===n?a=(i-t)/c+2:a=(t-n)/c+4,a*=360/6}return[a,l,o]}static HSLtoRGB(t,n,i){if(t=(t%360+360)%360,n===0)return[i,i,i];const r=i<.5?i*(1+n):i+n-i*n,s=2*i-r;function o(u){return u<0&&(u+=1),u>1&&(u-=1),u<1/6?s+(r-s)*6*u:u<1/2?r:u<2/3?s+(r-s)*(2/3-u)*6:s}const a=o(t/360+1/3),l=o(t/360),c=o(t/360-1/3);return[a,l,c]}static RGBtoHSB(t,n,i){const r=Math.min(t,n,i),s=Math.max(t,n,i),o=s===0?0:(s-r)/s;let a=0;if(r!==s){const l=s-r,c=(s-t)/l,u=(s-n)/l,d=(s-i)/l;t===s?a=d-u:n===s?a=2+c-d:a=4+u-c,a/=6,a<0&&(a=a+1)}return[a*360,o,s]}static HSBtoRGB(t,n,i){t=(t%360+360)%360/360;let r=0,s=0,o=0;if(n===0)r=s=o=i;else{const a=(t-Math.floor(t))*6,l=a-Math.floor(a),c=i*(1-n),u=i*(1-n*l),d=i*(1-n*(1-l));switch(a>>0){case 0:r=i,s=d,o=c;break;case 1:r=u,s=i,o=c;break;case 2:r=c,s=i,o=d;break;case 3:r=c,s=u,o=i;break;case 4:r=d,s=c,o=i;break;case 5:r=i,s=c,o=u;break}}return[r,s,o]}static mix(t,n,i){return new it(Uh(t.r,n.r,i),Uh(t.g,n.g,i),Uh(t.b,n.b,i),Uh(t.a,n.a,i))}};oL.nameToHex={__proto__:null,aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",transparent:"#00000000",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};var Tr=oL;function aL(e,t){return n=>Number(e)*(1-n)+Number(t)*n}function lL(e,t){if(typeof e=="string")try{e=Tr.fromString(e)}catch{e=Tr.fromArray([0,0,0])}if(typeof t=="string")try{t=Tr.fromString(t)}catch{t=Tr.fromArray([0,0,0])}return n=>Tr.mix(e,t,n).toRgbaString()}var Cf=Symbol("BREAK"),Pl="__decorator_config";function cL(e,t){Object.getOwnPropertyDescriptor(e,Pl)==null&&Object.defineProperty(e,Pl,{value:{}});const n=e[Pl],i=t.toString();if(typeof n[i]<"u")return n[i];const r=new WeakMap;n[i]={setters:[],getters:[],observers:[],valuesMap:r};const s=Object.getOwnPropertyDescriptor(e,t),o=s==null?void 0:s.set,a=s==null?void 0:s.get;return Object.defineProperty(e,t,{set:function(u){const{setters:d,observers:h}=n[i];let p;d.some(f=>f.length>2)&&(p=a?a.call(this):r.get(this));for(const f of d)if(u=f(this,t,u,p),u===Cf)return;o?o.call(this,u):r.set(this,u);for(const f of h)f(this,u,p)},get:function(){let u=a?a.call(this):r.get(this);for(const d of n[i].getters)if(u=d(this,t,u),u===Cf)return;return u},enumerable:!0,configurable:!1}),n[i]}function Ss(e,t,n){return(i,r)=>{const s=cL(i,r);s.setters.push(e),t&&s.getters.unshift(t),n&&Object.assign(s,n)}}function Mz(e){return(t,n)=>{cL(t,n).observers.push(e)}}function bg(e){return typeof e<"u"&&Pl in e}function Ol(e){const t=new Set;for(;bg(e);)t.add(e==null?void 0:e[Pl]),e=Object.getPrototypeOf(e);return Array.from(t).flatMap(n=>Object.keys(n))}function Dz(e){return Ol(e).reduce((t,n)=>(t[n]=e[n]??null,t),{})}function kz(e,t){const n=t.toString();for(;bg(e);){const i=e[Pl];if(Object.hasOwn(i,n))return i[n];e=Object.getPrototypeOf(e)}}function vd(e){return e!=null}function Ot(e){return Array.isArray(e)}function uL(e){return typeof e=="boolean"}function Xd(e){return e instanceof Date}function Zd(e){return Xd(e)&&!isNaN(Number(e))}function dL(e){return e instanceof RegExp}function Ba(e){return typeof e=="function"}function Pi(e){return typeof e=="object"&&e!==null&&!Ot(e)}function Cz(e){return Ot(e)||Yi(e)}function Yi(e){return typeof e=="object"&&e!==null&&e.constructor===Object}function Oi(e){return typeof e=="string"}function ci(e){return typeof e=="number"}function Pe(e){return ci(e)&&Number.isFinite(e)}function hL(e){return typeof window<"u"&&e instanceof HTMLElement}function Lz(e,t){return Oi(t)&&Object.keys(e).includes(t)}function pL(e,t){return Object.values(e).includes(t)}function fL(e){return typeof e=="symbol"}function Ez(...e){return Ie(...e.reverse())}function Ie(...e){const t={};for(const n of e){if(!Pi(n))continue;const i=bg(n)?Ol(n):Object.keys(n);for(const r of i)Yi(t[r])&&Yi(n[r])?t[r]=Ie(t[r],n[r]):t[r]??(t[r]=n[r])}return t}function yv(e,...t){return t&&Ot(e)?e.map(n=>Ie(n,...t)):e}function gx(e,t){return Object.entries(e).reduce((n,[i,r])=>(n[i]=t(r,i,e),n),{})}function vv(e,t){const n={...e};for(const i of t)delete n[i];return n}function mx(e,t){return(Ot(t)?t:t.split(".")).reduce((i,r)=>i[r],e)}var yx=new Set(["__proto__","constructor","prototype"]);function vx(e,t,n){const i=Ot(t)?t.slice():t.split("."),r=i.pop();if(i.some(o=>yx.has(o)))return;const s=i.reduce((o,a)=>o[a],e);return s[r]=n,s[r]}function la(e,t,n){if(n===void 0)return t;for(const i of e){const r=n[i];r!==void 0&&(t[i]=r)}return t}var Ce=class{set(e){const{className:t=this.constructor.name}=this.constructor;if(typeof e!="object")return $.warn(`unable to set ${t} - expecting a properties object`),this;const n=new Set(Object.keys(e));for(const i of Ol(this))if(n.has(i)){const r=e[i],s=this;zr(s[i])?s[i]=s[i]instanceof wg?s[i].reset(r):s[i].set(r):s[i]=r,n.delete(i)}for(const i of n)$.warn(`unable to set [${i}] in ${t} - property is unknown`);return this}isValid(e){return Ol(this).every(t=>{const{optional:n}=kz(this,t),i=n===!0||typeof this[t]<"u";return i||$.warnOnce(`${e??""}[${t}] is required.`),i})}toJson(){return Ol(this).reduce((e,t)=>{const n=this[t];return e[t]=zr(n)?n.toJson():n,e},{})}},wg=class gL extends Array{constructor(t,...n){super(n.length);const r=(s=>{var o,a;return!!((a=(o=s==null?void 0:s.prototype)==null?void 0:o.constructor)!=null&&a.name)})(t)?s=>new t().set(s):t;Object.defineProperty(this,"itemFactory",{value:r,enumerable:!1,configurable:!1}),this.set(n)}set(t){if(Ot(t)){this.length=t.length;for(let n=0;n<t.length;n++)this[n]=this.itemFactory(t[n])}return this}reset(t){return new gL(this.itemFactory,...t)}toJson(){return this.map(t=>{var n;return((n=t==null?void 0:t.toJson)==null?void 0:n.call(t))??t})}};function zr(e){return e instanceof Ce||e instanceof wg}var kp="class-instance";function pi(e,t,n){if(Ot(t)){if(!Ot(e)||e.length!==t.length||t.some((i,r)=>pi(e[r],i)!=null))return t}else if(Yi(t)){if(!Yi(e))return t;const i={},r=new Set([...Object.keys(e),...Object.keys(t)]);for(const s of r)if(!(e[s]===t[s]||n!=null&&n.includes(s)))if(typeof e[s]==typeof t[s]){const o=pi(e[s],t[s]);o!==null&&(i[s]=o)}else i[s]=t[s];return Object.keys(i).length?i:null}else if(e!==t)return t;return null}function cn(e,t){return Ot(e)?e.map(n=>cn(n,t)):Yi(e)?gx(e,(n,i)=>{var r;return(r=t==null?void 0:t.shallow)!=null&&r.includes(i)?Lf(n):cn(n,t)}):Lf(e)}function Lf(e){return Ot(e)?[...e]:Yi(e)?{...e}:Xd(e)?new Date(e):dL(e)?new RegExp(e.source,e.flags):e}function Rr(e,t,n,...i){var r;if(Ot(e))t(e,...i),e.forEach((s,o)=>{Rr(s,t,n,...MM(i,o))});else if(Yi(e)){t(e,...i);for(const s of Object.keys(e)){if((r=n==null?void 0:n.skip)!=null&&r.includes(s))continue;const o=e[s];(Ot(o)||Yi(o))&&Rr(o,t,n,...MM(i,s))}}}function ls(e,t,n={}){const{path:i,constructedArrays:r,matcherPath:s=i==null?void 0:i.replace(/(\[[0-9+]+])/i,"[]"),skip:o=[]}=n;if(e==null)throw new Error(`AG Charts - target is uninitialised: ${i??"<root>"}`);if(t==null)return e;if(zr(e))return e.set(t);const a=e,l=Fm(e);for(const c in t){if(yx.has(c))continue;const u=`${s?s+".":""}${c}`;if(o.includes(u))continue;const d=t[c],h=`${i?i+".":""}${c}`,p=a.constructor,f=a[c];let g;try{const v=Fm(f),y=Fm(d);if(l===kp&&!(c in e)){$.warn(`unable to set [${h}] in ${p==null?void 0:p.name} - property is unknown`);continue}if(v!=null&&y!=null&&y!==v&&(v!==kp||y!=="object")){$.warn(`unable to set [${h}] in ${p==null?void 0:p.name} - can't apply type of [${y}], allowed types are: [${v}]`);continue}if(zr(f))a[c].set(d);else if(y==="array")if(g??(g=r==null?void 0:r.get(f)),g==null)a[c]=d;else{const m=d;a[c]=m.map(x=>ls(new g,x,{...n,path:h,matcherPath:u+"[]"}))}else y===kp?a[c]=d:y==="object"?f!=null?ls(f,d,{...n,path:h,matcherPath:u}):g==null?(a[c]={},ls(a[c],d,{...n,path:h,matcherPath:u})):a[c]=ls(new g,d,{...n,path:h,matcherPath:u}):a[c]=d}catch(v){$.warn(`unable to set [${h}] in [${p==null?void 0:p.name}]; nested error is: ${v.message}`)}}return e}function MM(e,t){return e.map(n=>n==null?void 0:n[t])}function Fm(e){return e==null?null:hL(e)||Xd(e)?"primitive":Ot(e)?"array":Pi(e)?Yi(e)?"object":kp:Ba(e)?"function":"primitive"}var xx={};Wr(xx,{easeIn:()=>Tz,easeInOut:()=>Iz,easeInOutQuad:()=>Az,easeInQuad:()=>Nz,easeOut:()=>xd,easeOutQuad:()=>Rz,inverseEaseOut:()=>yL,linear:()=>mL});var mL=e=>e,Tz=e=>1-Math.cos(e*Math.PI/2),xd=e=>Math.sin(e*Math.PI/2),Iz=e=>-(Math.cos(e*Math.PI)-1)/2,Nz=e=>e*e,Rz=e=>1-(1-e)**2,Az=e=>e<.5?2*e*e:1-(-2*e+2)**2/2,yL=e=>2*Math.asin(e)/Math.PI,Ef=.2,ol=["initial","remove","update","add","trailing","end","none"],bd={initial:{animationDuration:1,animationDelay:0},add:{animationDuration:.25,animationDelay:.75},remove:{animationDuration:.25,animationDelay:0},update:{animationDuration:.5,animationDelay:.25},trailing:{animationDuration:Ef,animationDelay:1,skipIfNoEarlierAnimations:!0},end:{animationDelay:1+Ef,animationDuration:0,skipIfNoEarlierAnimations:!0},none:{animationDuration:0,animationDelay:0}},vL=(e=>(e.Loop="loop",e.Reverse="reverse",e))(vL||{});function Pz(e){return e.every(t=>t instanceof pc)}function Sg(e){return Pz(e)?{nodes:e,selections:[]}:{nodes:[],selections:e}}var xL=class{constructor(e){var n,i,r;this.isComplete=!1,this.elapsed=0,this.iteration=0,this.isPlaying=!1,this.isReverse=!1,this.id=e.id,this.groupId=e.groupId,this.autoplay=e.autoplay??!0,this.ease=e.ease??mL,this.phase=e.phase;const t=e.duration??bd[this.phase].animationDuration;this.duration=t*e.defaultDuration,this.delay=(e.delay??0)*e.defaultDuration,this.onComplete=e.onComplete,this.onPlay=e.onPlay,this.onStop=e.onStop,this.onUpdate=e.onUpdate,this.interpolate=this.createInterpolator(e.from,e.to),this.from=e.from,e.skip===!0&&((n=this.onUpdate)==null||n.call(this,e.to,!1,this),(i=this.onStop)==null||i.call(this,this),(r=this.onComplete)==null||r.call(this,this),this.isComplete=!0),e.collapsable!==!1&&(this.duration=this.checkCollapse(e,this.duration))}checkCollapse(e,t){return e.from===e.to?0:(typeof e.from=="object"?pi(e.from,e.to):null)?t:0}play(e=!1){var t,n;this.isPlaying||this.isComplete||(this.isPlaying=!0,(t=this.onPlay)==null||t.call(this,this),this.autoplay&&(this.autoplay=!1,e&&((n=this.onUpdate)==null||n.call(this,this.from,!0,this))))}pause(){this.isPlaying=!1}stop(){var e;this.isPlaying=!1,this.isComplete||(this.isComplete=!0,(e=this.onStop)==null||e.call(this,this))}update(e){var r,s;if(this.isComplete)return e;!this.isPlaying&&this.autoplay&&this.play(!0);const t=this.elapsed;if(this.elapsed+=e,this.delay>this.elapsed)return 0;const n=this.interpolate(this.isReverse?1-this.delta:this.delta);(r=this.onUpdate)==null||r.call(this,n,!1,this);const i=this.delay+this.duration;return this.elapsed>=i?(this.stop(),this.isComplete=!0,(s=this.onComplete)==null||s.call(this,this),e-(i-t)):0}get delta(){return this.ease(ke(0,(this.elapsed-this.delay)/this.duration,1))}createInterpolator(e,t){if(typeof t!="object"||SM(t))return this.interpolateValue(e,t);const n=[];for(const i in t){const r=this.interpolateValue(e[i],t[i]);r!=null&&n.push([i,r])}return i=>{const r={};for(const[s,o]of n)r[s]=o(i);return r}}interpolateValue(e,t){if(!(e===void 0||t===void 0)){if(SM(e))return n=>e[gg](t,n);try{switch(typeof e){case"number":return aL(e,t);case"string":return lL(e,t);case"boolean":if(e===t)return()=>e;break}}catch{}throw new Error(`Unable to interpolate values: ${e}, ${t}`)}}},Nn={added:"add",updated:"update",removed:"remove",unknown:"initial","no-op":"none"};function Et(e,t,n,i,r,s,o){const{fromFn:a,toFn:l,intermediateFn:c}=r,{nodes:u,selections:d}=Sg(i),h=(f,g)=>{let v,y=0,m=0;for(const x of g){const S=f[y]===x,D={last:m>=g.length-1,lastLive:y>=f.length-1,prev:g[m-1],prevFromProps:v,prevLive:f[y-1],next:g[m+1],nextLive:f[y+(S?1:0)]},M=`${e}_${t}_${x.id}`;n.stopByAnimationId(M);let C="unknown";S?s&&o&&(C=Oz(x,x.datum,s,o)):C="removed";const{phase:k,start:L,finish:T,delay:O,duration:Y,...E}=a(x,x.datum,C,D),{phase:_,start:R,finish:z,delay:P,duration:F,...G}=l(x,x.datum,C,D),H=T==null&&z==null;n.animate({id:M,groupId:e,phase:k??_??"update",duration:Y??F,delay:O??P,from:E,to:G,ease:xd,collapsable:H,onPlay:()=>{x.setProperties({...L,...R})},onUpdate(Z){x.setProperties(Z),c&&x.setProperties(c(x,x.datum,C,D))},onStop:()=>{x.setProperties({...L,...R,...E,...G,...T,...z})}}),S&&y++,m++,v=E}};let p=0;for(const f of d){const g=f.nodes(),v=g.filter(y=>!f.isGarbage(y));h(v,g),n.animate({id:`${e}_${t}_selection_${p}`,groupId:e,phase:"end",from:0,to:1,ease:xd,onStop(){f.cleanup()}}),p++}h(u,u)}function Ur(e,t,n,i,r,s,o){const{nodes:a,selections:l}=Sg(i),{start:c,finish:u,phase:d}=o,h=u==null;n.animate({id:`${e}_${t}`,groupId:e,phase:d??"update",from:r,to:s,ease:xd,collapsable:h,onPlay:()=>{if(c){for(const p of a)p.setProperties(c);for(const p of l)for(const f of p.nodes())f.setProperties(c)}},onUpdate(p){for(const f of a)f.setProperties(p);for(const f of l)for(const g of f.nodes())g.setProperties(p)},onStop:()=>{for(const p of a)p.setProperties({...s,...u});for(const p of l)for(const f of p.nodes())f.setProperties({...s,...u})}})}function Oz(e,t,n,i){const r=n(e,t);return i.added.has(r)?"added":i.removed.has(r)?"removed":"updated"}var Vh={periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};function bx(e,t=new Date(e.getFullYear(),0,1)){const n=e.getTimezoneOffset()-t.getTimezoneOffset(),i=e.getTime()-t.getTime()+n*6e4,r=36e5*24;return Math.floor(i/r)}function DM(e,t){const i=new Date(e.getFullYear(),0,1).getDay(),r=(t-i+7)%7,s=new Date(e.getFullYear(),0,r+1);return s<=e?Math.floor(bx(e,s)/7)+1:0}var _z=0,bL=1,kM=4;function wL(e,t=e.getFullYear()){const i=new Date(t,0,1).getDay(),r=(kM-i+7)%7,s=new Date(t,0,r-(kM-bL)+1);return s<=e?Math.floor(bx(e,s)/7)+1:wL(e,t-1)}function Fz(e){const t=e.getTimezoneOffset(),n=Math.abs(t);return`${t>0?"-":"+"}${an(Math.floor(n/60),2,"0")}${an(Math.floor(n%60),2,"0")}`}var Bz={a:e=>Vh.shortDays[e.getDay()],A:e=>Vh.days[e.getDay()],b:e=>Vh.shortMonths[e.getMonth()],B:e=>Vh.months[e.getMonth()],c:"%x, %X",d:(e,t)=>an(e.getDate(),2,t??"0"),e:"%_d",f:(e,t)=>an(e.getMilliseconds()*1e3,6,t??"0"),H:(e,t)=>an(e.getHours(),2,t??"0"),I:(e,t)=>{const n=e.getHours()%12;return n===0?"12":an(n,2,t??"0")},j:(e,t)=>an(bx(e)+1,3,t??"0"),m:(e,t)=>an(e.getMonth()+1,2,t??"0"),M:(e,t)=>an(e.getMinutes(),2,t??"0"),L:(e,t)=>an(e.getMilliseconds(),3,t??"0"),p:e=>e.getHours()<12?"AM":"PM",Q:e=>String(e.getTime()),s:e=>String(Math.floor(e.getTime()/1e3)),S:(e,t)=>an(e.getSeconds(),2,t??"0"),u:e=>{let t=e.getDay();return t<1&&(t+=7),String(t%7)},U:(e,t)=>an(DM(e,_z),2,t??"0"),V:(e,t)=>an(wL(e),2,t??"0"),w:(e,t)=>an(e.getDay(),2,t??"0"),W:(e,t)=>an(DM(e,bL),2,t??"0"),x:"%-m/%-d/%Y",X:"%-I:%M:%S %p",y:(e,t)=>an(e.getFullYear()%100,2,t??"0"),Y:(e,t)=>an(e.getFullYear(),4,t??"0"),Z:e=>Fz(e),"%":()=>"%"},zz={_:" ",0:"0","-":""};function an(e,t,n){const i=String(Math.floor(e));return i.length>=t?i:`${n.repeat(t-i.length)}${i}`}function qd(e){const t=[];for(;e.length>0;){let n=e.indexOf("%");if(n!==0){const a=n>0?e.substring(0,n):e;t.push(a)}if(n<0)break;const i=e[n+1],r=zz[i];r!=null&&n++;const s=e[n+1],o=Bz[s];if(typeof o=="function")t.push([o,r]);else if(typeof o=="string"){const a=qd(o);t.push([a,r])}else t.push(`${r??""}${s}`);e=e.substring(n+2)}return n=>{const i=typeof n=="number"?new Date(n):n;return t.map(r=>typeof r=="string"?r:r[0](i,r[1])).join("")}}function Hn(e){return e instanceof Date?e.getTime():e}function wx(e,t,n){const i=SL(e,t,n),r=qd(i);return s=>r(s)}function SL(e=[],t=e,n=0){let i=1/0;for(let l=1;l<e.length;l++)i=Math.min(i,Math.abs(e[l]-e[l-1]));const r=new Date(t[0]).getFullYear(),o=new Date(t.at(-1)).getFullYear()-r>0,a=isFinite(i)?Yz(i,e):Gz(e[0]);return Wz(Math.max(a-n,0),o,e)}function Yz(e,t){return e<Zs?0:e<dn?1:e<Tn?2:e<Ri?3:e<as?4:e<Ri*28||e<Ri*31&&jz(t)?5:e<ec?6:7}function Gz(e){return uu.floor(e)<e?0:du.floor(e)<e?1:hu.floor(e)<e?2:fv.floor(e)<e?3:sl.floor(e)<e?Dp.floor(e)<e?4:5:dx.floor(e)<e?6:7}function jz(e){let t=new Date(e[0]).getMonth();for(let n=1;n<e.length;n++){const i=new Date(e[n]).getMonth();if(t===i)return!0;t=i}return!1}function Wz(e,t,n){const i=Hn(n[0]),r=Hn(n.at(-1)),s=Math.abs(r-i),o=t||e===7,a=s===0,c=[["hour",6*Tn,14*Ri,3,"%I %p"],["hour",dn,6*Tn,3,"%I:%M"],["second",1e3,6*Tn,1,":%S"],["ms",0,6*Tn,0,".%L"],["am/pm",dn,6*Tn,3,"%p"]," ",["day",Ri,as,4,"%a"],["month",a?0:as,52*as,5,"%b %d"],["month",5*as,10*ec,6,"%B"]," ",["year",o?0:ec,1/0,7,"%Y"]].filter(h=>{if(typeof h=="string")return!0;const[p,f,g,v]=h;return v>=e&&f<=s&&s<g}).reduce((h,p)=>(typeof p=="string"?h.result.push(p):h.used.has(p[0])||(h.result.push(p),h.used.add(p[0])),h),{result:[],used:new Set}).result,u=c.findIndex(h=>typeof h!="string"),d=c.length-[...c].reverse().findIndex(h=>typeof h!="string");return c.slice(u,d).map(h=>typeof h=="string"?h:h[4]).join("").replaceAll(/\s+/g," ").trim()}var nn=(e,t)=>{const n=Symbol(String(t));e[n]=void 0,Object.defineProperty(e,t,{get(){return this[n]},set(i){this[n]!==i&&(this[n]=i,this.invalid=!0)},enumerable:!0,configurable:!1})},Mg=class ML{constructor(){this.type="band",this.invalid=!0,this.range=[0,1],this.round=!1,this.interval=void 0,this.index=new Map,this.ordinalRange=[],this._domain=[],this._bandwidth=1,this._step=1,this._inset=1,this._rawBandwidth=1,this._paddingInner=0,this._paddingOuter=0}static is(t){return t instanceof ML}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&$.warnOnce("Expected update to not invalidate scale"))}set domain(t){this.index=new Map,this.invalid=!0,this._domain=[];for(const n of t){const i=Hn(n);this.getIndex(i)===void 0&&this.index.set(i,this._domain.push(n)-1)}}get domain(){return this._domain}getDomain(){return this._domain}ticks(){return this.refresh(),this._domain}convert(t){this.refresh();const n=this.getIndex(t);return n==null?NaN:this.ordinalRange[n]??NaN}invert(t){this.refresh();const n=this.ordinalRange.findIndex(i=>i===t);return this.domain[n]}invertNearest(t){this.refresh();let n=-1,i=1/0;const r=this.ordinalRange.findIndex((s,o)=>{if(s===t)return!0;const a=Math.abs(t-s);return a<i&&(i=a,n=o),!1});return this.domain[r]??this.domain[n]}get bandwidth(){return this.refresh(),this._bandwidth}get step(){return this.refresh(),this._step}get inset(){return this.refresh(),this._inset}get rawBandwidth(){return this.refresh(),this._rawBandwidth}set padding(t){t=ke(0,t,1),this._paddingInner=t,this._paddingOuter=t}get padding(){return this._paddingInner}set paddingInner(t){this._paddingInner=ke(0,t,1)}get paddingInner(){return this._paddingInner}set paddingOuter(t){this._paddingOuter=ke(0,t,1)}get paddingOuter(){return this._paddingOuter}update(){const t=this._domain.length;if(t===0)return;const[n,i]=this.range;let{_paddingInner:r}=this;const{_paddingOuter:s,round:o}=this,a=i-n;let l,c,u;t===1?(r=0,l=a*(1-s*2),c=o?Math.round(l):l,u=a*s):(l=a/Math.max(1,t-r+s*2),c=o?Math.floor(l):l,u=n+(a-c*(t-r))/2);let d=c*(1-r);o&&(u=Math.round(u),d=Math.round(d)),this._step=c,this._inset=u,this._bandwidth=d,this._rawBandwidth=l*(1-r),this.ordinalRange=this._domain.map((h,p)=>u+c*p)}getIndex(t){return this.index.get(t instanceof Date?t.getTime():t)}};b([nn],Mg.prototype,"range",2);b([nn],Mg.prototype,"round",2);b([nn],Mg.prototype,"interval",2);var Mo=Mg;function w(e,t={}){const{optional:n=!1,property:i}=t;return Ss((r,s,o)=>{const a={...t,target:r,property:s};if(n&&typeof o>"u"||e(o,a))return zr(r[s])&&!zr(o)?(r[s].set(o),r[s]):o;const l=i??String(s).replace(/^_*/,""),c=r.constructor.className??r.constructor.name.replace(/Properties$/,"");let u=_u(o);const d=50;if(u!=null&&u.length>d){const h=u.length-d;u=u.slice(0,d)+`... (+${h} characters)`}return $.warn(`Property [${l}] of [${c}] cannot be set to [${u}]${e.message?`; expecting ${Qd(e,a)}`:""}, ignoring.`),Cf},void 0,{optional:n})}var ji=(...e)=>{const t=[];return Qe((n,i)=>(t.length=0,e.every(r=>{const s=r(n,i);return s||t.push(Qd(r,i)),s})),()=>t.filter(Boolean).join(" AND "))},za=(...e)=>Qe((t,n)=>e.some(i=>i(t,n)),t=>e.map(Zz(t)).filter(Boolean).join(" OR ")),le=PL(Qe((e,t)=>zr(e)||Pi(e)&&zr(t.target[t.property]),"a properties object")),DL=PL(Qe(e=>Pi(e),"an object")),me=Qe(uL,"a boolean"),Jn=Qe(Ba,"a function"),q=Qe(Oi,"a string"),tt=Qz(Qe(Pe,"a number")),Dg=Qe(e=>ci(e)&&isNaN(e),"NaN"),X=tt.restrict({min:0}),Ge=tt.restrict({min:0,max:1}),Ao=tt.restrict({min:-360,max:360}),fc=za(tt,Dg),gc=qz(Qe(Ot,"an array")),Ls=(e,t)=>Qe((n,i)=>Ot(n)&&n.every(r=>e(r,i)),n=>{const i=Qd(gc,n)??"";return t?`${i} of ${t}`:i}),Tf=e=>Pe(e)||Zd(e),mc=e=>Qe((t,n)=>!Tf(t)||!Tf(n.target[e])||t<n.target[e],`to be less than ${e}`),yc=e=>Qe((t,n)=>!Tf(t)||!Tf(n.target[e])||t>n.target[e],`to be greater than ${e}`),Sx=Qe(Zd,"Date object"),Mx=za(Sx,X),kL="A color string can be in one of the following formats to be valid: #rgb, #rrggbb, rgb(r, g, b), rgba(r, g, b, a) or a CSS color name such as 'white', 'orange', 'cyan', etc",ze=Qe(e=>Oi(e)&&Tr.validColorString(e),`color String. ${kL}`),Wi=Qe(Ls(ze),`color strings. ${kL}`),Hz=Ls(me,"boolean values"),kg=Ls(tt,"numbers"),CL=Ls(q,"strings"),Uz=Qe(Ls(Sx),"Date objects"),LL=Qe(Ls(le),"objects"),EL=st(["butt","round","square"],"a line cap"),Vz=st(["round","bevel","miter"],"a line join"),Es=Qe(Ls(X),"numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels."),Dx=st(["top","right","bottom","left"],"a position"),Po=st(["normal","italic","oblique"],"a font style"),Oo=za(st(["normal","bold","bolder","lighter"],"a font weight"),tt.restrict({min:1,max:1e3})),Cg=st(["never","always","hyphenate","on-space"],"a text wrap strategy"),TL=st(["left","center","right"],"a text align"),Kz=st(["top","middle","bottom"],"a vertical align"),$z=st(["ellipsis","hide"],"an overflow strategy"),IL=st(["horizontal","vertical"],"a direction"),NL=st(["inside","outside"],"a placement"),Lg=za(st(["exact","nearest"],"interaction range"),tt),kx=st(["top","bottom","left","right"]);function st(e,t="a"){return Qe(n=>e.includes(n),`${t} keyword such as ${Xz(e)}`)}var RL=za(ji(tt.restrict({min:1}),mc("maxSpacing")),Dg),AL=za(ji(tt.restrict({min:1}),yc("minSpacing")),Dg);function Qe(e,t){return e.message=t,e}function Xz(e){const t=e.map(i=>`'${i}'`);if(t.length===1)return t[0];const n=t.pop();return`${t.join(", ")} or ${n}`}function Qd(e,t){return Ba(e.message)?e.message(t):e.message}function Zz(e){return t=>Qd(t,e)}function qz(e){return Object.assign(e,{restrict({length:t,minLength:n}={}){let i="an array";return ci(n)&&n>0?i="a non-empty array":ci(t)&&(i=`an array of length ${t}`),Qe(r=>Ot(r)&&(ci(t)?r.length===t:!0)&&(ci(n)?r.length>=n:!0),i)}})}function Qz(e){return Object.assign(e,{restrict({min:t,max:n}={}){const i=["a number"],r=ci(t),s=ci(n);return r&&s?i.push(`between ${t} and ${n} inclusive`):r?i.push(`greater than or equal to ${t}`):s&&i.push(`less than or equal to ${n}`),Qe(o=>Pe(o)&&(r?o>=t:!0)&&(s?o<=n:!0),i.join(" "))}})}function PL(e){return Object.assign(e,{restrict(t){return Qe(n=>n instanceof t,n=>Qd(e,n)??`an instance of ${t.name}`)}})}function _u(e){if(typeof e=="number"){if(isNaN(e))return"NaN";if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity"}return JSON.stringify(e)}var Cx=(e=>(e.X="x",e.Y="y",e))(Cx||{}),xv={constructedArrays:new WeakMap};function OL(e,t){var n;(n=xv.constructedArrays)==null||n.set(e,t)}var Vr=class bv{constructor(t,n){this.invalid=!0,this.nice=!1,this.interval=void 0,this.tickCount=bv.defaultTickCount,this.minTickCount=0,this.maxTickCount=1/0,this.niceDomain=[],this.defaultClampMode="raw",this.domain=t,this.range=n}static is(t){return t instanceof bv}transform(t){return t}transformInvert(t){return t}calcBandwidth(t=1){const n=this.getDomain(),i=this.getPixelRange(),r=Math.abs(n[1]-n[0])/t+1,s=Math.floor(i),o=Math.min(r,s);return i/Math.max(1,o)}getDomain(){return this.nice&&(this.refresh(),this.niceDomain.length)?this.niceDomain:this.domain}convert(t,n){const i=(n==null?void 0:n.clampMode)??this.defaultClampMode;if(!this.domain||this.domain.length<2)return NaN;this.refresh();const r=this.getDomain().map(u=>this.transform(u)),[s,o]=r,{range:a}=this,[l,c]=a;if(t=this.transform(t),i==="clamped"){const[u,d]=Ai(r.map(Number));if(Number(t)<u)return l;if(Number(t)>d)return c}return s===o?(l+c)/2:t===s?l:t===o?c:l+(Number(t)-Number(s))/(Number(o)-Number(s))*(c-l)}invert(t){this.refresh();const n=this.getDomain().map(h=>this.transform(h)),[i,r]=n,{range:s}=this,[o,a]=s,l=o>a,c=l?a:o,u=l?o:a;let d;return t<c?l?r:i:t>u?l?i:r:(o===a?d=this.toDomain((Number(i)+Number(r))/2):d=this.toDomain(Number(i)+(t-o)/(a-o)*(Number(r)-Number(i))),this.transformInvert(d))}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&$.warnOnce("Expected update to not invalidate scale"))}getPixelRange(){const[t,n]=this.range;return Math.abs(n-t)}};Vr.defaultTickCount=5;Vr.defaultMaxTickCount=6;b([nn],Vr.prototype,"domain",2);b([nn],Vr.prototype,"range",2);b([nn],Vr.prototype,"nice",2);b([nn],Vr.prototype,"interval",2);b([nn],Vr.prototype,"tickCount",2);b([nn],Vr.prototype,"minTickCount",2);b([nn],Vr.prototype,"maxTickCount",2);var Ve=Vr;function _L(e,t){const n=[];for(let i=0;i<e;i++)n.push(t(i));return n}function Kr(e){if(e.length===0)return;let t=1/0,n=-1/0;for(let r of e)r instanceof Date&&(r=r.getTime()),typeof r=="number"&&(r<t&&(t=r),r>n&&(n=r));const i=[t,n];if(i.every(isFinite))return i}function FL(e,t,n){return Jd(e,t,n).extent}function Jd(e,t,n){let i=!1;return e.length>2&&(e=Kr(e)??[NaN,NaN]),isNaN(t)||(i||(i=t>e[0]),e=[t,e[1]]),isNaN(n)||(i||(i=n<e[1]),e=[e[0],n]),e[0]>e[1]&&(e=[]),{extent:e,clipped:i}}function va(e,t){if(e==null||t==null||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(Array.isArray(e[n])&&Array.isArray(t[n])){if(!va(e[n],t[n]))return!1}else if(e[n]!==t[n])return!1;return!0}function wv(e){return typeof e>"u"?[]:Array.isArray(e)?e:[e]}function Eg(e){return Array.from(new Set(e))}function Lx(e,t){return e.reduce((n,i)=>{const r=t(i);return n[r]??(n[r]=[]),n[r].push(i),n},{})}function Sv(e,t,n=0){if(e.length===0)return[];const i=[];for(let r=0;r<t;r++)i.push(e.at((r+n)%e.length));return i}function BL(e,t){return t.reduce(([n,i],r)=>e(r)?[[...n,r],i]:[n,[...i,r]],[[],[]])}function*Jz(e,t){for(const n of e)yield t(n)}function e3(e,t){return e.includes(t)}function t3(e,t){return e3(e,t)}function Cp(e,t){return!t.some(n=>!t3(e,n))}function zL(e){let t,n;const i=i3.exec(e);i&&([,t,e,n]=i);const r=n3.exec(e);if(!r)throw new Error(`The number formatter is invalid: ${e}`);const[,s,o,a,l,c,u,d,h,p,f]=r;return{fill:s,align:o,sign:a,symbol:l,zero:c,width:parseInt(u),comma:d,precision:parseInt(h),trim:!!p,type:f,prefix:t,suffix:n}}function YL(e){const t=typeof e=="string"?zL(e):e,{fill:n,align:i,sign:r="-",symbol:s,zero:o,width:a,comma:l,type:c,prefix:u="",suffix:d="",precision:h}=t;let{trim:p}=t;const f=h==null||isNaN(h);let g;if(!c)g=ki.g,p=!0;else if(c in ki&&c in Sl)g=f?Sl[c]:ki[c];else if(c in ki)g=ki[c];else if(c in Sl)g=Sl[c];else throw new Error(`The number formatter type is invalid: ${c}`);let v;return h==null||f?v=c?6:12:v=h,y=>{let m=g(y,v);return p&&(m=o3(m)),l&&(m=a3(m,l)),m=c3(y,m,r),s&&s!=="#"&&(m=`${s}${m}`),s==="#"&&c==="x"&&(m=`0x${m}`),c==="s"&&(m=`${m}${l3(y)}`),(c==="%"||c==="p")&&(m=`${m}%`),a!=null&&!isNaN(a)&&(m=u3(m,a,n??o,i)),m=`${u}${m}${d}`,m}}var n3=/^(?:(.)?([<>=^]))?([+\-( ])?([$€£¥₣₹#])?(0)?(\d+)?(,)?(?:\.(\d+))?(~)?([%a-z])?$/i,i3=/^((?:[^#]|#[^{])*)#{([^}]+)}(.*)$/,Sl={b:e=>Kh(e).toString(2),c:e=>String.fromCharCode(e),d:e=>Math.round(Math.abs(e)).toFixed(0),o:e=>Kh(e).toString(8),x:e=>Kh(e).toString(16),X:e=>Sl.x(e).toUpperCase(),n:e=>Sl.d(e),"%":e=>`${Kh(e*100).toFixed(0)}`},ki={e:(e,t)=>Math.abs(e).toExponential(t),E:(e,t)=>ki.e(e,t).toUpperCase(),f:(e,t)=>Math.abs(e).toFixed(t),F:(e,t)=>ki.f(e,t).toUpperCase(),g:(e,t)=>{if(e===0)return"0";const n=Math.abs(e),i=Math.floor(Math.log10(n));return i>=-4&&i<t?n.toFixed(t-1-i):n.toExponential(t-1)},G:(e,t)=>ki.g(e,t).toUpperCase(),n:(e,t)=>ki.g(e,t),p:(e,t)=>ki.r(e*100,t),r:(e,t)=>{if(e===0)return"0";const n=Math.abs(e),r=Math.floor(Math.log10(n))-(t-1);if(r<=0)return n.toFixed(-r);const s=10**r;return(Math.round(n/s)*s).toFixed()},s:(e,t)=>{const n=WL(e);return ki.r(e/10**n,t)},"%":(e,t)=>ki.f(e*100,t)},GL=-24,jL=24,r3={[GL]:"y",[-21]:"z",[-18]:"a",[-15]:"f",[-12]:"p",[-9]:"n",[-6]:"µ",[-3]:"m",0:"",3:"k",6:"M",9:"G",12:"T",15:"P",18:"E",21:"Z",[jL]:"Y"},s3="−";function Kh(e){return Math.floor(Math.abs(e))}function o3(e){return e.replace(/\.0+$/,"").replace(/(\.[1-9])0+$/,"$1")}function a3(e,t){let n=e.indexOf(".");n<0&&(n=e.length);const i=e.substring(0,n).split(""),r=e.substring(n);for(let s=i.length-3;s>0;s-=3)i.splice(s,0,t);return`${i.join("")}${r}`}function l3(e){return r3[WL(e)]}function WL(e){return ke(GL,e?Math.floor(Math.log10(Math.abs(e))/3)*3:0,jL)}function c3(e,t,n=""){if(n==="(")return e>=0?t:`(${t})`;const i=n==="+"?"+":"";return`${e>=0?i:s3}${t}`}function u3(e,t,n=" ",i=">"){let r=e;if(i===">"||!i)r=r.padStart(t,n);else if(i==="<")r=r.padEnd(t,n);else if(i==="^"){const s=Math.max(0,t-r.length),o=Math.ceil(s/2),a=Math.floor(s/2);r=r.padStart(o+r.length,n),r=r.padEnd(a+r.length,n)}return r}var xt=(e,t,n)=>({duration:t*n,timeInterval:e,step:n}),gu=[xt(uu,Zs,1),xt(uu,Zs,5),xt(uu,Zs,15),xt(uu,Zs,30),xt(du,dn,1),xt(du,dn,5),xt(du,dn,15),xt(du,dn,30),xt(hu,Tn,1),xt(hu,Tn,3),xt(hu,Tn,6),xt(hu,Tn,12),xt(fv,Ri,1),xt(fv,Ri,2),xt(Dp,as,1),xt(Dp,as,2),xt(Dp,as,3),xt(sl,Qc,1),xt(sl,Qc,2),xt(sl,Qc,3),xt(sl,Qc,4),xt(sl,Qc,6),xt(dx,ec,1)],HL=[1,2,5,10];function Tg(e,t,n,i,r){if(n<2)return wd(e,t,t-e);const s=tc(e,t,n,i,r);return isNaN(s)?[]:(e=Math.ceil(e/s)*s,t=Math.floor(t/s)*s,wd(e,t,s))}function CM(e,t,n,i,r,s){const o=Math.abs(t-e)/Math.max(n,1);let a=0;for(const h of gu){if(o<=h.duration)break;a++}if(a===0){const h=Math.max(tc(e,t,n,i,r),1);return WB.every(h)}else if(a===gu.length){const h=tc(e/ec,t/ec,n,i,r);return dx.every(h)}const l=gu[a-1],c=gu[a],{timeInterval:u,step:d}=o-l.duration<c.duration-o?l:c;return u.every(d)}function tc(e,t,n,i=0,r=1/0){if(e===t)return 1;if(n<1)return NaN;const s=Math.abs(t-e),o=10**Math.floor(Math.log10(s/n));let a=NaN,l=1/0,c=!1;for(const u of HL){const d=Math.ceil(s/(u*o)),h=d>=i&&d<=r;if(c&&!h)continue;const p=Math.abs(d-n);(l>p||c!==h)&&(c||(c=h),l=p,a=u)}return a*o}function LM(e){for(let t=e.length-1;t>=0;t-=1)if(e[t]!=="0")return t+1;return 0}function UL(e,t){const n=zL(t??",f");(n.precision==null||isNaN(n.precision))&&(!n.type||"eEFgGnprs".includes(n.type)?n.precision=Math.max(...e.map(r=>{if(!Number.isFinite(r))return 0;const[s,o]=r.toExponential((n.type?6:12)-1).split(/\.|e/g);return(s!=="1"&&s!=="-1"?1:0)+LM(o)+1})):"f%".includes(n.type)&&(n.precision=Math.max(...e.map(r=>{if(!Number.isFinite(r)||r===0)return 0;const s=Math.floor(Math.log10(Math.abs(r))),o=n.type?6:12,[a,l]=r.toExponential(o-1).split(/\.|e/g),c=LM(l);return Math.max(0,c-s)}))));const i=YL(n);return r=>i(Number(r))}function wd(e,t,n){const i=Math.ceil(Math.abs(t-e)/n),r=10**xg(n),s=Math.min(e,t);return _L(i+1,o=>Math.round((s+n*o)*r)/r)}function Sd(e,t){return e>=t?($.warnOnce("the configured interval results in more than 1 item per pixel, ignoring. Supply a larger interval or omit this configuration"),!0):!1}function d3(e,t){const n=Math.abs(t-e),i=10**Math.floor(Math.log10(n));let r=1/0,s=[e,t];for(const o of HL){const a=o*i,l=Math.floor(e/a)*a,c=Math.ceil(t/a)*a,u=1-n/Math.abs(c-l);r>u&&(r=u,s=[l,c])}return s}var Ig=class Lp extends Ve{constructor(){super([],[0,1]),this.type="time"}toDomain(t){return new Date(t)}convert(t,n){return super.convert(new Date(t),n)}invert(t){return new Date(super.invert(t))}ticks(){if(!this.domain||this.domain.length<2)return[];this.refresh();const{interval:t,nice:n,tickCount:i,minTickCount:r,maxTickCount:s}=this,[o,a]=Ai(this.getDomain().map(Hn));return t!=null?Lp.getTicksForInterval({start:o,stop:a,interval:t,availableRange:this.getPixelRange()})??Lp.getDefaultTicks({start:o,stop:a,tickCount:i,minTickCount:r,maxTickCount:s}):n&&i===2?this.niceDomain:n&&i===1?this.niceDomain.slice(0,1):Lp.getDefaultTicks({start:o,stop:a,tickCount:i,minTickCount:r,maxTickCount:s})}static getDefaultTicks({start:t,stop:n,tickCount:i,minTickCount:r,maxTickCount:s}){const o=CM(t,n,i,r,s);return o?o.range(new Date(t),new Date(n)):[]}static getTicksForInterval({start:t,stop:n,interval:i,availableRange:r}){if(!i)return[];if(i instanceof Na){const d=i.range(new Date(t),new Date(n));return Sd(d.length,r)?void 0:d}const s=Math.abs(i);if(Sd((n-t)/s,r))return;const a=[...gu].reverse().find(d=>s%d.duration===0);if(a)return a.timeInterval.every(s/(a.duration/a.step)).range(new Date(t),new Date(n));let l=new Date(t);const c=new Date(n),u=[];for(;l<=c;)u.push(l),l=new Date(l),l.setMilliseconds(l.getMilliseconds()+s);return u}tickFormat({ticks:t,domain:n,specifier:i,formatOffset:r}){return i==null?wx(t,n,r):qd(i)}update(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()}updateNiceDomain(){let[n,i]=this.domain;for(let r=0;r<4;r++){this.updateNiceDomainIteration(n,i);const[s,o]=this.niceDomain;if(Hn(n)===Hn(s)&&Hn(i)===Hn(o))break;n=s,i=o}}updateNiceDomainIteration(t,n){const i=Math.min(Hn(t),Hn(n)),r=Math.max(Hn(t),Hn(n)),s=t>n,{interval:o}=this;let a;if(o instanceof Na)a=o;else{const l=typeof o=="number"?(r-i)/Math.max(o,1):this.tickCount;a=CM(i,r,l,this.minTickCount,this.maxTickCount)}if(a){const l=a.range(new Date(i),new Date(r),!0),c=s?[...l].reverse():l,u=c[0],d=c.at(-1);this.niceDomain=[u,d]}}};function h3(e,t){return e-t}var eh=class VL extends Mo{constructor(){super(...arguments),this.type="ordinal-time",this.tickCount=Ve.defaultTickCount,this.minTickCount=0,this.maxTickCount=1/0,this.interval=void 0,this._domain=[],this.timestamps=[],this.sortedTimestamps=[],this.visibleRange=[0,1]}static is(t){return t instanceof VL}setVisibleRange(t){this.visibleRange=t}set domain(t){if(this.invalid=!0,t.length===0){this._domain=[];return}this._domain=t,this.timestamps=Eg(t.map(Hn)),this.sortedTimestamps=this.timestamps.slice().sort(h3)}get domain(){return this._domain}ticks(){this.refresh();const[t,n]=[this.timestamps[0],this.timestamps.at(-1)],i=Math.min(t,n),r=Math.max(t,n),s=t>n;let o;if(this.interval==null)o=this.getDefaultTicks(this.maxTickCount,s);else{const[l,c]=this.range,u=Math.abs(c-l);o=Ig.getTicksForInterval({start:i,stop:r,interval:this.interval,availableRange:u})??[]}const a=new Set;return o.filter(l=>{const c=this.convert(l);return isNaN(c)||a.has(c)?!1:(a.add(c),!0)})}getDefaultTicks(t,n){const i=[],r=this.timestamps.length,s=Math.ceil(r*(this.visibleRange[1]-this.visibleRange[0])/t),o=Math.floor(s/2);for(const[a,l]of this.timestamps.entries())s>0&&(a+o)%s||(n?i.push(new Date(this.timestamps[r-a-1])):i.push(new Date(l)));return i}convert(t){this.refresh();const n=Number(t);if(n<this.sortedTimestamps[0])return NaN;let i=this.findInterval(n);return this.timestamps[0]!==this.sortedTimestamps[0]&&(i=this.timestamps.length-i-1),this.ordinalRange[i]??NaN}findInterval(t){const{sortedTimestamps:n}=this;let i=0,r=n.length-1;for(;i<=r;){const s=Math.floor((i+r)/2);if(n[s]===t)return s;n[s]<t?i=s+1:r=s-1}return i}tickFormat({ticks:t,domain:n,specifier:i}){return i==null?wx(t,n):qd(i)}invert(t){this.refresh();const n=this.ordinalRange.findIndex(i=>t<=i);return this.domain[n]}invertNearest(t){return new Date(super.invertNearest(t))}};b([nn],eh.prototype,"tickCount",2);b([nn],eh.prototype,"minTickCount",2);b([nn],eh.prototype,"maxTickCount",2);b([nn],eh.prototype,"interval",2);var tr=eh;function KL(e,t){return typeof e=="number"&&typeof t=="number"?e-t:typeof e=="string"&&typeof t=="string"?e.localeCompare(t):e==null&&t==null?0:e==null?-1:t==null?1:String(e).localeCompare(String(t))}function EM(e){return typeof e=="function"?e():e}function $L(e,t,n){for(const i in e){const r=n(EM(e[i]),EM(t[i]));if(r!==0)return r}return 0}var Ex=class Ep extends pc{constructor(t){var r;super({isVirtual:t==null?void 0:t.isVirtual}),this.opts=t,this.opacity=1,this.lastBBox=void 0;const{zIndex:n,zIndexSubOrder:i}=t??{};this.isContainerNode=!0,n!==void 0&&(this.zIndex=n),i!==void 0&&(this.zIndexSubOrder=i),this.name=(r=this.opts)==null?void 0:r.name}static is(t){return t instanceof Ep}onZIndexChange(){var t;super.onZIndexChange(),this.layer&&((t=this._layerManager)==null||t.moveLayer(this.layer,this.zIndex,this.zIndexSubOrder))}isLayer(){return this.layer!=null}_setLayerManager(t){if(this._layerManager&&this.layer&&(this._layerManager.removeLayer(this.layer),this.layer=void 0),this.layer)throw new Error("AG Charts - unable to deregister scene rendering layer!");super._setLayerManager(t)}initialiseLayer(){var t;this.layer||!this._layerManager||((t=this.opts)==null?void 0:t.layer)!==!0||(this.layer=this._layerManager.addLayer({name:this.name,zIndex:this.zIndex,zIndexSubOrder:this.zIndexSubOrder,getComputedOpacity:()=>this.getComputedOpacity(),getVisibility:()=>this.getVisibility()}))}getComputedOpacity(){let t=1;for(const n of this.traverseUp())n instanceof Ep&&(t*=n.opacity);return t}getVisibility(){for(const t of this.traverseUp())if(!t.visible)return!1;return!0}onVisibleChange(){this.layer&&(this.layer.enabled=this.visible)}markDirty(t,n=1){if(this.isVirtual){super.markDirty(t,n);return}let i=n;(n<2||this.layer!=null)&&(i=1),super.markDirty(t,n,i)}containsPoint(t,n){return!0}computeBBox(){return this.computeTransformMatrix(),Ep.computeBBox(this.children)}computeTransformedBBox(){return this.computeBBox()}computeTransformedRegionBBox(){return this.clipRect?(this.computeTransformMatrix(),this.matrix.transformBBox(this.clipRect)):this.computeTransformedBBox()}preRender(){var n,i;const t=super.preRender();return t.groups+=1,t.nonGroups-=1,((n=this.opts)==null?void 0:n.layer)!==!0||this.layer!=null||(t.nonGroups>0&&this.initialiseLayer(),(i=this.opts)!=null&&i.nonEmptyChildDerivedZIndex&&t.nonGroups>0&&this.deriveZIndexFromChildren()),t}deriveZIndexFromChildren(){const t=this.children.filter(i=>i._childNodeCounts.nonGroups>0);this.sortChildren(t);const n=t.at(-1);this.zIndex=(n==null?void 0:n.zIndex)??-1/0,this.zIndexSubOrder=n==null?void 0:n.zIndexSubOrder}render(t){var k,L;const{opts:{name:n=void 0}={},_debug:i}=this,{dirty:r,dirtyZIndex:s,layer:o,children:a,clipRect:l,dirtyTransform:c}=this;let{ctx:u,forceRender:d,clipBBox:h}=t;const{resized:p,stats:f}=t,g=u.getTransform(),v=r>=2||s||p;let y=v,m=!1;for(const T of a)if(y||(y=T.layerManager==null&&T.dirty>=1),m||(m=T.layerManager!=null&&T.dirty>=1),y)break;if(n&&(i==null||i({name:n,group:this,isDirty:v,isChildDirty:y,dirtyTransform:c,renderCtx:t,forceRender:d})),c)d="dirtyTransform";else if(o){const T=this.computeBBox();(this.lastBBox===void 0||!this.lastBBox.equals(T))&&(d="dirtyTransform",this.lastBBox=T)}if(!v&&!y&&!m&&!d){n&&f&&(i==null||i({name:n,result:"skipping",renderCtx:t,counts:this.nodeCount,group:this})),o&&f&&(f.layersSkipped++,f.nodesSkipped+=this.nodeCount.count),this.markClean({recursive:!1});return}const x=this.visible;if(o){if(u=o.context,u.save(),u.setTransform(o.pixelRatio,0,0,o.pixelRatio,0,0),d!=="dirtyTransform"&&(d=y||s),d&&o.clear(),h){const{width:T,height:O,x:Y,y:E}=h;i==null||i(()=>({name:n,clipBBox:h,ctxTransform:u.getTransform(),renderCtx:t,group:this})),u.beginPath(),u.rect(Y,E,T,O),u.clip()}u.setTransform(g)}else u.globalAlpha*=this.opacity;if(this.computeTransformMatrix(),this.matrix.toContext(u),l){const{x:T,y:O,width:Y,height:E}=l;u.save(),i==null||i(()=>({name:n,clipRect:l,ctxTransform:u.getTransform(),renderCtx:t,group:this})),u.beginPath(),u.rect(T,O,Y,E),u.clip(),h=this.matrix.transformBBox(l)}const S=this.hasVirtualChildren();s?(this.sortChildren(a),d!=="dirtyTransform"&&(d=!0)):S&&this.sortChildren(a);const M=d!==t.forceRender||h!==t.clipBBox||u!==t.ctx?{...t,ctx:u,forceRender:d,clipBBox:h}:t;let C=0;for(const T of a){if(!T.visible||!x){T.markClean(),f&&(C+=T.nodeCount.count);continue}if(!d&&T.dirty===0){f&&(C+=T.nodeCount.count);continue}u.save(),T.render(M),u.restore()}if(f&&(f.nodesSkipped+=C),super.render(t),l&&u.restore(),S)for(const T of this.virtualChildren)T.markClean({recursive:"virtual"});o&&(f&&f.layersRendered++,u.restore(),d&&o.snapshot(),(L=(k=o.context).verifyDepthZero)==null||L.call(k)),n&&f&&(i==null||i({name:n,result:"rendered",skipped:C,renderCtx:t,counts:this.nodeCount,group:this}))}sortChildren(t){this.dirtyZIndex=!1,t.sort((n,i)=>$L([n.zIndex,...n.zIndexSubOrder??[void 0,void 0],n.serialNumber],[i.zIndex,...i.zIndexSubOrder??[void 0,void 0],i.serialNumber],KL))}static computeBBox(t){let n=1/0,i=-1/0,r=1/0,s=-1/0;for(const o of t){if(!o.visible)continue;const a=o.computeTransformedBBox();if(!a)continue;const{x:l,y:c,width:u,height:d}=a;l<n&&(n=l),c<r&&(r=c),l+u>i&&(i=l+u),c+d>s&&(s=c+d)}return new re(n,r,i-n,s-r)}setClipRectInGroupCoordinateSpace(t){this.clipRect=t?this.transformBBox(t):void 0}};Ex.className="Group";b([ne({redraw:3,convertor:e=>ke(0,e,1)})],Ex.prototype,"opacity",2);var ge=Ex,Ii=Math.PI*2;function pt(e){return e%=Ii,e+=Ii,e%=Ii,e}function p3(e){return e%=Ii,e+=Ii,e!==Ii&&(e%=Ii),e}function Md(e){return e%=Ii,e<-Math.PI?e+=Ii:e>=Math.PI&&(e-=Ii),e}function qs(e,t,n){const i=pt(e),r=pt(t),s=pt(n);return r<s?r<=i&&i<=s:r>s?r<=i||i<=s:!0}function An(e){return e/180*Math.PI}function f3(e){return e/Math.PI*180}function XL(e,t,n){n&&([e,t]=[t,e]);const i=pt(e);return(pt(t)+Ii-i)%Ii}function Ng(e,t){return e=pt(e),t=pt(t),t-e+(e>t?2*Math.PI:0)}function g3(e,t,n,i){const r=e+n*Math.cos(i),s=t+n*Math.sin(i);return{x:r,y:s}}var m3=class{constructor(e=[]){this.stops=e}},y3=class extends m3{constructor(e,t=0){super(e),this.angle=t}createGradient(e,t){const{stops:i,angle:r}=this,s=pt(An(r+90)),o=Math.cos(s),a=Math.sin(s),l=t.width,c=t.height,u=t.x+l*.5,d=t.y+c*.5;if(l>0&&c>0){const h=Math.sqrt(c*c+l*l)/2,p=Math.atan2(c,l);let f;s<Math.PI/2?f=s:s<Math.PI?f=Math.PI-s:s<1.5*Math.PI?f=s-Math.PI:f=2*Math.PI-s;const g=h*Math.abs(Math.cos(f-p)),v=e.createLinearGradient(u+o*g,d+a*g,u-o*g,d-a*g);for(const y of i)v.addColorStop(y.offset,y.color);return v}return"black"}},v3=/^linear-gradient\((-?[\d.]+)deg,(.*?)\)$/i,ei=class fr extends pc{constructor(){super(...arguments),this.fillOpacity=1,this.strokeOpacity=1,this.fill=fr.defaultStyles.fill,this.stroke=fr.defaultStyles.stroke,this.strokeWidth=fr.defaultStyles.strokeWidth,this.lineDash=fr.defaultStyles.lineDash,this.lineDashOffset=fr.defaultStyles.lineDashOffset,this.lineCap=fr.defaultStyles.lineCap,this.lineJoin=fr.defaultStyles.lineJoin,this.miterLimit=void 0,this.opacity=fr.defaultStyles.opacity,this.fillShadow=fr.defaultStyles.fillShadow}restoreOwnStyles(){const{defaultStyles:t}=this.constructor;Object.assign(this,t)}onFillChange(){const{fill:t}=this;let n;if(t!=null&&t.startsWith("linear-gradient")&&(n=v3.exec(t))){const i=parseFloat(n[1]),r=[],s=n[2],o=/(#[0-9a-f]+)|(rgba?\(.+?\))|([a-z]+)/gi;let a;for(;a=o.exec(s);)r.push(a[0]);this.gradient=new y3(r.map((l,c)=>({color:l,offset:c/(r.length-1)})),i)}else this.gradient=void 0}align(t,n){var s,o;const i=((o=(s=this.layerManager)==null?void 0:s.canvas)==null?void 0:o.pixelRatio)??1,r=Math.round(t*i)/i;return n==null?r:n===0?0:n<1?Math.ceil(n*i)/i:Math.round((n+t)*i)/i-r}fillStroke(t,n){this.renderFill(t,n),this.renderStroke(t,n)}renderFill(t,n){if(this.fill){const{globalAlpha:i}=t;this.applyFill(t),this.applyFillAlpha(t),this.applyShadow(t),this.executeFill(t,n),t.globalAlpha=i}t.shadowColor="rgba(0, 0, 0, 0)"}executeFill(t,n){n?t.fill(n):t.fill()}applyFill(t){var n;t.fillStyle=((n=this.gradient)==null?void 0:n.createGradient(t,this.computeBBox()))??this.fill}applyFillAlpha(t){t.globalAlpha*=this.opacity*this.fillOpacity}applyShadow(t){var r;const n=((r=this.layerManager)==null?void 0:r.canvas.pixelRatio)??1,i=this.fillShadow;i!=null&&i.enabled&&(t.shadowColor=i.color,t.shadowOffsetX=i.xOffset*n,t.shadowOffsetY=i.yOffset*n,t.shadowBlur=i.blur*n)}renderStroke(t,n){if(this.stroke&&this.strokeWidth){const{globalAlpha:i}=t;t.strokeStyle=this.stroke,t.globalAlpha*=this.opacity*this.strokeOpacity,t.lineWidth=this.strokeWidth,this.lineDash&&t.setLineDash(this.lineDash),this.lineDashOffset&&(t.lineDashOffset=this.lineDashOffset),this.lineCap&&(t.lineCap=this.lineCap),this.lineJoin&&(t.lineJoin=this.lineJoin),this.miterLimit!=null&&(t.miterLimit=this.miterLimit),this.executeStroke(t,n),t.globalAlpha=i}}executeStroke(t,n){n?t.stroke(n):t.stroke()}containsPoint(t,n){return this.isPointInPath(t,n)}};ei.defaultStyles={fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0};b([ne({redraw:2})],ei.prototype,"fillOpacity",2);b([ne({redraw:2})],ei.prototype,"strokeOpacity",2);b([ne({redraw:2,changeCb:e=>e.onFillChange()})],ei.prototype,"fill",2);b([ne({redraw:2})],ei.prototype,"stroke",2);b([ne({redraw:2})],ei.prototype,"strokeWidth",2);b([ne({redraw:2})],ei.prototype,"lineDash",2);b([ne({redraw:2})],ei.prototype,"lineDashOffset",2);b([ne({redraw:2})],ei.prototype,"lineCap",2);b([ne({redraw:2})],ei.prototype,"lineJoin",2);b([ne({redraw:2})],ei.prototype,"miterLimit",2);b([ne({redraw:2,convertor:e=>ke(0,e,1)})],ei.prototype,"opacity",2);b([ne({redraw:2,checkDirtyOnAssignment:!0})],ei.prototype,"fillShadow",2);var Gi=ei,$r=class extends Gi{constructor(e={}){super(e),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.startLine=!1,this.endLine=!1,this.isRange=!1,this.restoreOwnStyles()}computeBBox(){return new re(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)}isPointInPath(e,t){return!1}render(e){var y;const{ctx:t,forceRender:n,stats:i}=e;if(this.dirty===0&&!n){i&&(i.nodesSkipped+=this.nodeCount.count);return}this.computeTransformMatrix(),this.matrix.toContext(t);let{x1:r,y1:s,x2:o,y2:a}=this;r=this.align(r),s=this.align(s),o=this.align(o),a=this.align(a);const{fill:l,opacity:c,isRange:u}=this;if(!!(u&&l)){const{fillOpacity:m}=this;t.fillStyle=l,t.globalAlpha=c*m,t.beginPath(),t.moveTo(r,s),t.lineTo(o,s),t.lineTo(o,a),t.lineTo(r,a),t.closePath(),t.fill()}const{stroke:h,strokeWidth:p,startLine:f,endLine:g}=this;if(!!((f||g)&&h&&p)){const{strokeOpacity:m,lineDash:x,lineDashOffset:S,lineCap:D,lineJoin:M}=this;t.strokeStyle=h,t.globalAlpha=c*m,t.lineWidth=p,x&&t.setLineDash(x),S&&(t.lineDashOffset=S),D&&(t.lineCap=D),M&&(t.lineJoin=M),t.beginPath(),f&&(t.moveTo(r,s),t.lineTo(o,s)),g&&(t.moveTo(o,a),t.lineTo(r,a)),t.stroke()}(y=this.fillShadow)==null||y.markClean(),super.render(e)}};$r.className="Range";$r.defaultStyles={...Gi.defaultStyles,strokeWidth:1};b([ne({redraw:2})],$r.prototype,"x1",2);b([ne({redraw:2})],$r.prototype,"y1",2);b([ne({redraw:2})],$r.prototype,"x2",2);b([ne({redraw:2})],$r.prototype,"y2",2);b([ne({redraw:2})],$r.prototype,"startLine",2);b([ne({redraw:2})],$r.prototype,"endLine",2);b([ne({redraw:2})],$r.prototype,"isRange",2);var Jc=new WeakMap,eu=new WeakMap;function Dd(e,t){var i,r,s;const n=JSON.stringify(e,null,0);return Jc.has(t)||Jc.set(t,new Map),(i=Jc.get(t))!=null&&i.has(n)||(r=Jc.get(t))==null||r.set(n,t(e)),(s=Jc.get(t))==null?void 0:s.get(n)}function ZL(e){return(t,...n)=>{var r,s,o;const i=JSON.stringify(t,null,0);return eu.has(e)||eu.set(e,new Map),(r=eu.get(e))!=null&&r.has(i)||(s=eu.get(e))==null||s.set(i,e(t,...n)),(o=eu.get(e))==null?void 0:o.get(i)}}function x3(e=0,t=0){return new OffscreenCanvas(e,t).getContext("2d")}var Ei=class{constructor(e){this.ctx=e,this.charMap=new Map}static createFontMeasurer(e){const t=x3(),n=new this(t);return this.instanceMap.set(e,n),t.font=e,n}static getFontMeasurer(e){const t=this.instanceMap.get(e.font)??this.createFontMeasurer(e.font);return e.textAlign&&(t.ctx.textAlign=e.textAlign),e.textBaseline&&(t.ctx.textBaseline=e.textBaseline),t}static measureText(e,t){const{ctx:n}=this.getFontMeasurer(t);return this.getMetrics(n,e)}static measureLines(e,t){const{ctx:n}=this.getFontMeasurer(t),i=typeof e=="string"?e.split(this.lineSplitter):e;return this.getMultilineMetrics(n,i)}static wrapText(e,t){return this.wrapLines(e,t).join(`
`)}static wrapLines(e,t){const n=e.split(this.lineSplitter),i=this.getFontMeasurer(t);if(t.textWrap==="never")return n.map(a=>this.truncateLine(a.trimEnd(),i,t.maxWidth));const r=[],s=t.textWrap==="hyphenate",o=t.textWrap==="on-space";for(let a of n){a=a.trimEnd();for(let l=0,c=0,u=0;l<a.length;l++){const d=a.charAt(l);if(c+=i.textWidth(d),d===" "&&(u=l),c>t.maxWidth){if(l===0)break;if(u){const f=this.getWordAt(a,u+1),g=i.textWidth(f);if(g<=t.maxWidth){r.push(a.slice(0,u).trimEnd()),a=a.slice(u).trimStart(),l=-1,c=0,u=0;continue}else o&&g>t.maxWidth&&r.push(a.slice(0,u).trimEnd(),this.truncateLine(a.slice(u).trimStart(),i,t.maxWidth,!0))}else o&&r.push(this.truncateLine(a,i,t.maxWidth,!0));if(o){a="";break}const h=s?"-":"";let p=a.slice(0,l).trim();for(;p.length&&i.textWidth(p+h)>t.maxWidth;)p=p.slice(0,-1).trimEnd();if(r.push(p+h),!p.length){a="";break}a=a.slice(p.length).trimStart(),l=-1,c=0,u=0}}a&&r.push(a)}return this.avoidOrphans(r,i,t),this.clipLines(r,i,t)}static getWordAt(e,t){const n=e.indexOf(" ",t);return n===-1?e.slice(t):e.slice(t,n)}static clipLines(e,t,n){if(!n.maxHeight)return e;const{height:i,lineMetrics:r}=this.measureLines(e,n);if(i<=n.maxHeight)return e;for(let s=0,o=0;s<r.length;s++){const{lineHeight:a}=r[s];if(o+=a,o>n.maxHeight){const l=e.slice(0,Math.max(s,1)),c=l.pop();return l.concat(this.truncateLine(c,t,n.maxWidth,!0))}}return e}static avoidOrphans(e,t,n){if(e.length<2)return;const{length:i}=e,r=e[i-1],s=e[i-2];if(s.length<r.length)return;const o=s.lastIndexOf(" ");if(o===-1||o===s.indexOf(" ")||r.includes(" "))return;const a=s.slice(o+1);t.textWidth(r+a)<=n.maxWidth&&(e[i-2]=s.slice(0,o),e[i-1]=a+" "+r)}static truncateLine(e,t,n,i){const r=t.textWidth(this.EllipsisChar);let s=0,o=0;for(;o<e.length;o++){const a=t.textWidth(e.charAt(o));if(s+a>n)break;s+=a}if(e.length===o&&(!i||s+r<=n))return i?e+this.EllipsisChar:e;for(e=e.slice(0,o).trimEnd();e.length&&t.textWidth(e)+r>n;)e=e.slice(0,-1).trimEnd();return e+this.EllipsisChar}static getMetrics(e,t){const n=e.measureText(t);return n.fontBoundingBoxAscent??(n.fontBoundingBoxAscent=n.emHeightAscent),n.fontBoundingBoxDescent??(n.fontBoundingBoxDescent=n.emHeightDescent),{width:n.width,height:n.actualBoundingBoxAscent+n.actualBoundingBoxDescent,lineHeight:n.fontBoundingBoxAscent+n.fontBoundingBoxDescent,offsetTop:n.actualBoundingBoxAscent,offsetLeft:n.actualBoundingBoxLeft}}static getMultilineMetrics(e,t){let n=0,i=0,r=0,s=0,o=0;const a=this.getVerticalModifier(e.textBaseline),l=t.map((c,u,{length:d})=>{const h=e.measureText(c);return h.fontBoundingBoxAscent??(h.fontBoundingBoxAscent=h.emHeightAscent),h.fontBoundingBoxDescent??(h.fontBoundingBoxDescent=h.emHeightDescent),n<h.width&&(n=h.width),s<h.actualBoundingBoxLeft&&(s=h.actualBoundingBoxLeft),u===0?(i+=h.actualBoundingBoxAscent,r+=h.actualBoundingBoxAscent):o+=h.fontBoundingBoxAscent,u===d-1?i+=h.actualBoundingBoxDescent:o+=h.fontBoundingBoxDescent,{text:c,width:h.width,height:h.actualBoundingBoxAscent+h.actualBoundingBoxDescent,lineHeight:h.fontBoundingBoxAscent+h.fontBoundingBoxDescent,offsetTop:h.actualBoundingBoxAscent,offsetLeft:h.actualBoundingBoxLeft}});return i+=o,r+=o*a,{width:n,height:i,offsetTop:r,offsetLeft:s,lineMetrics:l}}static getVerticalModifier(e){switch(e){case"hanging":case"top":return 0;case"middle":return .5;case"alphabetic":case"bottom":case"ideographic":default:return 1}}textWidth(e,t){if(t){let n=0;for(let i=0;i<e.length;i++)n+=this.textWidth(e.charAt(i));return n}return e.length>1?this.ctx.measureText(e).width:this.charMap.get(e)??this.charWidth(e)}charWidth(e){const{width:t}=this.ctx.measureText(e);return this.charMap.set(e,t),t}};Ei.EllipsisChar="…";Ei.instanceMap=new Map;Ei.lineSplitter=/\r?\n/g;var b3="…";function Rg(e){const{redraw:t=3,changeCb:n}={};return ne({redraw:t,type:"font",changeCb:n})}var gn=class Qo extends Gi{constructor(){super(...arguments),this.x=0,this.y=0,this.lines=[],this.text=void 0,this._dirtyFont=!0,this.fontSize=10,this.fontFamily="sans-serif",this.textAlign=Qo.defaultStyles.textAlign,this.textBaseline=Qo.defaultStyles.textBaseline}onTextChange(){var t;this.lines=((t=this.text)==null?void 0:t.split(`
`).map(n=>n.trim()))??[]}get font(){return(this._font==null||this._dirtyFont)&&(this._dirtyFont=!1,this._font=xa(this)),this._font}computeBBox(){const{x:t,y:n,lines:i,textBaseline:r,textAlign:s}=this,{offsetTop:o,offsetLeft:a,width:l,height:c}=Ei.measureLines(i,{font:xa(this),textBaseline:r,textAlign:s});return new re(t-a,n-o,l,c)}getLineHeight(t){return this.lineHeight??Ei.measureText(t,this).lineHeight}isPointInPath(t,n){const i=this.transformPoint(t,n),r=this.computeBBox();return r?r.containsPoint(i.x,i.y):!1}render(t){const{ctx:n,forceRender:i,stats:r}=t;if(this.dirty===0&&!i){r&&(r.nodesSkipped+=this.nodeCount.count);return}if(!this.lines.length||!this.layerManager){r&&(r.nodesSkipped+=this.nodeCount.count);return}this.computeTransformMatrix(),this.matrix.toContext(n);const{fill:s,stroke:o,strokeWidth:a}=this,{pixelRatio:l}=this.layerManager.canvas;if(n.font=this.font,n.textAlign=this.textAlign,n.textBaseline=this.textBaseline,s){n.fillStyle=s,n.globalAlpha*=this.opacity*this.fillOpacity;const{fillShadow:c}=this;c!=null&&c.enabled&&(n.shadowColor=c.color,n.shadowOffsetX=c.xOffset*l,n.shadowOffsetY=c.yOffset*l,n.shadowBlur=c.blur*l),this.renderLines((u,d,h)=>n.fillText(u,d,h))}if(o&&a){n.strokeStyle=o,n.lineWidth=a,n.globalAlpha*=this.opacity*this.strokeOpacity;const{lineDash:c,lineDashOffset:u,lineCap:d,lineJoin:h}=this;c&&n.setLineDash(c),u&&(n.lineDashOffset=u),d&&(n.lineCap=d),h&&(n.lineJoin=h),this.renderLines((p,f,g)=>n.strokeText(p,f,g))}super.render(t)}renderLines(t){const{lines:n,x:i,y:r}=this,s=n.map(l=>this.getLineHeight(l)),o=s.reduce((l,c)=>l+c,0);let a=(s[0]-o)*Qo.getVerticalModifier(this.textBaseline);for(let l=0;l<n.length;l++)t(n[l],i,r+a),a+=s[l]}static wrapLines(t,n,i,r,s,o){const a=Ei.wrapLines(t,{maxWidth:n,maxHeight:i,font:xa(r),textAlign:r.textAlign,textBaseline:r.textBaseline,textWrap:s});if(!(o==="hide"&&a.some(l=>l.endsWith(Ei.EllipsisChar))))return a}static wrap(t,n,i,r,s,o="ellipsis"){const a=Qo.wrapLines(t,n,i,r,s,o);return(a==null?void 0:a.join(`
`).trim())??""}setFont(t){this.fontFamily=t.fontFamily,this.fontSize=t.fontSize,this.fontStyle=t.fontStyle,this.fontWeight=t.fontWeight}setAlign(t){this.textAlign=t.textAlign,this.textBaseline=t.textBaseline}static getVerticalModifier(t){switch(t){case"top":case"hanging":return 0;case"bottom":case"alphabetic":case"ideographic":return 1;case"middle":return .5}}static measureText(t,n,i,r){return this._measureText({text:t,font:n,textBaseline:i,textAlign:r})}static getTextSize(t,n){return this._getTextSize({text:t,font:n})}static getTextSizeMultiline(t,n,i=Qo.defaultStyles.textBaseline,r=Qo.defaultStyles.textAlign){const s=Ei.measureLines(t,{font:n,textBaseline:i,textAlign:r});return{top:s.offsetTop,left:s.offsetLeft,width:s.width,height:s.height}}};gn.className="Text";gn.defaultLineHeightRatio=1.15;gn.defaultStyles=Object.assign({},Gi.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"});gn.ellipsis=b3;gn._measureText=ZL(({text:e,font:t,textBaseline:n,textAlign:i})=>Ei.measureText(e,{font:t,textBaseline:n,textAlign:i}));gn._getTextSize=ZL(({text:e,font:t})=>Ei.measureText(e,{font:t}));b([ne({redraw:3})],gn.prototype,"x",2);b([ne({redraw:3})],gn.prototype,"y",2);b([ne({redraw:3,changeCb:e=>e.onTextChange()})],gn.prototype,"text",2);b([Rg()],gn.prototype,"fontStyle",2);b([Rg()],gn.prototype,"fontWeight",2);b([Rg()],gn.prototype,"fontSize",2);b([Rg()],gn.prototype,"fontFamily",2);b([ne({redraw:3})],gn.prototype,"textAlign",2);b([ne({redraw:3})],gn.prototype,"textBaseline",2);b([ne({redraw:3})],gn.prototype,"lineHeight",2);var Ye=gn;function xa(e){const{fontFamily:t,fontSize:n,fontStyle:i,fontWeight:r}=e;return[i??"",r??"",n+"px",t].join(" ").trim()}var Kt=class extends Ce{constructor(){super(...arguments),this.enabled=!0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}getFont(){return xa(this)}};b([w(me)],Kt.prototype,"enabled",2);b([w(ze,{optional:!0})],Kt.prototype,"color",2);b([w(Po,{optional:!0})],Kt.prototype,"fontStyle",2);b([w(Oo,{optional:!0})],Kt.prototype,"fontWeight",2);b([w(X)],Kt.prototype,"fontSize",2);b([w(q)],Kt.prototype,"fontFamily",2);b([w(Jn,{optional:!0})],Kt.prototype,"formatter",2);function If(e){const{parallelFlipRotation:t=0,regularFlipRotation:n=0}=e,i=e.rotation?pt(An(e.rotation)):0,r=!i&&t>=0&&t<=Math.PI?-1:1,s=!i&&n>=0&&n<=Math.PI?-1:1;let o=0;return e.parallel?o=r*Math.PI/2:s===-1&&(o=Math.PI),{configuredRotation:i,defaultRotation:o,parallelFlipFlag:r,regularFlipFlag:s}}function w3(e,t){return isNaN(e)?t?0:10:e}function S3(e,t,n,i){return e&&!t?n*i===-1?"hanging":"bottom":"middle"}function Bm(e,t,n,i,r){const s=t>0&&t<=Math.PI,o=n>0&&n<=Math.PI,a=s||o?-1:1;if(e)if(t||n){if(i*a===-1)return"end"}else return"center";else if(i*r===-1)return"end";return"start"}function M3(e,t,n,i,r){const{width:s,height:o}=t,a=new re(n,i,0,0);r.transformBBox(a,t);const{x:l,y:c}=t;return t.width=s,t.height=o,{point:{x:l,y:c},label:{text:e,width:s,height:o}}}var qL=(e=>(e[e.SERIES_BACKGROUND_ZINDEX=0]="SERIES_BACKGROUND_ZINDEX",e[e.AXIS_GRID_ZINDEX=1]="AXIS_GRID_ZINDEX",e[e.AXIS_ZINDEX=2]="AXIS_ZINDEX",e[e.SERIES_CROSSLINE_RANGE_ZINDEX=3]="SERIES_CROSSLINE_RANGE_ZINDEX",e[e.SERIES_LAYER_ZINDEX=4]="SERIES_LAYER_ZINDEX",e[e.SERIES_HIGHLIGHT_ZINDEX=5]="SERIES_HIGHLIGHT_ZINDEX",e[e.AXIS_FOREGROUND_ZINDEX=6]="AXIS_FOREGROUND_ZINDEX",e[e.SERIES_CROSSHAIR_ZINDEX=7]="SERIES_CROSSHAIR_ZINDEX",e[e.SERIES_LABEL_ZINDEX=8]="SERIES_LABEL_ZINDEX",e[e.SERIES_CROSSLINE_LINE_ZINDEX=9]="SERIES_CROSSLINE_LINE_ZINDEX",e[e.SERIES_ANNOTATION_ZINDEX=10]="SERIES_ANNOTATION_ZINDEX",e[e.LEGEND_ZINDEX=11]="LEGEND_ZINDEX",e[e.NAVIGATOR_ZINDEX=12]="NAVIGATOR_ZINDEX",e))(qL||{});function QL(e){return e!=null&&Object.hasOwn(e,"toString")&&Oi(e.toString())}function JL(e){return e!=null&&Object.hasOwn(e,"valueOf")&&Pe(e.valueOf())}function Ag(e){return Pe(e)||Zd(e)||JL(e)}function Mv(e,t){return e!=null&&(!t||Ag(e))}function _l(e){return QL(e)&&Object.hasOwn(e,"id")?e.id:e}var Tx=e=>e==="value"?Qe((t,n)=>n.target.type==="line",t=>t.target.type==="range"?"crossLine type 'range' to have a 'range' property instead of 'value'":"crossLine property 'type' to be 'line'"):Qe((t,n)=>n.target.type==="range",t=>t.target.type==="line"?"crossLine type 'line' to have a 'value' property instead of 'range'":"crossLine property 'type' to be 'range'"),eE=(e,t,n,i)=>{const r=e==="line"&&t!==void 0,s=e==="range"&&n!==void 0;if(!r&&!s)return!0;const[o,a]=n??[t,void 0],l=Ve.is(i)||tr.is(i),c=Mv(o,l)&&!isNaN(i.convert(o)),u=Mv(a,l)&&!isNaN(i.convert(a));if(r&&c||s&&c&&u)return!0;const d=["Expecting crossLine"];return s?(c||d.push(`range start ${_u(o)}`),u||d.push(`${c?"":"and "}range end ${_u(a)}`)):d.push(`value ${_u(o)}`),d.push("to match the axis scale domain."),$.warnOnce(d.join(" ")),!1},D3={top:{xTranslationDirection:0,yTranslationDirection:-1},bottom:{xTranslationDirection:0,yTranslationDirection:1},left:{xTranslationDirection:-1,yTranslationDirection:0},right:{xTranslationDirection:1,yTranslationDirection:0},topLeft:{xTranslationDirection:1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:-1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:1},bottomRight:{xTranslationDirection:-1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:1,yTranslationDirection:0},insideRight:{xTranslationDirection:-1,yTranslationDirection:0},insideTop:{xTranslationDirection:0,yTranslationDirection:1},insideBottom:{xTranslationDirection:0,yTranslationDirection:-1},insideTopLeft:{xTranslationDirection:1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomRight:{xTranslationDirection:-1,yTranslationDirection:-1}},k3={top:{xTranslationDirection:1,yTranslationDirection:0},bottom:{xTranslationDirection:-1,yTranslationDirection:0},left:{xTranslationDirection:0,yTranslationDirection:-1},right:{xTranslationDirection:0,yTranslationDirection:1},topLeft:{xTranslationDirection:-1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},bottomRight:{xTranslationDirection:1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:0,yTranslationDirection:1},insideRight:{xTranslationDirection:0,yTranslationDirection:-1},insideTop:{xTranslationDirection:-1,yTranslationDirection:0},insideBottom:{xTranslationDirection:1,yTranslationDirection:0},insideTopLeft:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:-1},insideBottomRight:{xTranslationDirection:1,yTranslationDirection:-1}};function Dv({yDirection:e,padding:t=0,position:n="top",bbox:i}){const r=e?D3:k3,{xTranslationDirection:s,yTranslationDirection:o}=r[n],a=e?i.width:i.height,l=e?i.height:i.width,c=s*(t+a/2),u=o*(t+l/2);return{xTranslation:c,yTranslation:u}}function tE({yDirection:e,bbox:t,padding:n=0,position:i="top"}){const r={};return i.startsWith("inside")||(i==="top"&&!e?r.top=n+t.height:i==="bottom"&&!e?r.bottom=n+t.height:i==="left"&&e?r.left=n+t.width:i==="right"&&e&&(r.right=n+t.width)),r}var Nf=({yDirection:e,xEnd:t,yStart:n,yEnd:i})=>e?{x:t/2,y:n}:{x:t,y:isNaN(i)?n:(n+i)/2},TM=({yDirection:e,xStart:t,xEnd:n,yStart:i,yEnd:r})=>e?{x:t,y:isNaN(r)?i:(i+r)/2}:{x:n/2,y:i},IM=({yDirection:e,xEnd:t,yStart:n,yEnd:i})=>e?{x:t,y:isNaN(i)?n:(n+i)/2}:{x:t/2,y:isNaN(i)?n:i},NM=({yDirection:e,xStart:t,xEnd:n,yStart:i,yEnd:r})=>e?{x:n/2,y:isNaN(r)?i:r}:{x:t,y:isNaN(r)?i:(i+r)/2},C3=({xEnd:e,yStart:t,yEnd:n})=>({x:e/2,y:isNaN(n)?t:(t+n)/2}),RM=({yDirection:e,xStart:t,xEnd:n,yStart:i})=>e?{x:t/2,y:i}:{x:n,y:i},AM=({yDirection:e,xStart:t,yStart:n,yEnd:i})=>e?{x:t,y:isNaN(i)?n:i}:{x:t,y:n},PM=({yDirection:e,xEnd:t,yStart:n,yEnd:i})=>e?{x:t,y:n}:{x:t,y:isNaN(i)?n:i},OM=({yDirection:e,xStart:t,xEnd:n,yStart:i,yEnd:r})=>e?{x:n,y:isNaN(r)?i:r}:{x:t,y:isNaN(r)?i:r},nE={top:{c:Nf},bottom:{c:NM},left:{c:TM},right:{c:IM},topLeft:{c:RM},topRight:{c:PM},bottomLeft:{c:AM},bottomRight:{c:OM},inside:{c:C3},insideLeft:{c:TM},insideRight:{c:IM},insideTop:{c:Nf},insideBottom:{c:NM},insideTopLeft:{c:RM},insideBottomLeft:{c:AM},insideTopRight:{c:PM},insideBottomRight:{c:OM}},L3=st(["top","left","right","bottom","topLeft","topRight","bottomLeft","bottomRight","inside","insideLeft","insideRight","insideTop","insideBottom","insideTopLeft","insideBottomLeft","insideTopRight","insideBottomRight"],"crossLine label position"),Hi=class{constructor(){this.enabled=void 0,this.text=void 0,this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)",this.position=void 0,this.rotation=void 0,this.parallel=void 0}};b([w(me,{optional:!0})],Hi.prototype,"enabled",2);b([w(q,{optional:!0})],Hi.prototype,"text",2);b([w(Po,{optional:!0})],Hi.prototype,"fontStyle",2);b([w(Oo,{optional:!0})],Hi.prototype,"fontWeight",2);b([w(X)],Hi.prototype,"fontSize",2);b([w(q)],Hi.prototype,"fontFamily",2);b([w(tt)],Hi.prototype,"padding",2);b([w(ze,{optional:!0})],Hi.prototype,"color",2);b([w(L3,{optional:!0})],Hi.prototype,"position",2);b([w(Ao,{optional:!0})],Hi.prototype,"rotation",2);b([w(me,{optional:!0})],Hi.prototype,"parallel",2);var _n=class mu{constructor(){this.id=Hr(this),this.enabled=void 0,this.type=void 0,this.range=void 0,this.value=void 0,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=void 0,this.strokeOpacity=void 0,this.lineDash=void 0,this.label=new Hi,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.sideFlag=-1,this.parallelFlipRotation=0,this.regularFlipRotation=0,this.direction="x",this.group=new ge({name:`${this.id}`,layer:!0,zIndex:mu.LINE_LAYER_ZINDEX}),this.labelGroup=new ge({name:`${this.id}`,layer:!0,zIndex:mu.LABEL_LAYER_ZINDEX}),this.crossLineRange=new $r,this.crossLineLabel=new Ye,this.labelPoint=void 0,this.data=[],this.startLine=!1,this.endLine=!1,this.isRange=!1;const{group:t,labelGroup:n,crossLineRange:i,crossLineLabel:r}=this;t.append(i),n.append(r),i.pointerEvents=1}update(t){const{enabled:n,data:i,type:r,value:s,range:o,scale:a}=this;if(!r||!a||!n||!t||!eE(r,s,o,a)||i.length===0){this.group.visible=!1,this.labelGroup.visible=!1;return}this.group.visible=t,this.labelGroup.visible=t,this.group.zIndex=this.getZIndex(this.isRange),this.updateNodes()}calculateLayout(t,n){if(!t||!this.createNodeData(n))return;const{sideFlag:r,gridLength:s,data:o}=this,a=[],l=0,c=r*s,u=o[0],d=o[1],h=new re(Math.min(l,c),Math.min(u,d),Math.abs(l-c),Math.abs(u-d));a.push(h);const p=this.computeLabelBBox();return p&&a.push(p),re.merge(a)}updateNodes(){this.updateRangeNode(),this.label.enabled&&(this.updateLabel(),this.positionLabel())}createNodeData(t){const{scale:n,gridLength:i,sideFlag:r,direction:s,label:{position:o="top"},clippedRange:a,strokeWidth:l=0}=this;if(this.data=[],!n)return!1;const c=n.bandwidth??0,u=n.step??0,d=(t?-1:1)*(n instanceof Mo?(u-c)/2:0),[h,p]=[0,r*i];let[f,g]=this.getRange();const v=g===void 0&&tr.is(n)?c/2+d:0;let[y,m]=[Number(n.convert(f,{clampMode:"clamped"}))-d+v,n.convert(g,{clampMode:"clamped"})+c+d];y=kf(y,a),m=kf(m,a),[f,g]=[Number(n.convert(f))+v,n.convert(g)+c];const x=(f===y||g===m||y!==m)&&Math.abs(m-y)>0;if(x&&y>m&&([y,m]=[m,y],[f,g]=[g,f]),f-d>=y&&(f-=d),g+d<=m&&(g+=d),this.isRange=x,this.startLine=l>0&&f>=y&&f<=y+d,this.endLine=l>0&&g>=m-c-d&&g<=m,!x&&!this.startLine&&!this.endLine)return!1;if(this.data=[y,m],this.label.enabled){const S=s==="y",{c:D=Nf}=nE[o]??{},{x:M,y:C}=D({yDirection:S,xStart:h,xEnd:p,yStart:y,yEnd:m});this.labelPoint={x:M,y:C}}return!0}updateRangeNode(){const{crossLineRange:t,sideFlag:n,gridLength:i,data:r,startLine:s,endLine:o,isRange:a,fill:l,fillOpacity:c,stroke:u,strokeWidth:d,lineDash:h}=this;t.x1=0,t.x2=n*i,t.y1=r[0],t.y2=r[1],t.startLine=s,t.endLine=o,t.isRange=a,t.fill=l,t.fillOpacity=c??1,t.stroke=u,t.strokeWidth=d??1,t.strokeOpacity=this.strokeOpacity??1,t.lineDash=h}updateLabel(){const{crossLineLabel:t,label:n}=this;n.text&&(t.fontStyle=n.fontStyle,t.fontWeight=n.fontWeight,t.fontSize=n.fontSize,t.fontFamily=n.fontFamily,t.fill=n.color,t.text=n.text)}positionLabel(){const{crossLineLabel:t,labelPoint:{x:n=void 0,y:i=void 0}={},label:{parallel:r,rotation:s,position:o="top",padding:a=0},direction:l,parallelFlipRotation:c,regularFlipRotation:u}=this;if(n===void 0||i===void 0)return;const{defaultRotation:d,configuredRotation:h}=If({rotation:s,parallel:r,regularFlipRotation:u,parallelFlipRotation:c});t.rotation=d+h,t.textBaseline="middle",t.textAlign="center";const p=t.computeTransformedBBox();if(!p)return;const f=l==="y",{xTranslation:g,yTranslation:v}=Dv({yDirection:f,padding:a,position:o,bbox:p});t.translationX=n+g,t.translationY=i+v}getZIndex(t=!1){return t?mu.RANGE_LAYER_ZINDEX:mu.LINE_LAYER_ZINDEX}getRange(){const{value:t,range:n,scale:i}=this,r=Ve.is(i)||tr.is(i),s=(n==null?void 0:n[0])??t;let o=n==null?void 0:n[1];return!r&&o===void 0&&(o=s),r&&s===o&&(o=void 0),[s,o]}computeLabelBBox(){const{label:t}=this;if(!t.enabled)return;const n=new Ye;n.fontFamily=t.fontFamily,n.fontSize=t.fontSize,n.fontStyle=t.fontStyle,n.fontWeight=t.fontWeight,n.text=t.text;const{labelPoint:{x:i=void 0,y:r=void 0}={},label:{parallel:s,rotation:o,position:a="top",padding:l=0},direction:c,parallelFlipRotation:u,regularFlipRotation:d}=this;if(i===void 0||r===void 0)return;const{configuredRotation:h}=If({rotation:o,parallel:s,regularFlipRotation:d,parallelFlipRotation:u});n.rotation=h,n.textBaseline="middle",n.textAlign="center";const p=n.computeTransformedBBox();if(!p)return;const f=c==="y",{xTranslation:g,yTranslation:v}=Dv({yDirection:f,padding:l,position:a,bbox:p});return n.translationX=i+g,n.translationY=r+v,n.computeTransformedBBox()}calculatePadding(t){const{isRange:n,startLine:i,endLine:r,direction:s,label:{padding:o=0,position:a="top"}}=this;if(!n&&!i&&!r)return;const l=this.computeLabelBBox();if((l==null?void 0:l.x)==null||(l==null?void 0:l.y)==null)return;const c=tE({yDirection:s==="y",padding:o,position:a,bbox:l});t.left=Math.max(t.left??0,c.left??0),t.right=Math.max(t.right??0,c.right??0),t.top=Math.max(t.top??0,c.top??0),t.bottom=Math.max(t.bottom??0,c.bottom??0)}};_n.LINE_LAYER_ZINDEX=9;_n.RANGE_LAYER_ZINDEX=3;_n.LABEL_LAYER_ZINDEX=8;_n.className="CrossLine";b([w(me,{optional:!0})],_n.prototype,"enabled",2);b([w(st(["range","line"],"a crossLine type"),{optional:!0})],_n.prototype,"type",2);b([w(ji(Tx("range"),gc.restrict({length:2})),{optional:!0})],_n.prototype,"range",2);b([w(Tx("value"),{optional:!0})],_n.prototype,"value",2);b([w(ze,{optional:!0})],_n.prototype,"fill",2);b([w(Ge,{optional:!0})],_n.prototype,"fillOpacity",2);b([w(ze,{optional:!0})],_n.prototype,"stroke",2);b([w(tt,{optional:!0})],_n.prototype,"strokeWidth",2);b([w(Ge,{optional:!0})],_n.prototype,"strokeOpacity",2);b([w(Es,{optional:!0})],_n.prototype,"lineDash",2);var kv=_n,Ix=class{constructor(){this.moduleMap=new Map}*modules(){const e=["toolbar","navigator"];for(const t of this.moduleMap.values())e.includes(t.module.optionsKey)||(yield t.moduleInstance);for(const t of e){const n=this.moduleMap.get(t);n&&(yield n.moduleInstance)}}addModule(e,t){if(this.moduleMap.has(e.optionsKey))throw new Error(`AG Charts - module already initialised: ${e.optionsKey}`);this.moduleMap.set(e.optionsKey,{module:e,moduleInstance:t(e)})}removeModule(e){var n;const t=Oi(e)?e:e.optionsKey;(n=this.moduleMap.get(t))==null||n.moduleInstance.destroy(),this.moduleMap.delete(t)}getModule(e){var t;return(t=this.moduleMap.get(Oi(e)?e:e.optionsKey))==null?void 0:t.moduleInstance}isEnabled(e){return this.moduleMap.has(Oi(e)?e:e.optionsKey)}mapModules(e){return Array.from(this.moduleMap.values(),(t,n)=>e(t.moduleInstance,n))}destroy(){var e;for(const t of this.moduleMap.keys())(e=this.moduleMap.get(t))==null||e.moduleInstance.destroy();this.moduleMap.clear()}},iE={};Wr(iE,{resetMotion:()=>zt});function zt(e,t){const{nodes:n,selections:i}=Sg(e);for(const r of i){for(const s of r.nodes()){const o=t(s,s.datum);s.setProperties(o)}r.cleanup()}for(const r of n){const s=t(r,r.datum);r.setProperties(s)}}var rE=class Cv extends Ve{constructor(){super([1,10],[0,1]),this.type="log",this.base=10,this.baseLog=bM,this.basePow=bM,this.log=t=>Math.min(...this.domain)>=0?this.baseLog(t):-this.baseLog(-t),this.pow=t=>Math.min(...this.domain)>=0?this.basePow(t):-this.basePow(-t),this.defaultClampMode="clamped"}toDomain(t){return t}transform(t){return Math.min(...this.domain)>=0?Math.log(t):-Math.log(-t)}transformInvert(t){return Math.min(...this.domain)>=0?Math.exp(t):-Math.exp(-t)}refresh(){this.base<=0&&(this.base=0,$.warnOnce("expecting a finite Number greater than to 0")),super.refresh()}update(){!this.domain||this.domain.length<2||(this.baseLog=Cv.getBaseLogMethod(this.base),this.basePow=Cv.getBasePowerMethod(this.base),this.nice&&this.updateNiceDomain())}updateNiceDomain(){const[t,n]=this.domain,i=t>n?Math.ceil:Math.floor,r=t>n?Math.floor:Math.ceil,s=this.pow(i(this.log(t))),o=this.pow(r(this.log(n)));this.niceDomain=[s,o]}ticks(){const t=this.tickCount??10;if(!this.domain||this.domain.length<2||t<1)return[];this.refresh();const n=this.base,[i,r]=this.getDomain(),s=Math.min(i,r),o=Math.max(i,r);let a=this.log(s),l=this.log(o);if(this.interval){const g=m=>m>=s&&m<=o,v=Math.min(Math.abs(this.interval),Math.abs(l-a)),y=wd(a,l,v).map(this.pow).filter(g);if(!Sd(y.length,this.getPixelRange()))return y}const c=n%1===0,u=l-a>=t;if(!c||u)return Tg(a,l,Math.min(l-a,t)).map(this.pow);const d=[],h=s>0;a=Math.floor(a)-1,l=Math.round(l)+1;const p=md(this.range)/t;let f=1/0;for(let g=a;g<=l;g++){const v=this.convert(this.pow(g+1));for(let y=1;y<n;y++){const m=h?y:n-y+1,x=this.pow(g)*m,S=this.convert(x),D=Math.abs(f-S),M=Math.abs(S-v),C=D>=p&&M>=p;x>=s&&x<=o&&(y===1||C||d.length===0)&&(d.push(x),f=S)}}return d}tickFormat({count:t,ticks:n,specifier:i}){return t!==1/0&&n==null&&this.ticks(),i??(i=this.base===10?".0e":","),Oi(i)?YL(i):i}static getBaseLogMethod(t){switch(t){case 10:return Math.log10;case Math.E:return Math.log;case 2:return Math.log2;default:const n=Math.log(t);return i=>Math.log(i)/n}}static getBasePowerMethod(t){switch(t){case 10:return n=>n>=0?10**n:1/10**-n;case Math.E:return Math.exp;default:return n=>t**n}}};b([nn],rE.prototype,"base",2);var Nx=rE,Yr={};typeof window<"u"?Yr.window=window:typeof global<"u"&&(Yr.window=global.window);typeof document<"u"?Yr.document=document:typeof global<"u"&&(Yr.document=global.document);function gs(e){var t;return e?(t=Yr.document)==null?void 0:t[e]:Yr.document}function Gr(e){var t;return e?(t=Yr.window)==null?void 0:t[e]:Yr.window}function un(e,t,n){const i=gs().createElement(e);return typeof t=="object"&&(n=t,t=void 0),t&&i.classList.add(t),n&&Object.assign(i.style,n),i}function sE(e,t){const{body:n}=gs(),i=un("a",{display:"none"});i.href=e,i.download=t,n.appendChild(i),i.click(),setTimeout(()=>n.removeChild(i))}function oE(e){Yr.document=e}function aE(e){Yr.window=e}function is(e,t){e&&(e.style.width=`${t.width}px`,e.style.height=`${t.height}px`,e.style.left=`${t.x}px`,e.style.top=`${t.y}px`)}var E3=2e3,_M=Date.now(),T3=()=>{const e=Date.now()-_M;if(e>E3){const t=(Math.floor(e/100)/10).toFixed(1);$.log(`**** ${t}s since last log message ****`)}_M=Date.now()},et={create(...e){return Object.assign((...n)=>{et.check(...e)&&(typeof n[0]=="function"&&(n=wv(n[0]())),T3(),$.log(...n))},{check:()=>et.check(...e)})},check(...e){return e.length===0&&e.push(!0),wv(Gr("agChartsDebug")).some(n=>e.includes(n))}},Tt=class Jo{constructor(t,n,i=!0){this.parentNode=t,this.autoCleanup=i,this.garbageBin=new Set,this._nodesMap=new Map,this._nodes=[],this.data=[],this.debug=et.create(!0,"scene","scene:selections"),this.nodeFactory=Object.prototype.isPrototypeOf.call(pc,n)?()=>new n:n}static select(t,n,i=!0){return new Jo(t,n,i)}static selectAll(t,n){const i=[],r=s=>{n(s)&&i.push(s),s.children.forEach(r)};return r(t),i}static selectByClass(t,n,...i){return Jo.selectAll(t,r=>r instanceof n||i.some(s=>r instanceof s))}static selectByTag(t,n){return Jo.selectAll(t,i=>i.tag===n)}createNode(t,n,i){const r=this.nodeFactory(t);return r.datum=t,n==null||n(r),i==null?this._nodes.push(r):this._nodes.splice(i,0,r),this.parentNode.appendChild(r),r}update(t,n,i){if(this.garbageBin.size>0&&this.debug(`Selection - update() called with pending garbage: ${t}`),i){const r=new Map(t.map((s,o)=>[i(s),[s,o]]));for(const[s,o]of this._nodesMap.entries())if(r.has(o)){const[a]=r.get(o);s.datum=a,this.garbageBin.delete(s),r.delete(o)}else this.garbageBin.add(s);for(const[s,[o,a]]of r.entries())this._nodesMap.set(this.createNode(o,n,a),s)}else{const r=Math.max(t.length,this.data.length);for(let s=0;s<r;s++)s>=t.length?this.garbageBin.add(this._nodes[s]):s>=this._nodes.length?this.createNode(t[s],n):(this._nodes[s].datum=t[s],this.garbageBin.delete(this._nodes[s]))}return this.data=t.slice(),this.autoCleanup&&this.cleanup(),this}cleanup(){return this.garbageBin.size===0?this:(this._nodes=this._nodes.filter(t=>this.garbageBin.has(t)?(this._nodesMap.delete(t),this.garbageBin.delete(t),t.destroy(),!1):!0),this)}clear(){return this.update([]),this}isGarbage(t){return this.garbageBin.has(t)}hasGarbage(){return this.garbageBin.size>0}each(t){for(const n of this._nodes.entries())t(n[1],n[1].datum,n[0]);return this}*[Symbol.iterator](){for(let t=0;t<this._nodes.length;t++){const n=this._nodes[t],i=this._nodes[t].datum;yield{node:n,datum:i,index:t}}}select(t){return Jo.selectAll(this.parentNode,t)}selectByClass(t){return Jo.selectByClass(this.parentNode,t)}selectByTag(t){return Jo.selectByTag(this.parentNode,t)}nodes(){return this._nodes}};function Fu(e,t,n,i){const r=e-n,s=t-i;return r*r+s*s}function Tp(e,t,n,i,r,s,o){if(n===r&&i===s)return Math.min(o,Fu(e,t,n,i));const a=r-n,l=s-i,c=Math.max(0,Math.min(1,((e-n)*a+(t-i)*l)/(a*a+l*l))),u=n+c*a,d=i+c*l;return Math.min(o,Fu(e,t,u,d))}function I3(e,t,n,i,r,s,o,a,l){a&&([o,s]=[s,o]);const c=Math.atan2(t-i,e-n);if(!qs(c,s,o)){const d=n+Math.cos(s)*r,h=i+Math.sin(s)*r,p=n+Math.cos(s)*r,f=i+Math.sin(s)*r;return Math.min(l,Fu(e,t,d,h),Fu(e,t,p,f))}const u=r-Math.sqrt(Fu(e,t,n,i));return Math.min(l,u*u)}var Qt=class extends Gi{constructor(e={}){super(e),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.restoreOwnStyles()}set x(e){this.x1=e,this.x2=e}set y(e){this.y1=e,this.y2=e}computeBBox(){return new re(Math.min(this.x1,this.x2),Math.min(this.y1,this.y2),Math.abs(this.x2-this.x1),Math.abs(this.y2-this.y1))}isPointInPath(e,t){if(this.x1===this.x2||this.y1===this.y2){const{x:n,y:i}=this.transformPoint(e,t);return this.computeBBox().grow(this.strokeWidth/2).containsPoint(n,i)}return!1}distanceSquared(e,t){const{x1:n,y1:i,x2:r,y2:s}=this;return Tp(e,t,n,i,r,s,1/0)}render(e){var c;const{ctx:t,forceRender:n,stats:i,devicePixelRatio:r}=e;if(this.dirty===0&&!n){i&&(i.nodesSkipped+=this.nodeCount.count);return}this.computeTransformMatrix(),this.matrix.toContext(t);let{x1:s,y1:o,x2:a,y2:l}=this;if(s===a){const{strokeWidth:u}=this,d=Math.round(s*r)/r+Math.trunc(u*r)%2/(r*2);s=d,a=d}else if(o===l){const{strokeWidth:u}=this,d=Math.round(o*r)/r+Math.trunc(u*r)%2/(r*2);o=d,l=d}t.beginPath(),t.moveTo(s,o),t.lineTo(a,l),this.fillStroke(t),(c=this.fillShadow)==null||c.markClean(),super.render(e)}};Qt.className="Line";Qt.defaultStyles=Object.assign({},Gi.defaultStyles,{fill:void 0,strokeWidth:1});b([ne({redraw:3})],Qt.prototype,"x1",2);b([ne({redraw:3})],Qt.prototype,"y1",2);b([ne({redraw:3})],Qt.prototype,"x2",2);b([ne({redraw:3})],Qt.prototype,"y2",2);function N3(e,t,n,i,r,s){if(e.size===0)return!1;let o=e.x,a=e.y;t!=null&&(o-=(t.x-.5)*e.size,a-=(t.y-.5)*e.size);let l=o;o<n?l=n:o>n+r&&(l=n+r);let c=a;a<i?c=i:a>i+s&&(c=i+s);const u=o-l,d=a-c;return Math.sqrt(u*u+d*d)<=e.size*.5}function lE(e,t,n,i,r){const s=e.x+e.width>t&&e.x<t+i,o=e.y+e.height>n&&e.y<n+r;return s&&o}function R3(e,t,n,i,r){return t+i<e.x+e.width&&t>e.x&&n>e.y&&n+r<e.y+e.height}function A3(e){return e!=null&&typeof e.point=="object"&&typeof e.label=="object"}var P3={top:{x:0,y:-1},bottom:{x:0,y:1},left:{x:-1,y:0},right:{x:1,y:0}};function O3(e,t,n=5){const i=[];e=e.map(r=>r.slice().sort((s,o)=>o.point.size-s.point.size));for(let r=0;r<e.length;r++){const s=i[r]=[],o=e[r];if(o!=null&&o.length&&o[0].label)for(let a=0,l=o.length;a<l;a++){const c=o[a],{point:u,label:d,marker:h}=c,{text:p,width:f,height:g}=d,v=u.size*.5;let y=0,m=0;if(v>0&&c.placement!=null){const k=P3[c.placement];y=(f*.5+v+n)*k.x,m=(g*.5+v+n)*k.y}const x=u.x-f*.5+y-(((h==null?void 0:h.center.x)??.5)-.5)*u.size,S=u.y-g*.5+m-(((h==null?void 0:h.center.y)??.5)-.5)*u.size;!(!t||R3(t,x,S,f,g))||e.some(k=>k.some(L=>{var T;return N3(L.point,(T=L.marker)==null?void 0:T.center,x,S,f,g)}))||i.some(k=>k.some(L=>lE(L,x,S,f,g)))||s.push({index:a,text:p,x,y:S,width:f,height:g,datum:c})}}return i}function _3(e,t){const n=[];for(let i=0;i<e.length;i++){const r=e[i],{point:{x:s,y:o},label:{text:a}}=r;let{label:{width:l,height:c}}=r;if(l+=t??0,c+=t??0,n.some(d=>lE(d,s,o,l,c)))return!0;n.push({index:i,text:a,x:s,y:o,width:l,height:c,datum:r})}return!1}function cE(e,t){return e.length===t.length&&e.every((n,i)=>{const r=t[i];return Array.isArray(n)&&Array.isArray(r)?cE(n,r):n===r})}function uE(e,t){return e.length===t.length&&e.every((n,i)=>Number(n)===Number(t[i]))}function $t(e,t){const n=Ot(e)?e:e.split(".");if(n.length===1){const[i]=n;return Ss((r,s,o)=>r[i]=o,r=>r[i],t)}return Ss((i,r,s)=>vx(i,n,s),i=>mx(i,n),t)}function F3(e){return Ss((t,n,i)=>t[e]=i)}function Sn(e,t){return Ss((n,i,r)=>n[e][t??i]=r)}function Fn(e){const{newValue:t,oldValue:n,changeValue:i}=e;return Ss((r,s,o,a)=>(o!==a&&(a!==void 0&&(n==null||n.call(r,a)),o!==void 0&&(t==null||t.call(r,o)),i==null||i.call(r,o,a)),o))}function Bn(e){return Mz(e)}var zm="color: green",th=class Ip{constructor(t,n,i){this.defaultState=t,this.states=n,this.enterEach=i,this.debug=et.create(!0,"animation"),this.state=t,this.debug(`%c${this.constructor.name} | init -> ${t}`,zm)}is(t){return this.state==="__child"&&this.childState?this.childState.is(t):this.state===t}transition(t,n){var l,c,u,d;if(!this.transitionChild(t,n)||this.state==="__child"||this.state==="__parent")return;const r=this.states[this.state],s=r==null?void 0:r[t];if(!s){this.debug(`%c${this.constructor.name} | ${this.state} -> ${t} -> ${this.state}`,"color: grey");return}const o=this.getDestinationState(s),a=o===this.state?void 0:r.onExit;this.debug(`%c${this.constructor.name} | ${this.state} -> ${t} -> ${o}`,zm),(l=this.enterEach)==null||l.call(this,this.state,o),o!=="__child"&&o!=="__parent"&&((u=(c=this.states[o]).onEnter)==null||u.call(c)),this.state=o,typeof s=="function"?s(n):typeof s=="object"&&!(s instanceof Ip)&&((d=s.action)==null||d.call(s,n)),a==null||a()}resetHierarchy(){this.debug(`%c${this.constructor.name} | ${this.state} -> [resetHierarchy] -> ${this.defaultState}`,"color: green"),this.state=this.defaultState}transitionChild(t,n){var i,r;return this.state!=="__child"||!this.childState||(this.childState.transition(t,n),!this.childState.is("__parent"))?!0:(this.debug(`%c${this.constructor.name} | ${this.state} -> ${t} -> ${this.defaultState}`,zm),this.state=this.defaultState,(r=(i=this.states[this.state]).onEnter)==null||r.call(i),this.childState.resetHierarchy(),!1)}getDestinationState(t){let n=this.state;return typeof t=="string"?n=t:t instanceof Ip?(this.childState=t,n="__child"):typeof t=="object"&&(t.target instanceof Ip?(this.childState=t.target,n="__child"):n=t.target),n}};function Ra(e,t,n){n===void 0||n===""?e==null||e.removeAttribute(t):e==null||e.setAttribute(t,n.toString())}function dE(e,t,n,i,r){let{top:s,right:o,bottom:a,left:l,width:c,height:u}=r;return l!=null?c!=null?o=n-l+c:o!=null&&(c=n-l-o):o!=null&&c!=null&&(l=n-o-c),s!=null?u!=null?a=i-s-u:a!=null&&(u=i-a-s):a!=null&&u!=null&&(s=i-a-u),c==null?u==null?(c=e,u=t):c=Math.ceil(e*u/t):u==null&&(u=Math.ceil(t*c/e)),l==null&&(o==null?l=Math.floor((n-c)/2):l=n-o-c),s==null&&(a==null?s=Math.floor((i-u)/2):s=i-u-a),{x:l,y:s,width:c,height:u}}var kr="ag-chart-tooltip",hE="ag-chart-dark-tooltip",Ts={html:"",ariaLabel:""};function B3(e){const t=(n,i,r)=>i===0||r[i-1]!=="."?". ":" ";return e.replace(/<br\s*\/?>/g,t).replace(/<\/p\s+>/g,t).replace(/<\/li\s*>/g,t).replace(/<[^<>]+>/g,"").replace(/\n+/g," ").replace(/\s+/g," ")}function nc(e,t){if(typeof e=="string")return{html:e,ariaLabel:e};const{content:n=(t==null?void 0:t.content)??"",title:i=t==null?void 0:t.title,color:r=(t==null?void 0:t.color)??"white",backgroundColor:s=(t==null?void 0:t.backgroundColor)??"#888"}=e,o=i?`<div class="${kr}-title"
        style="color: ${r}; background-color: ${s}">${i}</div>`:"",a=i?`${i}: `:"",l=n?`<div class="${kr}-content">${n}</div>`:"";return{html:`${o}${l}`,ariaLabel:B3(`${a}${n}`)}}var vc=class extends Ce{constructor(){super(...arguments),this.type="pointer",this.xOffset=0,this.yOffset=0}};b([w(st(["pointer","node","top","right","bottom","left","top-left","top-right","bottom-right","bottom-left"],"a position type"))],vc.prototype,"type",2);b([w(tt)],vc.prototype,"xOffset",2);b([w(tt)],vc.prototype,"yOffset",2);var Ui=class extends Ce{constructor(){super(),this.enabled=!0,this.delay=0,this.range=void 0,this.wrapping="hyphenate",this.position=new vc,this.darkTheme=!1,this.nestedDOM=!0,this.enableInteraction=!1,this.lastVisibilityChange=Date.now(),this.wrapTypes=["always","hyphenate","on-space","never"],this.showTimeout=0,this._showArrow=!0}get interactive(){return this.enableInteraction}setup(e){this.element=e.addChild("canvas-overlay",kr),this.element.classList.add(kr),Ra(this.element,"aria-hidden",!0)}destroy(e){e.removeChild("canvas-overlay",kr)}isVisible(){var e;return!((e=this.element)!=null&&e.classList.contains(kr+"-hidden"))}show(e,t,n,i=!1){var S,D,M;const{element:r}=this;if(n!=null&&r!=null)r.innerHTML=n.html;else if(!(r!=null&&r.innerHTML)){this.toggle(!1);return}const s=((S=t.position)==null?void 0:S.type)??this.position.type,o=((D=t.position)==null?void 0:D.xOffset)??0,a=((M=t.position)==null?void 0:M.yOffset)??0,l=this.getTooltipBounds({positionType:s,meta:t,yOffset:a,xOffset:o,canvasRect:e}),c=dE(r.clientWidth,r.clientHeight,e.width,e.height,l),u=this.nestedDOM?e:this.getWindowSize(),d=this.nestedDOM?0:-e.left,h=this.nestedDOM?0:-e.top,p=u.width-r.clientWidth-1+d,f=u.height-r.clientHeight+h,g=ke(d,c.x,p),v=ke(h,c.y,f),y=g!==c.x||v!==c.y,m=(s==="node"||s==="pointer")&&!y&&!o&&!a,x=t.showArrow??this.showArrow??m;this.updateShowArrow(x),r.style.transform=`translate(${Math.round(g)}px, ${Math.round(v)}px)`,this.enableInteraction=t.enableInteraction??!1,this.delay>0&&!i?(this.toggle(!1),this.showTimeout=setTimeout(()=>{this.toggle(!0)},this.delay)):this.toggle(!0)}getWindowSize(){const{innerWidth:e,innerHeight:t}=Gr();return{width:e,height:t}}toggle(e){if(!this.element)return;const{classList:t}=this.element,n=(l,c)=>t.toggle(`${kr}-${l}`,c),i=this.isVisible();let r=1/0;if(e||clearTimeout(this.showTimeout),i!==e){const l=Date.now();r=l-this.lastVisibilityChange,this.lastVisibilityChange=l}const s=100,o=5,a=!i&&e&&r>s;r>o&&n("no-animation",a),n("no-interaction",!this.enableInteraction),n("hidden",!e),n("arrow",this._showArrow),t.toggle(hE,this.darkTheme);for(const l of this.wrapTypes)t.toggle(`${kr}-wrap-${l}`,l===this.wrapping)}updateShowArrow(e){this._showArrow=e}getTooltipBounds(e){if(!this.element)return{};const{positionType:t,meta:n,yOffset:i,xOffset:r,canvasRect:s}=e,{clientWidth:o,clientHeight:a}=this.element,l={width:o,height:a};switch(t){case"node":case"pointer":return l.top=n.offsetY+i-a-8,l.left=n.offsetX+r-o/2,l;case"top":return l.top=i,l.left=s.width/2-o/2+r,l;case"right":return l.top=s.height/2-a/2+i,l.left=s.width-o/2+r,l;case"left":return l.top=s.height/2-a/2+i,l.left=r,l;case"bottom":return l.top=s.height-a+i,l.left=s.width/2-o/2+r,l;case"top-left":return l.top=i,l.left=r,l;case"top-right":return l.top=i,l.left=s.width-o+r,l;case"bottom-right":return l.top=s.height-a+i,l.left=s.width-o+r,l;case"bottom-left":return l.top=s.height-a+i,l.left=r,l}}};b([w(me)],Ui.prototype,"enabled",2);b([w(me,{optional:!0})],Ui.prototype,"showArrow",2);b([Bn((e,t,n)=>{var i,r;t&&((i=e.element)==null||i.classList.add(t)),n&&((r=e.element)==null||r.classList.remove(n))}),w(q,{optional:!0})],Ui.prototype,"class",2);b([w(X)],Ui.prototype,"delay",2);b([w(Lg,{optional:!0})],Ui.prototype,"range",2);b([w(Cg)],Ui.prototype,"wrapping",2);b([w(le)],Ui.prototype,"position",2);b([w(me)],Ui.prototype,"darkTheme",2);b([w(me)],Ui.prototype,"nestedDOM",2);var rt=class extends Ce{constructor(){super(...arguments),this.id=Hr(this),this.node=new Ye({zIndex:1}).setProperties({textAlign:"center",pointerEvents:1}),this.enabled=!1,this.textAlign="center",this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always",this.truncated=!1,this.layoutStyle="block"}registerInteraction(e){const t=e.regionManager.getRegion("root"),n=[t.addListener("hover",i=>this.handleMouseMove(e,i)),t.addListener("leave",i=>this.handleMouseLeave(e,i))];return YB(...n)}computeTextWrap(e,t){const{text:n,wrapping:i}=this,r=Math.min(this.maxWidth??1/0,e),s=this.maxHeight??t;if(!isFinite(r)&&!isFinite(s)){this.node.text=n;return}const o=Ye.wrap(n??"",r,s,this,i);this.node.text=o,this.truncated=o.includes(Ei.EllipsisChar)}handleMouseMove(e,t){if(t!==void 0&&this.enabled&&this.node.visible&&this.truncated){const{offsetX:n,offsetY:i}=t;e.tooltipManager.updateTooltip(this.id,{offsetX:n,offsetY:i,lastPointerEvent:t,showArrow:!1},nc({content:this.text}))}}handleMouseLeave(e,t){e.tooltipManager.removeTooltip(this.id)}};rt.SMALL_PADDING=10;rt.LARGE_PADDING=20;b([w(me)],rt.prototype,"enabled",2);b([w(q,{optional:!0}),Sn("node")],rt.prototype,"text",2);b([w(TL,{optional:!0}),Sn("node")],rt.prototype,"textAlign",2);b([w(Po,{optional:!0}),Sn("node")],rt.prototype,"fontStyle",2);b([w(Oo,{optional:!0}),Sn("node")],rt.prototype,"fontWeight",2);b([w(X),Sn("node")],rt.prototype,"fontSize",2);b([w(q),Sn("node")],rt.prototype,"fontFamily",2);b([w(ze,{optional:!0}),Sn("node","fill")],rt.prototype,"color",2);b([w(X,{optional:!0})],rt.prototype,"spacing",2);b([w(X,{optional:!0})],rt.prototype,"lineHeight",2);b([w(X,{optional:!0})],rt.prototype,"maxWidth",2);b([w(X,{optional:!0})],rt.prototype,"maxHeight",2);b([w(Cg)],rt.prototype,"wrapping",2);b([w(q)],rt.prototype,"layoutStyle",2);var _o=class{constructor(){this.registeredListeners=new Map}addListener(e,t){const n={symbol:Symbol(e),handler:t};return this.registeredListeners.has(e)?this.registeredListeners.get(e).push(n):this.registeredListeners.set(e,[n]),()=>this.removeListener(n.symbol)}removeListener(e){for(const[t,n]of this.registeredListeners.entries()){const i=n.findIndex(r=>r.symbol===e);if(i>=0){n.splice(i,1),n.length===0&&this.registeredListeners.delete(t);break}}}dispatch(e,...t){for(const n of this.getListenersByType(e))try{n.handler(...t)}catch(i){$.errorOnce(i)}}dispatchWrapHandlers(e,t,...n){for(const i of this.getListenersByType(e))try{t(i.handler,...n)}catch(r){$.errorOnce(r)}}getListenersByType(e){return this.registeredListeners.get(e)??[]}destroy(){this.registeredListeners.clear()}},ar=class{constructor(){this.listeners=new _o,this.destroyFns=[]}addListener(e,t){return this.listeners.addListener(e,t)}destroy(){this.listeners.destroy(),this.destroyFns.forEach(e=>e())}};function kd(e){const t={...e,preventDefault(){var n;(n=t.sourceEvent)==null||n.preventDefault()}};return t}function Np(e,t){e.dispatchWrapHandlers(t.type,(n,i)=>n(i),kd(t))}var Rx=["click","dblclick","contextmenu","hover","drag-start","drag","drag-end","leave","enter","page-left","wheel"],z3=["blur","focus"],Y3=["keydown","keyup"],Ym=["mousemove","mouseup"],FM=["pagehide","mousemove","mouseup"],BM=["click","dblclick","contextmenu","mousedown","mouseleave","mouseenter","touchstart","touchmove","touchend","touchcancel","wheel","blur","focus","keydown","keyup"],ic=(e=>(e[e.Default=16]="Default",e[e.ZoomDrag=8]="ZoomDrag",e[e.Annotations=4]="Annotations",e[e.ContextMenu=2]="ContextMenu",e[e.Animation=1]="Animation",e[e.All=31]="All",e))(ic||{}),pE=class Lv extends ar{constructor(t,n){super(),this.keyboardOptions=t,this.domManager=n,this.debug=et.create(!0,"interaction"),this.eventHandler=i=>this.processEvent(i),this.mouseDown=!1,this.touchDown=!1,this.clickHistory=[{offsetX:NaN,offsetY:NaN,type:"mousedown"}],this.dblclickHistory=[{offsetX:NaN,offsetY:NaN,type:"mousedown"},{offsetX:NaN,offsetY:NaN,type:"mouseup"},{offsetX:NaN,offsetY:NaN,type:"mousedown"}],this.stateQueue=17,this.rootElement=this.domManager.getDocumentRoot();for(const i of BM)i.startsWith("touch")||i==="wheel"?this.domManager.addEventListener(i,this.eventHandler,{passive:!1}):this.domManager.addEventListener(i,this.eventHandler);for(const i of FM)Gr().addEventListener(i,this.eventHandler);this.containerChanged(!0),this.domManager.addListener("container-changed",()=>this.containerChanged())}containerChanged(t=!1){var i,r;const n=this.domManager.getDocumentRoot();if(!(!t&&n===this.rootElement)){for(const s of Ym)(i=this.rootElement)==null||i.removeEventListener(s,this.eventHandler);this.rootElement=n,this.debug("[InteractionManager] Switching rootElement to:",this.rootElement);for(const s of Ym)(r=this.rootElement)==null||r.addEventListener(s,this.eventHandler)}}destroy(){var t;super.destroy();for(const n of FM)Gr().removeEventListener(n,this.eventHandler);for(const n of Ym)(t=this.rootElement)==null||t.removeEventListener(n,this.eventHandler);for(const n of BM)this.domManager.removeEventListener(n,this.eventHandler);this.domManager.removeStyles("interactionManager")}addListener(t,n,i=16){return super.addListener(t,r=>{this.getState()&i&&n(r)})}pushState(t){this.stateQueue|=t}popState(t){this.stateQueue&=~t}getState(){return this.stateQueue&-this.stateQueue}processEvent(t){const n=this.decideInteractionEventTypes(t),i=t.target;if(t.type==="click"&&(i==null?void 0:i.ariaDisabled)==="true"){t.preventDefault();return}n.length>0&&this.dispatchEvent(t,n).catch(r=>$.errorOnce(r))}async dispatchEvent(t,n){if(Cp(Rx,n)){this.dispatchPointerEvent(t,n);return}const{relatedElement:i,targetElement:r}=this.extractElements(t);if(Cp(z3,n))for(const s of n){const o=t;Np(this.listeners,{type:s,sourceEvent:o,relatedElement:i,targetElement:r})}else if(Cp(Y3,n))for(const s of n){const o=t;Np(this.listeners,{type:s,sourceEvent:o,relatedElement:i,targetElement:r})}}extractElements(t){let n,i;return"relatedTarget"in t&&t.relatedTarget instanceof HTMLElement&&(n=t.relatedTarget),"target"in t&&t.target instanceof HTMLElement&&(i=t.target),{relatedElement:n,targetElement:i}}dispatchPointerEvent(t,n){const i=this.calculateCoordinates(t);if(i!=null)for(const r of n)Np(this.listeners,this.buildPointerEvent({type:r,event:t,...i}))}getEventHTMLTarget(t){if(t.target instanceof HTMLElement)return t.target;if(t.currentTarget instanceof HTMLElement)return t.currentTarget}recordDown(t){t instanceof MouseEvent&&(la(["offsetX","offsetY"],this.clickHistory[0],t),la(["offsetX","offsetY"],this.dblclickHistory[2],this.dblclickHistory[0]),la(["offsetX","offsetY"],this.dblclickHistory[0],t)),this.dragStartElement=this.getEventHTMLTarget(t)}recordUp(t){t instanceof MouseEvent&&la(["offsetX","offsetY"],this.dblclickHistory[1],t),this.dragStartElement=void 0}decideInteractionEventTypes(t){const n="drag-start";switch(t.type){case"blur":case"focus":case"keydown":case"keyup":return this.keyboardOptions.enabled?[t.type]:[];case"click":case"dblclick":case"contextmenu":case"wheel":return[t.type];case"mousedown":return!this.isEventOverElement(t)||!("button"in t)||t.button!==0?[]:(this.mouseDown=!0,this.recordDown(t),[n]);case"touchstart":return this.isEventOverElement(t)?(this.touchDown=!0,this.recordDown(t),[n]):[];case"touchmove":case"mousemove":return!this.mouseDown&&!this.touchDown&&!this.isEventOverElement(t)?[]:this.mouseDown||this.touchDown?["drag"]:["hover"];case"mouseup":return!this.mouseDown&&!this.isEventOverElement(t)?[]:(this.mouseDown=!1,this.recordUp(t),["drag-end"]);case"touchend":return!this.touchDown&&!this.isEventOverElement(t)?[]:(this.touchDown=!1,this.recordUp(t),["drag-end"]);case"mouseleave":case"touchcancel":return["leave"];case"mouseenter":const i=t instanceof MouseEvent&&(t.buttons&1)===1;return this.mouseDown!==i?(this.mouseDown=i,[i?n:"drag-end"]):["enter"];case"pagehide":return["page-left"]}return[]}isEventOverElement(t){return this.domManager.isEventOverElement(t)}calculateCoordinates(t){if(t instanceof MouseEvent)return this.getMouseEventCoords(t);if(typeof TouchEvent<"u"&&t instanceof TouchEvent){const n=t.touches[0]??t.changedTouches[0],{clientX:i,clientY:r,pageX:s,pageY:o}=n;return{...Lv.NULL_COORDS,clientX:i,clientY:r,pageX:s,pageY:o}}else if(t instanceof PageTransitionEvent)return t.persisted?void 0:Lv.NULL_COORDS}getMouseEventCoords(t){const{clientX:n,clientY:i,pageX:r,pageY:s}=t;let{offsetX:o,offsetY:a}=t;const l=this.getEventHTMLTarget(t),{x:c=0,y:u=0}=l?this.domManager.calculateCanvasPosition(l):{};if(this.dragStartElement!=null&&t.target!==this.dragStartElement){const d=this.domManager.calculateCanvasPosition(this.dragStartElement);o-=d.x-c,a-=d.y-u}else o+=c,a+=u;return{clientX:n,clientY:i,pageX:r,pageY:s,offsetX:o,offsetY:a}}isWheelEvent(t){return t.type==="wheel"}buildPointerEvent(t){var v;const{type:n,event:i,clientX:r,clientY:s}=t;let{offsetX:o,offsetY:a,pageX:l,pageY:c}=t;if(!Pe(o)||!Pe(a)){const y=this.domManager.getBoundingClientRect();o=r-y.left,a=s-y.top}if(!Pe(l)||!Pe(c)){const y=(v=this.rootElement)==null?void 0:v.getBoundingClientRect();l=r-((y==null?void 0:y.left)??0),c=s-((y==null?void 0:y.top)??0)}let[u,d]=[NaN,NaN];if(this.isWheelEvent(i)){const y=i.deltaMode===0?.01:1;u=i.deltaX*y,d=i.deltaY*y}let h=[];i.type==="click"?h=this.clickHistory:i.type==="dblclick"&&(h=this.dblclickHistory);const{relatedElement:p,targetElement:f}=this.extractElements(i),g={type:n,offsetX:o,offsetY:a,pageX:l,pageY:c,deltaX:u,deltaY:d,pointerHistory:h,sourceEvent:i,relatedElement:p,targetElement:f};return this.debug("InteractionManager - builtEvent: ",g),g}};pE.NULL_COORDS={clientX:-1/0,clientY:-1/0,pageX:-1/0,pageY:-1/0,offsetX:-1/0,offsetY:-1/0};var fE=pE,gE=(e=>(e.TITLE="title",e.SUBTITLE="subtitle",e.FOOTNOTE="footnote",e.LEGEND="legend",e.NAVIGATOR="navigator",e.PAGINATION="pagination",e.ROOT="root",e.SERIES="series",e.HORIZONTAL_AXES="horizontal-axes",e.VERTICAL_AXES="vertical-axes",e.TOOLBAR="toolbar",e))(gE||{}),G3=["stroke","lineDash"],j3=Ls(e=>Pi(e)&&Object.keys(e).every(t=>G3.includes(t)),"objects with gridline style properties such as 'stroke' or 'lineDash'"),Pg=class{constructor(){this.enabled=!0,this.width=1,this.style=[{stroke:void 0,lineDash:[]}]}};b([w(me)],Pg.prototype,"enabled",2);b([w(X)],Pg.prototype,"width",2);b([w(j3)],Pg.prototype,"style",2);function Fo(e,t=[void 0]){return Ss((n,i,r)=>t.includes(r)?Ba(e)?e(r):e:r)}var mE=Qe(e=>Pe(e)&&e>0||e instanceof Na,"a non-zero positive Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),xc=class extends Ce{constructor(){super(...arguments),this.minSpacing=NaN,this.maxSpacing=NaN}};b([w(mE,{optional:!0})],xc.prototype,"step",2);b([w(gc,{optional:!0})],xc.prototype,"values",2);b([w(RL),Fo(NaN)],xc.prototype,"minSpacing",2);b([w(AL),Fo(NaN)],xc.prototype,"maxSpacing",2);var _t=class extends Ce{constructor(){super(...arguments),this.enabled=!0,this.autoWrap=!1,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.padding=5,this.minSpacing=NaN,this.color="rgba(87, 87, 87, 1)",this.avoidCollisions=!0,this.mirrored=!1,this.parallel=!1}getSideFlag(){return this.mirrored?1:-1}};b([w(me)],_t.prototype,"enabled",2);b([w(me,{optional:!0})],_t.prototype,"autoWrap",2);b([w(X,{optional:!0})],_t.prototype,"maxWidth",2);b([w(X,{optional:!0})],_t.prototype,"maxHeight",2);b([w(Po,{optional:!0})],_t.prototype,"fontStyle",2);b([w(Oo,{optional:!0})],_t.prototype,"fontWeight",2);b([w(tt.restrict({min:1}))],_t.prototype,"fontSize",2);b([w(q)],_t.prototype,"fontFamily",2);b([w(X)],_t.prototype,"padding",2);b([w(fc),Fo(NaN)],_t.prototype,"minSpacing",2);b([w(ze,{optional:!0})],_t.prototype,"color",2);b([w(Ao,{optional:!0})],_t.prototype,"rotation",2);b([w(me)],_t.prototype,"avoidCollisions",2);b([w(me)],_t.prototype,"mirrored",2);b([w(me)],_t.prototype,"parallel",2);b([w(Jn,{optional:!0})],_t.prototype,"formatter",2);b([w(q,{optional:!0})],_t.prototype,"format",2);var nh=class{constructor(){this.enabled=!0,this.width=1,this.stroke=void 0}};b([w(me)],nh.prototype,"enabled",2);b([w(X)],nh.prototype,"width",2);b([w(ze,{optional:!0})],nh.prototype,"stroke",2);var bc=class extends Ce{constructor(){super(...arguments),this.enabled=!0,this.width=1,this.size=6}};b([w(me)],bc.prototype,"enabled",2);b([w(X)],bc.prototype,"width",2);b([w(X)],bc.prototype,"size",2);b([w(ze,{optional:!0})],bc.prototype,"stroke",2);var lr=class extends Ce{constructor(){super(...arguments),this.enabled=!1,this.spacing=rt.SMALL_PADDING,this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always"}};b([w(me)],lr.prototype,"enabled",2);b([w(q,{optional:!0})],lr.prototype,"text",2);b([w(X,{optional:!0})],lr.prototype,"spacing",2);b([w(Po,{optional:!0})],lr.prototype,"fontStyle",2);b([w(Oo,{optional:!0})],lr.prototype,"fontWeight",2);b([w(X)],lr.prototype,"fontSize",2);b([w(q)],lr.prototype,"fontFamily",2);b([w(ze,{optional:!0})],lr.prototype,"color",2);b([w(Cg)],lr.prototype,"wrapping",2);b([w(Jn,{optional:!0})],lr.prototype,"formatter",2);function Ev(e){const[t,n]=Ai(e.range),i=Math.floor(t),r=Math.ceil(n);return{min:i,max:r,visible:i!==r}}var Tv=Math.PI*2,W3=Tv/2;function H3(e,t){return Math.abs(t-e)<W3?t:e>t?t+Tv:t-Tv}function yE(e){const t=(o,a)=>{const[l=e.min,c=e.max]=Ai(a??[]);return o<l||o>c};return{tick:{fromFn(o,a,l){let c=o.y1+o.translationY,u=o.opacity;return(l==="added"||t(o.datum.translationY,o.datum.range))&&(c=a.translationY,u=0),{y:0,translationY:c,opacity:u,phase:Nn[l]}},toFn(o,a,l){const c=a.translationY;let u=1;return l==="removed"&&(u=0),{y:0,translationY:c,opacity:u,finish:{y:c,translationY:0}}},intermediateFn(o,a,l){return{visible:!t(o.y)}}},line:{fromFn(o,a){return{...o.previousDatum??a,phase:Nn.updated}},toFn(o,a){return{...a}}},label:{fromFn(o,a,l){const c=o.previousDatum??a,u=c.x,d=c.y,h=c.rotationCenterX;let p=Math.round(o.translationY),f=c.rotation,g=o.opacity;return l==="removed"||t(c.y,c.range)?f=a.rotation:(l==="added"||t(o.datum.y,o.datum.range))&&(p=Math.round(c.translationY),g=0,f=a.rotation),{x:u,y:d,rotationCenterX:h,translationY:p,rotation:f,opacity:g,phase:Nn[l]}},toFn(o,a,l){var g;const c=a.x,u=a.y,d=a.rotationCenterX,h=Math.round(a.translationY);let p=0,f=1;return l==="added"?(f=1,p=a.rotation):l==="removed"?(f=0,p=a.rotation):p=H3(((g=o.previousDatum)==null?void 0:g.rotation)??a.rotation,a.rotation),{x:c,y:u,rotationCenterX:d,translationY:h,rotation:p,opacity:f,finish:{rotation:a.rotation}}}},group:{fromFn(o,a){const{rotation:l,translationX:c,translationY:u}=o;return{rotation:l,translationX:c,translationY:u,phase:Nn.updated}},toFn(o,a){const{rotation:l,translationX:c,translationY:u}=a;return{rotation:l,translationX:c,translationY:u}}}}}function vE(){return(e,t)=>({rotation:t.rotation,rotationCenterX:t.rotationCenterX,rotationCenterY:t.rotationCenterY,translationX:t.translationX,translationY:t.translationY})}function xE(e){const{visible:t,min:n,max:i}=e;return(r,s)=>{const o=s.translationY,a=t&&o>=n&&o<=i;return{y:o,translationY:0,opacity:1,visible:a}}}function bE(){return(e,t)=>({x:t.x,y:t.y,translationY:t.translationY,rotation:t.rotation,rotationCenterX:t.rotationCenterX})}function wE(){return(e,t)=>({...t})}var Is=class SE{constructor(t,n,i){var s;this.moduleCtx=t,this.scale=n,this.id=Hr(this),this.nice=!0,this.reverse=!1,this.keys=[],this.interval=new xc,this.disableZoom=!1,this.dataDomain={domain:[],clipped:!1},this.layoutConstraints={stacked:!0,align:"start",width:100,unit:"percent"},this.boundSeries=[],this.includeInvisibleDomains=!1,this.interactionEnabled=!0,this.axisGroup=new ge({name:`${this.id}-axis`,zIndex:2}),this.lineNode=this.axisGroup.appendChild(new Qt),this.tickLineGroup=this.axisGroup.appendChild(new ge({name:`${this.id}-Axis-tick-lines`,zIndex:2})),this.tickLabelGroup=this.axisGroup.appendChild(new ge({name:`${this.id}-Axis-tick-labels`,zIndex:2})),this.crossLineGroup=new ge({name:`${this.id}-CrossLines`}),this.labelGroup=new ge({name:`${this.id}-Labels`,zIndex:10}),this.gridGroup=new ge({name:`${this.id}-Axis-grid`}),this.gridLineGroup=this.gridGroup.appendChild(new ge({name:`${this.id}-gridLines`,zIndex:1})),this.tickLineGroupSelection=Tt.select(this.tickLineGroup,Qt,!1),this.tickLabelGroupSelection=Tt.select(this.tickLabelGroup,Ye,!1),this.gridLineGroupSelection=Tt.select(this.gridLineGroup,Qt,!1),this.line=new nh,this.tick=new bc,this.gridLine=new Pg,this.label=this.createLabel(),this.defaultTickMinSpacing=SE.defaultTickMinSpacing,this.translation={x:0,y:0},this.rotation=0,this.layout={label:{fractionDigits:0,padding:this.label.padding,format:this.label.format}},this.destroyFns=[],this.minRect=void 0,this.range=[0,1],this.visibleRange=[0,1],this.title=new lr,this._titleCaption=new rt,this.gridLength=0,this.gridPadding=0,this.seriesAreaPadding=0,this.tickGenerationResult=void 0,this.maxThickness=1/0,this.moduleMap=new Ix,this.range=this.scale.range.slice(),(s=this.crossLines)==null||s.forEach(o=>this.initCrossLine(o)),this.destroyFns.push(this._titleCaption.registerInteraction(this.moduleCtx)),this._titleCaption.node.rotation=-Math.PI/2,this.axisGroup.appendChild(this._titleCaption.node),this.destroyFns.push(t.regionManager.getRegion("series").addListener("hover",o=>this.checkAxisHover(o)),t.regionManager.getRegion("horizontal-axes").addListener("hover",o=>this.checkAxisHover(o)),t.regionManager.getRegion("vertical-axes").addListener("hover",o=>this.checkAxisHover(o))),this.animationManager=t.animationManager,this.animationState=new th("empty",{empty:{update:{target:"ready",action:()=>this.resetSelectionNodes()},reset:"empty"},ready:{update:o=>this.animateReadyUpdate(o),resize:()=>this.resetSelectionNodes(),reset:"empty"}}),this._crossLines=[],this.assignCrossLineArrayConstructor(this._crossLines);let r;this.destroyFns.push(t.layoutService.addListener("layout-complete",o=>{r!=null&&pi(o.chart,r)!=null&&this.animationState.transition("resize"),r={...o.chart}})),(i==null?void 0:i.respondsToZoom)!==!1&&this.destroyFns.push(t.updateService.addListener("update-complete",o=>{this.minRect=o.minRect}))}get type(){return this.constructor.type??""}set crossLines(t){var n,i;(n=this._crossLines)==null||n.forEach(r=>this.detachCrossLine(r)),t&&this.assignCrossLineArrayConstructor(t),this._crossLines=t,(i=this._crossLines)==null||i.forEach(r=>{this.attachCrossLine(r),this.initCrossLine(r)})}get crossLines(){return this._crossLines}resetAnimation(t){t==="initial"&&this.animationState.transition("reset")}attachCrossLine(t){this.crossLineGroup.appendChild(t.group),this.crossLineGroup.appendChild(t.labelGroup)}detachCrossLine(t){this.crossLineGroup.removeChild(t.group),this.crossLineGroup.removeChild(t.labelGroup)}destroy(){this.moduleMap.destroy(),this.destroyFns.forEach(t=>t())}updateRange(){var a,l;const{range:t,visibleRange:n,scale:i}=this,r=(t[1]-t[0])/(n[1]-n[0]),s=r*n[0],o=t[0]-s;(a=i.setVisibleRange)==null||a.call(i,n),i.range=[o,o+r],(l=this.crossLines)==null||l.forEach(c=>{c.clippedRange=[t[0],t[1]]})}setCrossLinesVisible(t){this.crossLineGroup.visible=t}attachAxis(t,n){n.appendChild(this.gridGroup),t.appendChild(this.axisGroup),t.appendChild(this.crossLineGroup),t.appendChild(this.labelGroup)}attachLabel(t){this.labelGroup.append(t)}detachAxis(t,n){n.removeChild(this.gridGroup),t.removeChild(this.axisGroup),t.removeChild(this.crossLineGroup),t.removeChild(this.labelGroup)}getAxisGroup(){return this.axisGroup}inRange(t,n=0){const[i,r]=Ai(this.range);return t>=i-n&&t<=r+n}onFormatChange(t,n,i,r){const{scale:s}=this,o=s instanceof Nx,a=l=>o?String:c=>typeof c=="number"?c.toFixed(n+l):String(c);if(r&&s&&s.tickFormat)try{const l=s.tickFormat({ticks:t,specifier:r});this.labelFormatter=l,this.datumFormatter=l}catch{this.labelFormatter=a(0),this.datumFormatter=a(1),$.warnOnce(`the axis label format string ${r} is invalid. No formatting will be applied`)}else this.labelFormatter=a(0),this.datumFormatter=a(1)}setTickInterval(t){var n;this.scale.interval=((n=this.interval)==null?void 0:n.step)??t}onGridLengthChange(t,n){var i;(n&&!t||!n&&t)&&this.onGridVisibilityChange(),(i=this.crossLines)==null||i.forEach(r=>this.initCrossLine(r))}onGridVisibilityChange(){this.gridLineGroupSelection.clear()}createLabel(){return new _t}checkAxisHover(t){!this.interactionEnabled||!this.computeBBox().containsPoint(t.offsetX,t.offsetY)||this.moduleCtx.chartEventManager.axisHover(this.id,this.direction)}update(t=0,n=!0){if(!this.tickGenerationResult)return;const{rotation:i,parallelFlipRotation:r,regularFlipRotation:s}=this.calculateRotations(),o=this.label.getSideFlag();this.updatePosition();const a=this.getAxisLineCoordinates(),{tickData:l,combinedRotation:c,textBaseline:u,textAlign:d,primaryTickCount:h}=this.tickGenerationResult,p=this.tickLabelGroupSelection.nodes().map(f=>f.datum.tickId);if(this.updateSelections(a,l.ticks,{combinedRotation:c,textAlign:d,textBaseline:u,range:this.scale.range}),!n||this.animationManager.isSkipped())this.resetSelectionNodes();else{const f=this.calculateUpdateDiff(p,l);this.animationState.transition("update",f)}return this.updateAxisLine(),this.updateLabels(),this.updateVisibility(),this.updateGridLines(o),this.updateTickLines(),this.updateTitle({anyTickVisible:l.ticks.length>0}),this.updateCrossLines({rotation:i,parallelFlipRotation:r,regularFlipRotation:s}),this.updateLayoutState(l.fractionDigits),h}getAxisLineCoordinates(){const[t,n]=Ai(this.range);return{x:0,y1:t,y2:n}}getTickLineCoordinates(t){const i=this.label.getSideFlag()*this.getTickSize(),r=Math.min(0,i),s=r+Math.abs(i),o=t.translationY;return{x1:r,x2:s,y:o}}getTickLabelProps(t,n){const{label:i}=this,{combinedRotation:r,textBaseline:s,textAlign:o,range:a}=n,l=t.tickLabel,u=i.getSideFlag()*(this.getTickSize()+i.padding+this.seriesAreaPadding),d=l!==""&&l!=null;return{tickId:t.tickId,translationY:t.translationY,fill:i.color,fontFamily:i.fontFamily,fontSize:i.fontSize,fontStyle:i.fontStyle,fontWeight:i.fontWeight,rotation:r,rotationCenterX:u,text:l,textAlign:o,textBaseline:s,visible:d,x:u,y:0,range:a}}getTickSize(){return this.tick.enabled?this.tick.size:6}setTitleProps(t,n){const{title:i}=this;if(!i.enabled){t.enabled=!1,t.node.visible=!1;return}t.color=i.color,t.fontFamily=i.fontFamily,t.fontSize=i.fontSize,t.fontStyle=i.fontStyle,t.fontWeight=i.fontWeight,t.enabled=i.enabled,t.wrapping=i.wrapping;const r=t.node,s=(i.spacing??0)+n.spacing,o=this.label.getSideFlag(),a=pt(this.rotation),l=o===-1&&a>Math.PI&&a<Math.PI*2?-1:1,c=l*o*Math.PI/2,u=l===1?"bottom":"top",{range:d}=this,h=Math.floor(l*o*(d[0]+d[1])/2),p=Math.floor(o===-1?l*-s:-s),{callbackCache:f}=this.moduleCtx,{formatter:g=y=>y.defaultValue}=i,v=f.call(g,this.getTitleFormatterParams());r.setProperties({rotation:c,text:v,textBaseline:u,visible:!0,x:h,y:p})}calculateLayout(t){var D,M;const{rotation:n,parallelFlipRotation:i,regularFlipRotation:r}=this.calculateRotations(),s=this.label.getSideFlag(),o=s*(this.getTickSize()+this.label.padding+this.seriesAreaPadding);this.updateScale(),this.tickGenerationResult=this.generateTicks({primaryTickCount:t,parallelFlipRotation:i,regularFlipRotation:r,labelX:o,sideFlag:s});const{tickData:a,combinedRotation:l,textBaseline:c,textAlign:u,...d}=this.tickGenerationResult;this.updateLayoutState(a.fractionDigits);const h=[],{x:p,y1:f,y2:g}=this.getAxisLineCoordinates(),v=new re(p+Math.min(s*this.seriesAreaPadding,0),f,this.seriesAreaPadding,g-f);if(h.push(v),this.tick.enabled&&a.ticks.forEach(C=>{const{x1:k,x2:L,y:T}=this.getTickLineCoordinates(C),O=new re(k,T,L-k,0);h.push(O)}),this.label.enabled){const C=new Ye;a.ticks.forEach(k=>{const L=this.getTickLabelProps(k,{combinedRotation:l,textAlign:u,textBaseline:c,range:this.scale.range});if(!L.visible)return;C.setProperties({...L,translationY:Math.round(k.translationY)});const T=C.computeTransformedBBox();T&&h.push(T)})}const y=C=>{const k=new Nr,{rotation:L,translationX:T,translationY:O,rotationCenterX:Y,rotationCenterY:E}=this.getAxisTransform();return Nr.updateTransformMatrix(k,1,1,L,T,O,{scalingCenterX:0,scalingCenterY:0,rotationCenterX:Y,rotationCenterY:E}),k.transformBBox(C)};if((D=this.title)!=null&&D.enabled){const C=new rt,k=re.merge(h).width;this.setTitleProps(C,{spacing:k});const T=C.node.computeTransformedBBox();T&&h.push(T)}const m=re.merge(h),x=y(m),S=this.isAnySeriesActive();return(M=this.crossLines)==null||M.forEach(C=>{var k;C.sideFlag=-s,C.direction=n===-Math.PI/2?"x":"y",C instanceof kv&&((k=C.label).parallel??(k.parallel=this.label.parallel)),C.parallelFlipRotation=i,C.regularFlipRotation=r,C.calculateLayout(S,this.reverse)}),t=d.primaryTickCount,{primaryTickCount:t,bbox:x}}updateLayoutState(t){this.layout.label={fractionDigits:t,padding:this.label.padding,format:this.label.format}}setDomain(t){this.dataDomain=this.normaliseDataDomain(t),this.reverse&&this.dataDomain.domain.reverse(),this.scale.domain=this.dataDomain.domain}updateScale(){this.updateRange(),this.calculateDomain(),this.setTickInterval(this.interval.step);const{scale:t,nice:n}=this;Ve.is(t)&&(t.nice=n,t.update())}calculateRotations(){const t=An(this.rotation),n=pt(t),i=pt(t-Math.PI/2);return{rotation:t,parallelFlipRotation:n,regularFlipRotation:i}}generateTicks({primaryTickCount:t,parallelFlipRotation:n,regularFlipRotation:i,labelX:r,sideFlag:s}){const{scale:o,interval:{minSpacing:a,maxSpacing:l},label:{parallel:c,rotation:u,fontFamily:d,fontSize:h,fontStyle:p,fontWeight:f}}=this,g=t!==void 0,{defaultRotation:v,configuredRotation:y,parallelFlipFlag:m,regularFlipFlag:x}=If({rotation:u,parallel:c,regularFlipRotation:i,parallelFlipRotation:n}),S=y+v,D=new Nr,{maxTickCount:M}=this.estimateTickCount({minSpacing:a,maxSpacing:l}),k=!(Ve.is(o)||tr.is(o))||isNaN(M)?10:M;let L=Bm(c,y,0,s,x);const T=S3(c,y,s,m),O=xa({fontFamily:d,fontSize:h,fontStyle:p,fontWeight:f}),Y={fontFamily:d,fontSize:h,fontStyle:p,fontWeight:f,textBaseline:T,textAlign:L};let E={rawTicks:[],fractionDigits:0,ticks:[],labelCount:0},_=0,R=0,z=!0,P=!1;for(;z&&_<=k&&!P;){R=0,L=Bm(c,y,0,s,x);const G=this.getTickStrategies({secondaryAxis:g,index:_});for(const H of G){({tickData:E,index:_,autoRotation:R,terminate:P}=H({index:_,tickData:E,textProps:Y,labelOverlap:z,terminate:P,primaryTickCount:t}));const Z=y!==0||R!==0,J=S+R;L=Bm(c,y,R,s,x),z=this.label.avoidCollisions?this.checkLabelOverlap(J,Z,D,E.ticks,r,{font:O}):!1}}const F=v+y+R;return!g&&E.rawTicks.length>0&&(t=E.rawTicks.length),{tickData:E,primaryTickCount:t,combinedRotation:F,textBaseline:T,textAlign:L}}getTickStrategies({index:t,secondaryAxis:n}){const{scale:i,label:r}=this,{minSpacing:s}=this.interval,o=Ve.is(i)||tr.is(i),a=r.enabled&&r.avoidCollisions,l=!o&&t!==0&&a,c=r.autoRotate===!0&&r.rotation===void 0,u=[];let d;this.interval.values?d=3:n?d=1:l?d=2:d=0;const h=({index:p,tickData:f,primaryTickCount:g,terminate:v})=>this.createTickData(d,p,f,v,g);if(u.push(h),!o&&!isNaN(s)){const p=({index:f,tickData:g,primaryTickCount:v,terminate:y})=>this.createTickData(2,f,g,y,v);u.push(p)}if(!a)return u;if(r.autoWrap){const p=({index:f,tickData:g,textProps:v})=>this.wrapLabels(g,f,v);u.push(p)}else if(c){const p=({index:f,tickData:g,labelOverlap:v,terminate:y})=>({index:f,tickData:g,autoRotation:this.getAutoRotation(v),terminate:y});u.push(p)}return u}createTickData(t,n,i,r,s){const{scale:o}=this,{step:a,values:l,minSpacing:c,maxSpacing:u}=this.interval,{maxTickCount:d,minTickCount:h,defaultTickCount:p}=this.estimateTickCount({minSpacing:c,maxSpacing:u}),f=Ve.is(o)||tr.is(o),g=!f||isNaN(d)?10:d;let v=f?Math.max(p-n,h):d;const y=a===void 0&&l===void 0&&v>h&&(f||t===2);let m=!0;for(;m&&n<=g;){const S=i.rawTicks;v=f?Math.max(p-n,h):d;const{rawTicks:D,fractionDigits:M,ticks:C,labelCount:k}=this.getTicks({tickGenerationType:t,previousTicks:S,tickCount:v,minTickCount:h,maxTickCount:d,primaryTickCount:s});i.rawTicks=D,i.fractionDigits=M,i.ticks=C,i.labelCount=k,m=y?uE(D,S):!1,n++}return r||(r=a!==void 0||l!==void 0),{tickData:i,index:n,autoRotation:0,terminate:r}}checkLabelOverlap(t,n,i,r,s,o){Nr.updateTransformMatrix(i,1,1,t,0,0);const a=this.createLabelData(r,s,o,i),l=w3(this.label.minSpacing,n);return _3(a,l)}createLabelData(t,n,i,r){const s=[];for(const{tickLabel:o,translationY:a}of t){if(!o)continue;const{width:l,height:c}=Ei.measureLines(o,i),u=new re(n,a,l,c),d=M3(o,u,n,a,r);s.push(d)}return s}getAutoRotation(t){return t?pt(An(this.label.autoRotateAngle??0)):0}getTicks({tickGenerationType:t,previousTicks:n,tickCount:i,minTickCount:r,maxTickCount:s,primaryTickCount:o}){const{range:a,scale:l,visibleRange:c}=this;let u;switch(t){case 3:if(u=this.interval.values,Ve.is(l)){const[x,S]=Ai(l.getDomain().map(Number));u=u.filter(D=>D>=x&&D<=S).sort((D,M)=>D-M)}break;case 1:Ve.is(l)?u=this.updateSecondaryAxisTicks(o):u=this.createTicks(i,r,s);break;case 2:u=this.filterTicks(n,i);break;default:u=this.createTicks(i,r,s);break}const d=u.reduce((x,S)=>Math.max(x,xg(S)),0),h=(l.bandwidth??0)/2,p=[];let f=0;const g=new Map,v=Math.max(0,Math.floor(c[0]*u.length)),y=Math.min(u.length,Math.ceil(c[1]*u.length)),m=u.slice(v,y);this.onFormatChange(m,d,u,this.label.format);for(let x=0;x<m.length;x++){const S=m[x],D=l.convert(S)+h;if(a.length>0&&!this.inRange(D,.001))continue;const M=this.formatTick(S,d,v+x);let C=M;if(g.has(C)){const k=g.get(C);g.set(C,k+1),C=`${C}_${k}`}else g.set(C,1);p.push({tick:S,tickId:C,tickLabel:M,translationY:Math.floor(D)}),!(M===""||M==null)&&f++}return{rawTicks:u,fractionDigits:d,ticks:p,labelCount:f}}filterTicks(t,n){const{minSpacing:i,maxSpacing:r}=this.interval,o=!isNaN(i)||!isNaN(r)?Math.ceil(t.length/n):2;return t.filter((a,l)=>l%o===0)}createTicks(t,n,i){var s;const{scale:r}=this;return t&&(Ve.is(r)||tr.is(r))&&(typeof t=="number"?(r.tickCount=t,r.minTickCount=n??0,r.maxTickCount=i??1/0):r instanceof Ig&&this.setTickInterval(t)),((s=r.ticks)==null?void 0:s.call(r))??[]}estimateTickCount({minSpacing:t,maxSpacing:n}){const{minRect:i,label:{avoidCollisions:r}}=this;if(!r)return{minTickCount:Ve.defaultMaxTickCount,maxTickCount:Ve.defaultMaxTickCount,defaultTickCount:Ve.defaultMaxTickCount};const s=this.calculateRangeWithBleed(),o=Math.max(this.defaultTickMinSpacing,s/Ve.defaultMaxTickCount);let a=!isNaN(n);isNaN(t)&&(t=o),isNaN(n)&&(n=s),t>n&&(t===o?t=n:n=t);let l=1;i&&(l=this.direction==="x"?i.width:i.height),a&&(a=l<o);const c=ke(1,Math.floor(s/t),a?Math.min(Math.floor(s/l),100):100),u=Math.min(c,Math.ceil(s/n)),d=ke(u,Ve.defaultTickCount,c);return{minTickCount:u,maxTickCount:c,defaultTickCount:d}}updateVisibility(){this.moduleCtx.animationManager.isSkipped()&&this.resetSelectionNodes(),this.tickLineGroup.visible=this.tick.enabled,this.gridLineGroup.visible=this.gridLine.enabled,this.tickLabelGroup.visible=this.label.enabled}updateCrossLines({rotation:t,parallelFlipRotation:n,regularFlipRotation:i}){var o;const r=this.label.getSideFlag(),s=this.isAnySeriesActive();(o=this.crossLines)==null||o.forEach(a=>{a.sideFlag=-r,a.direction=t===-Math.PI/2?"x":"y",a instanceof kv&&(a.label.parallel=a.label.parallel??this.label.parallel),a.parallelFlipRotation=n,a.regularFlipRotation=i,a.update(s)})}updateTickLines(){const{tick:t,label:n}=this,i=n.getSideFlag();this.tickLineGroupSelection.each(r=>{r.strokeWidth=t.width,r.stroke=t.stroke,r.x1=i*this.getTickSize(),r.x2=0})}calculateAvailableRange(){return md(this.range)}calculateRangeWithBleed(){const t=1/md(this.visibleRange);return hx(this.calculateAvailableRange()*t,2)}calculateDomain(){const n=this.boundSeries.filter(i=>this.includeInvisibleDomains||i.isEnabled()).flatMap(i=>i.getDomain(this.direction));this.setDomain(n)}getAxisTransform(){return{rotation:An(this.rotation),rotationCenterX:0,rotationCenterY:0,translationX:Math.floor(this.translation.x),translationY:Math.floor(this.translation.y)}}updatePosition(){const{crossLineGroup:t,axisGroup:n,gridGroup:i,translation:r,gridLineGroupSelection:s,gridPadding:o,gridLength:a}=this,{rotation:l}=this.calculateRotations(),c=this.label.getSideFlag(),u=Math.floor(r.x),d=Math.floor(r.y);t.setProperties({rotation:l,translationX:u,translationY:d}),i.setProperties({rotation:l,translationX:u,translationY:d}),n.datum=this.getAxisTransform(),s.each(h=>{h.x1=o,h.x2=-c*a+o})}updateSecondaryAxisTicks(t){throw new Error("AG Charts - unexpected call to updateSecondaryAxisTicks() - check axes configuration.")}updateSelections(t,n,i){this.lineNode.datum=t,this.gridLineGroupSelection.update(this.gridLength?n:[],r=>r.append(new Qt),r=>r.tickId),this.tickLineGroupSelection.update(n,r=>r.appendChild(new Qt),r=>r.tickId),this.tickLabelGroupSelection.update(n.map(r=>this.getTickLabelProps(r,i)),r=>r.appendChild(new Ye),r=>r.tickId)}updateAxisLine(){const{line:t}=this,n=t.enabled?t.width:0;this.lineNode.setProperties({stroke:t.stroke,strokeWidth:n})}updateGridLines(t){const{gridLine:{style:n,width:i},gridPadding:r,gridLength:s}=this;s===0||n.length===0||this.gridLineGroupSelection.each((o,a,l)=>{const{stroke:c,lineDash:u}=n[l%n.length];o.setProperties({x1:r,x2:-t*s+r,fill:void 0,stroke:c,strokeWidth:i,lineDash:u})})}updateLabels(){const{label:t}=this;t.enabled&&this.tickLabelGroupSelection.each((n,i)=>{n.setProperties(i,["fill","fontFamily","fontSize","fontStyle","fontWeight","text","textAlign","textBaseline"])})}wrapLabels(t,n,i){const{parallel:r,maxWidth:s,maxHeight:o}=this.label;let a=this.maxThickness,l=Math.round(this.calculateAvailableRange()/t.labelCount);return r&&([a,l]=[l,a]),t.ticks.forEach(c=>{c.tickLabel=Ye.wrap(c.tickLabel,s??a,o??l,i,"hyphenate")}),{tickData:t,index:n,autoRotation:0,terminate:!0}}updateTitle(t){const{rotation:n,title:i,_titleCaption:r,lineNode:s,tickLineGroup:o,tickLabelGroup:a}=this;let l=0;if(i.enabled&&t.anyTickVisible){const c=ge.computeBBox([o,a,s]),u=n===0?c.width:c.height;l+=u+(this.tickLabelGroup.visible?0:this.seriesAreaPadding)}this.setTitleProps(r,{spacing:l})}formatTick(t,n,i){return String(this.getFormatter(i,!0)(t,n))}formatDatum(t){return String(this.getFormatter()(t))}getFormatter(t=0,n){const{label:i,labelFormatter:r,datumFormatter:s,moduleCtx:{callbackCache:o}}=this;return i.formatter?(a,l)=>o.call(i.formatter,{value:a,index:t,fractionDigits:l})??a:!n&&s?a=>o.call(s,a)??String(a):r?a=>o.call(r,a)??String(a):a=>String(a)}computeBBox(){return this.axisGroup.computeBBox()}initCrossLine(t){t.scale=this.scale,t.gridLength=this.gridLength}isAnySeriesActive(){return this.boundSeries.some(t=>this.includeInvisibleDomains||t.isEnabled())}clipTickLines(t,n,i,r){this.tickLineGroup.setClipRectInGroupCoordinateSpace(new re(t,n,i,r))}clipGrid(t,n,i,r){this.gridGroup.setClipRectInGroupCoordinateSpace(new re(t,n,i,r))}calculatePadding(t,n){const i=Math.abs(this.reverse?n:t)*.01;return[i,i]}getTitleFormatterParams(){var n;const t=this.boundSeries.reduce((i,r)=>{const s=r.getKeys(this.direction),o=r.getNames(this.direction);for(let a=0;a<s.length;a++)i.push({key:s[a],name:o[a]});return i},[]);return{direction:this.direction,boundSeries:t,defaultValue:(n=this.title)==null?void 0:n.text}}normaliseDataDomain(t){return{domain:[...t],clipped:!1}}getLayoutState(){return{rect:this.computeBBox(),gridPadding:this.gridPadding,seriesAreaPadding:this.seriesAreaPadding,tickSize:this.getTickSize(),direction:this.direction,domain:this.dataDomain.domain,scale:this.scale,...this.layout}}getModuleMap(){return this.moduleMap}createModuleContext(){return this.axisContext??(this.axisContext=this.createAxisContext()),{...this.moduleCtx,parent:this.axisContext}}createAxisContext(){const{scale:t}=this;return{axisId:this.id,direction:this.direction,continuous:Ve.is(t)||tr.is(t),keys:()=>this.boundSeries.flatMap(n=>n.getKeys(this.direction)),seriesKeyProperties:()=>this.boundSeries.reduce((n,i)=>(i.getKeyProperties(this.direction).forEach(s=>{n.indexOf(s)<0&&n.push(s)}),n),[]),scaleValueFormatter:n=>{var i;return n?(i=t.tickFormat)==null?void 0:i.call(t,{specifier:n}):this.getFormatter()},scaleBandwidth:()=>t.bandwidth??0,scaleDomain:()=>{var n;return(n=t.getDomain)==null?void 0:n.call(t)},scaleConvert:n=>t.convert(n),scaleInvert:tr.is(t)?n=>{var i;return(i=t.invertNearest)==null?void 0:i.call(t,n)}:n=>{var i;return(i=t.invert)==null?void 0:i.call(t,n)},scaleInvertNearest:n=>{var i;return(i=t.invertNearest)==null?void 0:i.call(t,n)},attachLabel:n=>this.attachLabel(n),inRange:(n,i)=>this.inRange(n,i)}}animateReadyUpdate(t){const{animationManager:n}=this.moduleCtx,i=Ev(this),r=yE(i);Et(this.id,"axis-group",n,[this.axisGroup],r.group),Et(this.id,"line",n,[this.lineNode],r.line),Et(this.id,"line-paths",n,[this.gridLineGroupSelection,this.tickLineGroupSelection],r.tick,(s,o)=>o.tickId,t),Et(this.id,"tick-labels",n,[this.tickLabelGroupSelection],r.label,(s,o)=>o.tickId,t)}resetSelectionNodes(){const{gridLineGroupSelection:t,tickLineGroupSelection:n,tickLabelGroupSelection:i,lineNode:r}=this,s=Ev(this);zt([this.axisGroup],vE()),zt([t,n],xE(s)),zt([i],bE()),zt([r],wE())}calculateUpdateDiff(t,n){const i=new Set,r=new Set,s=Math.max(t.length,n.ticks.length);for(let o=0;o<s;o++){const a=n.ticks[o],l=t[o],c=a==null?void 0:a.tickId;l!==c&&(r.has(c)?r.delete(c):c&&i.add(c),i.has(l)?i.delete(l):l&&r.add(l))}return{changed:i.size>0||r.size>0,added:i,removed:r}}isReversed(){return this.reverse}};Is.defaultTickMinSpacing=50;b([w(me)],Is.prototype,"nice",2);b([w(me)],Is.prototype,"reverse",2);b([w(CL)],Is.prototype,"keys",2);b([w(le)],Is.prototype,"interval",2);b([w(me)],Is.prototype,"disableZoom",2);b([w(le,{optional:!0})],Is.prototype,"title",2);b([Bn((e,t,n)=>e.onGridLengthChange(t,n))],Is.prototype,"gridLength",2);var Ax=Is,Px=class extends _t{constructor(){super(...arguments),this.autoRotateAngle=335}};b([w(me,{optional:!0})],Px.prototype,"autoRotate",2);b([w(Ao)],Px.prototype,"autoRotateAngle",2);var Ox=class ME extends Ax{constructor(){super(...arguments),this.thickness=0}static is(t){return t instanceof ME}get direction(){return["top","bottom"].includes(this.position)?"x":"y"}updateDirection(){switch(this.position){case"top":this.rotation=-90,this.label.mirrored=!0,this.label.parallel=!0;break;case"right":this.rotation=0,this.label.mirrored=!0,this.label.parallel=!1;break;case"bottom":this.rotation=-90,this.label.mirrored=!1,this.label.parallel=!0;break;case"left":this.rotation=0,this.label.mirrored=!1,this.label.parallel=!1;break}this.axisContext&&(this.axisContext.position=this.position,this.axisContext.direction=this.direction)}update(t,n){return this.updateDirection(),super.update(t,n)}calculateLayout(t){return this.updateDirection(),super.calculateLayout(t)}createAxisContext(){return{...super.createAxisContext(),position:this.position}}assignCrossLineArrayConstructor(t){OL(t,kv)}createLabel(){return new Px}};b([w(X)],Ox.prototype,"thickness",2);b([w(Dx)],Ox.prototype,"position",2);var wc=Ox,Bo=class extends wc{constructor(e,t=new Mo){super(e,t),this._paddingOverrideEnabled=!1,this.groupPaddingInner=.1,this.includeInvisibleDomains=!0}set paddingInner(e){this._paddingOverrideEnabled=!0,this.scale.paddingInner=e}get paddingInner(){return this._paddingOverrideEnabled=!0,this.scale.paddingInner}set paddingOuter(e){this.scale.paddingOuter=e}get paddingOuter(){return this.scale.paddingOuter}normaliseDataDomain(e){const t=[],n=new Set;for(const i of e){const r=i instanceof Date?i.getTime():i;n.has(r)||(n.add(r),t.push(i))}return{domain:t,clipped:!1}}calculateDomain(){var e;if(!this._paddingOverrideEnabled){let t=1/0,n=-1/0;for(const i of this.boundSeries){const r=(e=i.getBandScalePadding)==null?void 0:e.call(i);r!=null&&(t=Math.min(t,r.inner),n=Math.max(n,r.outer))}this.scale.paddingInner=Number.isFinite(t)?t:0,this.scale.paddingOuter=Number.isFinite(n)?n:0}return super.calculateDomain()}};Bo.className="CategoryAxis";Bo.type="category";b([w(Ge)],Bo.prototype,"groupPaddingInner",2);var DE=class{constructor(e="",t,n=0){this.x=0,this.y=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.screenX=0,this.screenY=0,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.label=e,this.parent=t,this.depth=t?t.depth+1:0,this.number=n}getLeftSibling(){return this.number>0&&this.parent?this.parent.children[this.number-1]:void 0}getLeftmostSibling(){return this.number>0&&this.parent?this.parent.children[0]:void 0}nextLeft(){return this.children?this.children[0]:this.thread}nextRight(){return this.children?this.children[this.children.length-1]:this.thread}getSiblings(){return this.parent?this.parent.children.filter((e,t)=>t!==this.number):[]}};function U3(e,t=!0){const n=new DE;let i=0;return t&&e.forEach(r=>i=Math.max(i,r.labels.length)),e.forEach(r=>{if(t)for(;r.labels.length<i;)r.labels.unshift("");V3(n,r)}),n}function V3(e,t){const n=t.labels.slice().reverse(),i=n.length-1;n.forEach((r,s)=>{const o=e.children,a=o.find(c=>c.label===r),l=s!==i;if(a&&l)e=a;else{const c=new DE(r,e);c.number=o.length,o.push(c),l&&(e=c)}})}function K3(e,t,n){const i=t.number-e.number,r=n/i;t.change-=r,t.shift+=n,e.change+=r,t.prelim+=n,t.mod+=n}function $3(e,t,n){return t.getSiblings().indexOf(e.ancestor)>=0?e.ancestor:n}function X3(e){const t=e.children;if(t){let n=0,i=0;for(let r=t.length-1;r>=0;r--){const s=t[r];s.prelim+=n,s.mod+=n,i+=s.change,n+=s.shift+i}}}function Z3(e,t,n){const i=e.getLeftSibling();if(i){let r=e,s=e,o=i,a=s.getLeftmostSibling(),l=s.mod,c=r.mod,u=o.mod,d=a.mod;for(;o.nextRight()&&s.nextLeft();){o=o.nextRight(),s=s.nextLeft(),a=a.nextLeft(),r=r.nextRight(),r.ancestor=e;const h=o.prelim+u-(s.prelim+l)+n;h>0&&(K3($3(o,e,t),e,h),l+=h,c+=h),u+=o.mod,l+=s.mod,d+=a.mod,c+=r.mod}o.nextRight()&&!r.nextRight()?(r.thread=o.nextRight(),r.mod+=u-c):(s.nextLeft()&&!a.nextLeft()&&(a.thread=s.nextLeft(),a.mod+=l-d),t=e)}return t}function kE(e,t){const n=e.children;if(n.length){let i=n[0];n.forEach(o=>{kE(o,t),i=Z3(o,i,t)}),X3(e);const r=(n[0].prelim+n.at(-1).prelim)/2,s=e.getLeftSibling();s?(e.prelim=s.prelim+t,e.mod=e.prelim-r):e.prelim=r}else{const i=e.getLeftSibling();e.prelim=i?i.prelim+t:0}}var zM=class{constructor(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}update(e,t){const{x:n,y:i}=t(e);n>this.right&&(this.right=n),n<this.left&&(this.left=n),i>this.bottom&&(this.bottom=i),i<this.top&&(this.top=i)}};function CE(e,t,n){e.x=e.prelim+t,e.y=e.depth,n.update(e),e.children.forEach(i=>CE(i,t+e.mod,n))}function LE(e){const t=e.children;let n=0;t.forEach(i=>{LE(i),i.children.length?n+=i.leafCount:n++}),e.leafCount=n,t.length?(e.subtreeLeft=t[0].subtreeLeft,e.subtreeRight=t[e.children.length-1].subtreeRight,e.x=(e.subtreeLeft+e.subtreeRight)/2):(e.subtreeLeft=e.x,e.subtreeRight=e.x)}function q3(e){const t=new Q3;return kE(e,1),CE(e,-e.prelim,t),LE(e),t}var Q3=class{constructor(){this.dimensions=new zM,this.leafCount=0,this.nodes=[],this.leafNodes=[],this.nonLeafNodes=[],this.depth=0}update(e){this.dimensions.update(e,t=>({x:t.x,y:t.y})),e.children.length?this.nonLeafNodes.push(e):(this.leafCount++,this.leafNodes.push(e)),e.depth>this.depth&&(this.depth=e.depth),this.nodes.push(e)}resize(e,t,n=0,i=0,r=!1){const s=this.leafCount-1,o=this.depth,a=this.dimensions;let l=1,c=1;if(e>0&&s){const p=(a.right-a.left)/s;l=e/s/p,r&&(l=-l)}if(t>0&&o){const p=(a.bottom-a.top)/o;c=t/o/p}const u=new zM;this.nodes.forEach(p=>{p.screenX=p.x*l,p.screenY=p.y*c,u.update(p,f=>({x:f.screenX,y:f.screenY}))});const d=-u.left,h=-u.top;this.nodes.forEach(p=>{p.screenX+=d+n,p.screenY+=h+i})}},EE=class extends _t{constructor(){super(...arguments),this.grid=!1}};b([w(me)],EE.prototype,"grid",2);var Do=class extends wc{constructor(e){const t=new Mo;t.paddingOuter=.1,t.paddingInner=t.paddingOuter*2,super(e,t),this.tickScale=new Mo,this.line=new nh,this.label=new EE,this.labelColor="rgba(87, 87, 87, 1)",this.includeInvisibleDomains=!0;const{tickLineGroup:n,tickLabelGroup:i,gridLineGroup:r,tickScale:s}=this;s.paddingInner=1,s.paddingOuter=0,this.gridLineSelection=Tt.select(r,Qt),this.axisLineSelection=Tt.select(n,Qt),this.separatorSelection=Tt.select(n,Qt),this.labelSelection=Tt.select(i,Ye)}updateRange(){const{range:e,visibleRange:t,scale:n}=this,i=(e[1]-e[0])/(t[1]-t[0]),r=i*t[0],s=e[0]-r;this.tickScale.range=n.range=[s,s+i],this.resizeTickTree()}resizeTickTree(){const e=this.scale,t=e.domain.length?[e.convert(e.domain[0]),e.convert(e.domain[e.domain.length-1])]:e.range,n=this.tickTreeLayout,i=this.lineHeight;n&&n.resize(Math.abs(t[1]-t[0]),n.depth*i,(Math.min(t[0],t[1])||0)+(e.bandwidth??0)/2,-n.depth*i,t[1]-t[0]<0)}get lineHeight(){return this.label.fontSize*1.5}onGridVisibilityChange(){this.gridLineSelection.clear(),this.labelSelection.clear()}calculateDomain(){const{direction:e}=this;let t=null;const n=this.boundSeries.filter(r=>r.visible).flatMap(r=>{if(e==="y"||t)return r.getDomain(e);if(t===null){const s=r.getDomain(e);return t=ci(s[0]),s}return[]});this.setDomain(Kr(n)??Eg(n));const{domain:i}=this.dataDomain;this.tickTreeLayout=q3(U3(i)),this.tickScale.domain=i.concat(""),this.resizeTickTree()}update(){this.computedLayout&&(this.updatePosition(),this.updateTitleCaption(),this.updateCategoryLabels(),this.updateSeparators(),this.updateAxisLines(),this.updateCategoryGridLines(),this.resetSelectionNodes())}updateTitleCaption(){const{_titleCaption:e}=this;e.node.visible=!1}updateCategoryLabels(){if(!this.computedLayout)return;const{tickLabelLayout:e}=this.computedLayout;this.labelSelection.update(e).each((n,i)=>{n.setProperties(i)})}updateSeparators(){if(!this.computedLayout)return;const{separatorLayout:e}=this.computedLayout,{range:t}=this,n=1e-7;this.separatorSelection.update(e).each((r,s)=>{r.x1=s.x1,r.x2=s.x2,r.y1=s.y,r.y2=s.y,r.visible=s.y>=t[0]-n&&s.y<=t[1]+n,r.stroke=this.tick.stroke,r.fill=void 0,r.strokeWidth=1})}updateAxisLines(){if(!this.computedLayout)return;const{axisLineLayout:e}=this.computedLayout;this.axisLineSelection.update(e).each((n,i)=>{n.setProperties({...i,stroke:this.line.stroke,strokeWidth:this.line.width}),n.x1=i.x,n.x2=i.x,n.y1=i.y1,n.y2=i.y2,n.strokeWidth=this.line.width,n.stroke=this.line.stroke})}updateCategoryGridLines(){const{gridLength:e,gridLine:t,label:n,range:i,tickScale:r}=this,s=r.ticks(),o=n.getSideFlag(),a=this.gridLineSelection.update(e?s:[]);if(e){const{width:l,style:c}=t,u=c.length;a.each((d,h,p)=>{const f=Math.round(r.convert(h));d.x1=0,d.x2=-o*e,d.y1=f,d.y2=f,d.visible=f>=i[0]&&f<=i[1];const{stroke:g,lineDash:v}=c[p%u];d.stroke=g,d.strokeWidth=l,d.lineDash=v,d.fill=void 0})}}computeLayout(){this.updateDirection(),this.calculateDomain(),this.updateRange();const{scale:e,label:t,label:{parallel:n},moduleCtx:{callbackCache:i},range:r,title:s,title:{formatter:o=V=>V.defaultValue}={}}=this,a=e.range[0],l=e.range[1],u=Math.abs(l-a)/e.domain.length||0,d=Math.ceil(t.fontSize/u),h=An(this.rotation),p=Math.abs(Math.cos(h))<1e-8,f=t.getSideFlag(),g=this.lineHeight,v=this.tickTreeLayout,y=e.ticks(),m=v?v.nodes:[],x=v?v.depth>1:!1,{defaultRotation:S,configuredRotation:D,parallelFlipFlag:M}=If({rotation:t.rotation,parallel:n,regularFlipRotation:pt(h-Math.PI/2),parallelFlipRotation:pt(h)}),C=[],k=V=>({fill:V.fill,fontFamily:V.fontFamily,fontSize:V.fontSize,fontStyle:V.fontStyle,fontWeight:V.fontWeight,rotation:V.rotation,rotationCenterX:V.rotationCenterX,rotationCenterY:V.rotationCenterY,text:V.text,textAlign:V.textAlign,textBaseline:V.textBaseline,translationX:V.translationX,translationY:V.translationY,visible:V.visible,x:V.x,y:V.y}),L=new Map;let T=0;const O=new Ye,Y=(V,ue)=>{if(O.setProperties({fill:t.color,fontFamily:t.fontFamily,fontSize:t.fontSize,fontStyle:t.fontStyle,fontWeight:t.fontWeight,textAlign:"center",textBaseline:M===-1?"bottom":"hanging",translationX:V.screenY-t.fontSize*.25,translationY:V.screenX}),ue===0){if(!((s==null?void 0:s.enabled)&&y.length>0))return!1;const de=i.call(o,this.getTitleFormatterParams());O.setProperties({fill:s.color,fontFamily:s.fontFamily,fontSize:s.fontSize,fontStyle:s.fontStyle,fontWeight:s.fontWeight,text:de,textBaseline:"hanging",translationX:V.screenY-t.fontSize*.25,translationY:V.screenX})}else if(ue%d===0){if(!(V.screenX>=r[0]&&V.screenX<=r[1]))return!1;t.formatter?O.text=i.call(t.formatter,{value:String(V.label),index:ue})??String(V.label):O.text=String(V.label)}else return!1;return!0};m.forEach((V,ue)=>{if(!Y(V,ue))return;const de=O.computeTransformedBBox();if(!de)return;L.set(ue,de),!V.children.length&&de.width>T&&(T=de.width)});const E=f*t.padding,_=this.label.grid,R=[];m.forEach((V,ue)=>{let oe=Y(V,ue);const de=ue;O.x=E,O.rotationCenterX=E;const Se=!V.children.length;if(Se)O.rotation=D,O.textAlign="end",O.textBaseline="middle";else{O.translationX-=T-g+this.label.padding;const ce=V.leafCount*u,be=L.get(de);be&&be.width>ce?(oe=!1,L.delete(de)):p?O.rotation=S:O.rotation=-Math.PI/2}if(V.parent&&x){const ce=Se?V.screenX-u/2:V.screenX-V.leafCount*u/2;if(Se)(V.number!==V.children.length-1||_)&&R.push({y:ce,x1:0,x2:-T-this.label.padding*2});else{const be=-T-this.label.padding*2+V.screenY;R.push({y:ce,x1:be+g,x2:be})}}let Oe;if(oe){const ce=O.computeTransformedBBox();ce&&L.set(ue,ce),Oe={...k(O),visible:oe}}else L.delete(ue),Oe={visible:oe};C.push(Oe)});let z=0;R.forEach(V=>z=Math.min(z,V.x2)),R.push({y:Math.max(a,l),x1:0,x2:z});const P=[],F=[],G=1e-7;R.forEach(V=>{if(V.y>=r[0]-G&&V.y<=r[1]+G){const{x1:ue,x2:oe,y:de}=V,Se=new re(Math.min(ue,oe),de,Math.abs(ue-oe),0);F.push(Se),P.push({x1:ue,x2:oe,y:de})}});const H=[],Z=[],J=v?v.depth+1:1;for(let V=0;V<J;V++){const ue=y.length>0&&(V===0||_&&x),oe=V>0?-T-this.label.padding*2-(V-1)*g:0,de=new re(oe,Math.min(...r),0,Math.abs(r[1]-r[0]));Z.push(de),H.push({x:oe,y1:r[0],y2:r[1],visible:ue})}const he=V=>{const ue=new Nr,{rotation:oe,translationX:de,translationY:Se,rotationCenterX:Oe,rotationCenterY:ce}=this.getAxisTransform();return Nr.updateTransformMatrix(ue,1,1,oe,de,Se,{scalingCenterX:0,scalingCenterY:0,rotationCenterX:Oe,rotationCenterY:ce}),ue.transformBBox(V)},pe=re.merge([...L.values(),...F,...Z]);return{bbox:he(pe),tickLabelLayout:C,separatorLayout:P,axisLineLayout:H}}calculateLayout(){const{axisLineLayout:e,separatorLayout:t,tickLabelLayout:n,bbox:i}=this.computeLayout();return this.computedLayout={axisLineLayout:e,separatorLayout:t,tickLabelLayout:n},{bbox:i,primaryTickCount:void 0}}};Do.className="GroupedCategoryAxis";Do.type="grouped-category";b([w(ze,{optional:!0})],Do.prototype,"labelColor",2);var ih=class{constructor(){this.destroyFns=[]}destroy(){for(const e of this.destroyFns)e()}},TE=class{constructor(){this.modules=[],this.dependencies=new Map,this.dependents=new Map}register(...e){for(const t of e){this.registerDependencies(t);const n=this.modules.find(i=>t.type===i.type&&t.optionsKey===i.optionsKey&&t.identifier===i.identifier);if(n){if(t.packageType==="enterprise"&&n.packageType==="community"){const i=this.modules.indexOf(n);this.modules.splice(i,1,t)}}else this.modules.push(t)}}hasEnterpriseModules(){return this.modules.some(e=>e.packageType==="enterprise")}*byType(...e){const{dependents:t}=this,n=new Set;let i=0;const r=3,s=this.modules.filter(o=>e.includes(o.type));do{for(const o of s)if(!(n.has(o.optionsKey)||t.has(o.optionsKey))){yield o,n.add(o.optionsKey);for(const[a,l]of t.entries())l.delete(o.optionsKey),l.size===0&&t.delete(a)}i++}while(n.size<s.length&&i<r);if(t.size>0)throw new Error(`Could not resolve module dependencies: [${[...t.keys()]}]`)}registerDependencies(e){if(!(e.dependencies==null||e.dependencies.length===0)){for(const t of e.dependencies){const n=this.dependencies.get(t)??new Set;n.add(e.optionsKey),this.dependencies.set(t,n)}this.dependents.set(e.optionsKey,new Set(e.dependencies))}}},po=new TE;function J3(e){return new Promise(t=>{setTimeout(()=>t(void 0),e)})}var e4=class{constructor(){this.available=!0,this.acquireQueue=[]}acquire(e){return new Promise(t=>{this.acquireQueue.push([e,t]),this.available&&this.dispatchNext().catch(n=>$.errorOnce(n))})}async acquireImmediately(e){return this.available?(await this.acquire(e),!0):!1}async waitForClearAcquireQueue(){return this.acquire(async()=>{})}async dispatchNext(){this.available=!1;let[e,t]=this.acquireQueue.shift()??[];for(;e;){try{await e(),t==null||t()}catch(n){$.error("mutex callback error",n),t==null||t()}[e,t]=this.acquireQueue.shift()??[]}this.available=!0}},IE=class{constructor(){this.eventListeners=new Map}addEventListener(e,t){if(typeof t!="function")throw new Error("AG Charts - listener must be a Function");const n=this.eventListeners.get(e);n?n.add(t):this.eventListeners.set(e,new Set([t]))}removeEventListener(e,t){var n;(n=this.eventListeners.get(e))==null||n.delete(t),this.eventListeners.size===0&&this.eventListeners.delete(e)}hasEventListener(e){return this.eventListeners.has(e)}clearEventListeners(){this.eventListeners.clear()}fireEvent(e){var t;(t=this.eventListeners.get(e.type))==null||t.forEach(n=>n(e))}},zo=class extends Ce{constructor(e=0,t=e,n=e,i=t){super(),this.top=e,this.right=t,this.bottom=n,this.left=i}clear(){this.top=this.right=this.bottom=this.left=0}};b([w(X)],zo.prototype,"top",2);b([w(X)],zo.prototype,"right",2);b([w(X)],zo.prototype,"bottom",2);b([w(X)],zo.prototype,"left",2);function t4(e){return NE((t,n)=>requestAnimationFrame(t),e)}function n4(e){return NE((t,n=0)=>setTimeout(t,n),e)}function NE(e,t){let n=0,i=!1,r,s;const o=()=>i,a=()=>{i=!1,s==null||s(),s=void 0,r=void 0,n>0&&e(l)},l=()=>{const c=n;n=0,i=!0;const u=t({count:c});if(!u){a();return}u.then(a,a)};return{schedule(c){n===0&&!o()&&e(l,c),n++},async await(){if(o())for(r==null&&(r=new Promise(c=>{s=c}));o();)await r}}}var RE="10.0.2",AE=class{constructor(e){this.version=e.split("-")[0]}save(...e){const t={version:this.version};for(const n of Object.values(e))t[n.mementoOriginatorKey]=this.encode(n,n.createMemento());return t}restore(e,...t){if(typeof e!="object"){$.warnOnce(`Could not restore data of type [${typeof e}], expecting an object, ignoring.`);return}if(e==null){$.warnOnce("Could not restore data of type [null], expecting an object, ignoring.");return}if(!("version"in e)||typeof e.version!="string"){$.warnOnce("Could not restore data, missing [version] string in object, ignoring.");return}for(const n of t){if(!(n.mementoOriginatorKey in e))continue;const i=this.decode(n,e[n.mementoOriginatorKey]);if(!n.guardMemento(i)){$.warnOnce(`Could not restore [${n.mementoOriginatorKey}] data, value was invalid, ignoring.`,i);return}n.restoreMemento(this.version,e.version,i)}}encode(e,t){try{return JSON.parse(JSON.stringify(t,this.encodeTypes))}catch(n){throw new Error(`Failed to encode [${e.mementoOriginatorKey}] value [${n}].`,{cause:n})}}decode(e,t){try{return JSON.parse(JSON.stringify(t),this.decodeTypes)}catch(n){throw new Error(`Failed to decode [${e.mementoOriginatorKey}] value [${n}].`,{cause:n})}}encodeTypes(e,t){return Xd(this[e])?{__type:"date",value:String(this[e])}:t}decodeTypes(e,t){return Pi(this[e])&&"__type"in this[e]&&this[e].__type==="date"?new Date(this[e].value):t}},i4=class{constructor(){this.caretaker=new AE(RE),this.state=new Map}setState(e,t){pi(this.state.get(e.mementoOriginatorKey),t)!=null&&(this.state.set(e.mementoOriginatorKey,t),this.restoreState(e))}restoreState(e){const{caretaker:t,state:n}=this;if(!n.has(e.mementoOriginatorKey))return;const i=n.get(e.mementoOriginatorKey);t.restore({version:t.version,[e.mementoOriginatorKey]:i},e)}};function r4(){if(typeof navigator>"u")return!1;const e=navigator.userAgent.match(/\(iPhone; CPU iPhone OS (\d+_\d+_\d+) like Mac OS X\)/);if(e==null)return!1;const[t,n]=e[1].split("_").map(Number);return t<16||t===16&&n<6}var PE=class Iv{constructor(t){this.enabled=!0,this.width=600,this.height=300;const{width:n,height:i,pixelRatio:r,canvasConstructor:s}=t;this.pixelRatio=r4()?1:r??Gr("devicePixelRatio"),this.element=(s==null?void 0:s())??un("canvas"),this.element.style.display="block",this.element.style.width=(n??this.width)+"px",this.element.style.height=(i??this.height)+"px",this.element.width=Math.round((n??this.width)*this.pixelRatio),this.element.height=Math.round((i??this.height)*this.pixelRatio),this.context=this.element.getContext("2d"),this.onEnabledChange(),this.resize(n??0,i??0),Iv.debugContext(this.context)}static is(t){return t instanceof Iv}drawImage(t,n=0,i=0){return t.drawImage(this.context.canvas,n,i)}toDataURL(t){return this.element.toDataURL(t)}resize(t,n){if(!(t>0&&n>0))return;const{element:i,context:r,pixelRatio:s}=this;i.width=Math.round(t*s),i.height=Math.round(n*s),r.setTransform(s,0,0,s,0,0),i.style.width=t+"px",i.style.height=n+"px",this.width=t,this.height=n}snapshot(){}clear(){this.context.save(),this.context.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),this.context.clearRect(0,0,this.width,this.height),this.context.restore()}destroy(){this.element.remove(),this.element.width=0,this.element.height=0,this.context.clearRect(0,0,0,0),Object.freeze(this)}onEnabledChange(){this.element&&(this.element.style.display=this.enabled?"":"none")}static debugContext(t){if(et.check("canvas")){const n=t.save.bind(t),i=t.restore.bind(t);let r=0;Object.assign(t,{save(){n(),r++},restore(){if(r===0)throw new Error("AG Charts - Unable to restore() past depth 0");i(),r--},verifyDepthZero(){if(r!==0)throw new Error(`AG Charts - Save/restore depth is non-zero: ${r}`)}})}}};b([Bn(e=>e.onEnabledChange())],PE.prototype,"enabled",2);var _x=PE,s4=class OE{constructor(t,n){this.canvas=t,this.markDirty=n,this.debug=et.create(!0,"scene"),this.layersMap=new Map,this.nextZIndex=0,this.nextLayerId=0}static sortLayers(t,n){return $L([t.zIndex,...t.zIndexSubOrder??[void 0,void 0],t.id],[n.zIndex,...n.zIndexSubOrder??[void 0,void 0],n.id],KL)}get size(){return this.layersMap.size}forEach(t){Array.from(this.layersMap.values()).sort(OE.sortLayers).forEach(t)}resize(t,n){this.canvas.resize(t,n),this.layersMap.forEach(({canvas:i})=>i.resize(t,n))}addLayer(t){const{width:n,height:i,pixelRatio:r}=this.canvas,{zIndex:s=this.nextZIndex++,name:o,zIndexSubOrder:a,getComputedOpacity:l,getVisibility:c}=t,u=new _x({width:n,height:i,pixelRatio:r}),d={id:this.nextLayerId++,name:o,canvas:u,zIndex:s,zIndexSubOrder:a,getComputedOpacity:l,getVisibility:c};return s>=this.nextZIndex&&(this.nextZIndex=s+1),this.layersMap.set(u,d),this.debug("Scene.addLayer() - layers",this.layersMap),d.canvas}removeLayer(t){this.layersMap.has(t)&&(this.layersMap.delete(t),t.destroy(),this.markDirty(),this.debug("Scene.removeLayer() -  layers",this.layersMap))}moveLayer(t,n,i){const r=this.layersMap.get(t);r&&(r.zIndex=n,r.zIndexSubOrder=i,this.markDirty(),this.debug("Scene.moveLayer() -  layers",this.layersMap))}clear(){this.layersMap.clear()}};function YM(e,t,n,i,r={}){if(!et.check("scene:stats","scene:stats:verbose"))return;const{layersRendered:s=0,layersSkipped:o=0,nodesRendered:a=0,nodesSkipped:l=0}=i??{},c=performance.now(),{start:u,...d}=t,h=Object.entries(d).map(([S,D])=>jM(S,D)).filter(S=>S!=null).join(" + "),p=Object.entries(r).map(([S,D])=>`${S}: ${D}`).join(" ; "),f=et.check("scene:stats:verbose"),g=[`${jM("⏱️",u,c)} (${h})`,`${p}`,`Layers: ${f?GM(s,o):e.size}`,f?`Nodes: ${GM(a,l)}`:null].filter(Oi),v=new Map(g.map(S=>[S,Ye.getTextSize(S,n.font)])),y=Math.max(...Array.from(v.values(),S=>S.width)),m=a4(v.values(),S=>S.height);n.save(),n.fillStyle="white",n.fillRect(0,0,y,m),n.fillStyle="black";let x=0;for(const[S,D]of v.entries())x+=D.height,n.fillText(S,2,x);n.restore()}function o4(e,t){e.save();for(const[n,i]of Object.entries(t)){const r=i.computeTransformedBBox();if(!r){$.log(`Scene.render() - no bbox for debugged node [${n}].`);continue}e.globalAlpha=.8,e.strokeStyle="red",e.lineWidth=1,e.strokeRect(r.x,r.y,r.width,r.height),e.fillStyle="red",e.strokeStyle="white",e.font="16px sans-serif",e.textBaseline="top",e.textAlign="left",e.lineWidth=2,e.strokeText(n,r.x,r.y,r.width),e.fillText(n,r.x,r.y,r.width)}e.restore()}function Rp(e){var t;return et.check(!0,"scene")?{node:e,name:(e instanceof ge?e.name:null)??e.id,dirty:ho[e.dirty],...(t=e.parent)!=null&&t.isVirtual?{virtualParentDirty:ho[e.parent.dirty],virtualParent:e.parent}:{},...e.children.map(n=>Rp(n)).reduce((n,i)=>{let{name:r}=i;const{node:{visible:s,opacity:o,zIndex:a,zIndexSubOrder:l},node:c,virtualParent:u}=i;(!s||o<=0)&&(r=`(${r})`),c instanceof ge&&c.isLayer()&&(r=`*${r}*`);const d=[`${r??"<unknown>"}`,`z: ${a}`,l&&`zo: ${l.map(f=>typeof f=="function"?`${f()} (fn)`:f).join(" / ")}`,u&&"(virtual parent)"].filter(f=>!!f).join(" ");let h=d,p=1;for(;n[h]!=null&&p<100;)h=`${d} (${p++})`;return n[h]=i,n},{})}:{}}function _E(e){if(e.dirty===0)return{dirtyTree:{},paths:[]};const t=e.children.map(r=>_E(r)).filter(r=>r.paths.length>0),n=ge.is(e)?e.name??e.id:e.id,i=t.length?t.flatMap(r=>r.paths).map(r=>`${n}.${r}`):[n];return{dirtyTree:{name:n,node:e,dirty:ho[e.dirty],...t.map(r=>r.dirtyTree).filter(r=>r.dirty!=null).reduce((r,s)=>(r[s.name??"<unknown>"]=s,r),{})},paths:i}}function GM(e,t){const n=e+t;return`${e} / ${n} (${Math.round(100*e/n)}%)`}function jM(e,t,n){const i=n!=null?n-t:t;return`${e}: ${Math.round(i*100)/100}ms`}function a4(e,t){let n=0;for(const i of e)n+=t(i);return n}var Fx=class{constructor({width:e,height:t,pixelRatio:n,domManager:i}){this.debug=et.create(!0,"scene"),this.id=Hr(this),this.root=null,this.isDirty=!1,this.domManager=i;const r={width:e,height:t,pixelRatio:n};i&&(r.canvasConstructor=()=>i.addChild("canvas","scene-canvas")),this.canvas=new _x(r),this.layersManager=new s4(this.canvas,()=>{this.isDirty=!0})}get width(){var e;return((e=this.pendingSize)==null?void 0:e[0])??this.canvas.width}get height(){var e;return((e=this.pendingSize)==null?void 0:e[1])??this.canvas.height}setContainer(e){var n;if((i=>typeof i.tagName<"u")(e)){const{element:i}=this.canvas;(n=i.parentElement)==null||n.removeChild(i),e.appendChild(i)}else this.domManager=e,this.domManager.addChild("canvas","scene-canvas",this.canvas.element);return this}setRoot(e){var t;return this.root===e?this:(this.isDirty=!0,(t=this.root)==null||t._setLayerManager(),this.root=e,e&&(e.visible=!0,e._setLayerManager(this.layersManager)),this)}attachNode(e,t){var i,r;if(!t)return(i=this.root)==null||i.appendChild(e),()=>this.removeChild(e);const n=(r=this.root)==null?void 0:r.children.find(s=>s instanceof ge&&s.name===t);if(!n)throw new Error("AG Charts - Unrecognized root group name: "+t);return n.appendChild(e),()=>n.removeChild(e)}appendChild(e){var t;return(t=this.root)==null||t.appendChild(e),this}removeChild(e){var t;return(t=this.root)==null||t.removeChild(e),this}download(e,t){sE(this.canvas.toDataURL(t),(e==null?void 0:e.trim())??"image")}getDataURL(e){return this.canvas.toDataURL(e)}resize(e,t){return e=Math.round(e),t=Math.round(t),e>0&&t>0&&(e!==this.width||t!==this.height)?(this.pendingSize=[e,t],this.isDirty=!0,!0):!1}async render(e){var u;const{debugSplitTimes:t={start:performance.now()},extraDebugStats:n}=e??{},{canvas:i,canvas:{context:r}={},root:s,pendingSize:o}=this;if(!r)return;const a=performance.now();if(o&&(this.layersManager.resize(...o),this.pendingSize=void 0),s&&!s.visible){this.isDirty=!1;return}if(s&&!this.isDirty){this.debug.check()&&this.debug("Scene.render() - no-op",{redrawType:ho[s.dirty],tree:Rp(s)}),YM(this.layersManager,t,r,void 0,n);return}const l={ctx:r,devicePixelRatio:this.canvas.pixelRatio??1,forceRender:!0,resized:!!o,debugNodes:{}};et.check("scene:stats:verbose")&&(l.stats={layersRendered:0,layersSkipped:0,nodesRendered:0,nodesSkipped:0});let c=!1;if((!s||s.dirty>=1)&&(c=!0,i.clear()),s&&et.check("scene:dirtyTree")){const{dirtyTree:d,paths:h}=_E(s);et.create("scene:dirtyTree")("Scene.render() - dirtyTree",{dirtyTree:d,paths:h})}if(s&&c&&(this.debug("Scene.render() - before",{redrawType:ho[s.dirty],canvasCleared:c,tree:Rp(s)}),s.visible&&(s.preRender(),r.save(),s.render(l),r.restore())),t["✍️"]=performance.now()-a,this.layersManager.size&&c){const d=performance.now();r.save(),r.resetTransform(),this.layersManager.forEach(h=>{h.canvas.enabled&&h.getVisibility()&&(r.globalAlpha=h.getComputedOpacity(),h.canvas.drawImage(r))}),r.restore(),t["⛙"]=performance.now()-d}(u=r.verifyDepthZero)==null||u.call(r),this.isDirty=!1,YM(this.layersManager,t,r,l.stats,n),o4(r,l.debugNodes),s&&this.debug.check()&&this.debug("Scene.render() - after",{redrawType:ho[s.dirty],tree:Rp(s),canvasCleared:c})}strip(){const{context:e,pixelRatio:t}=this.canvas;e.setTransform(t,0,0,t,0,0),this.layersManager.clear(),this.setRoot(null),this.isDirty=!1}destroy(){this.strip(),this.canvas.destroy(),Object.assign(this,{canvas:void 0})}};Fx.className="Scene";var l4=class{constructor(){this.cache=new WeakMap}call(e,...t){let n,i=this.cache.get(e);const r=()=>{try{const s=e(...t);return i&&n!=null&&i.set(n,s),s}catch(s){$.warnOnce("User callback errored, ignoring",s);return}};try{n=JSON.stringify(t)}catch{return r()}return i==null&&(i=new Map,this.cache.set(e,i)),i.has(n)?i.get(n):r()}invalidateCache(){this.cache=new WeakMap}},c4=class extends ar{constructor(e){super(),this.annotationRoot=e,this.mementoOriginatorKey="annotations",this.annotations=[]}createMemento(){return this.annotations}guardMemento(e){return Ot(e)}restoreMemento(e,t,n){this.listeners.dispatch("restore-annotations",{type:"restore-annotations",annotations:n})}updateData(e){this.annotations=e??[]}attachNode(e){return this.annotationRoot.append(e),()=>{var t;return(t=this.annotationRoot)==null||t.removeChild(e),this}}setAnnotationStyles(e){this.styles=e}getAnnotationTypeStyles(e){var t;return(t=this.styles)==null?void 0:t[e]}},u4=class{constructor(e){this.sceneRoot=e,this.axes=new Map,this.axisGridGroup=new ge({name:"Axes-Grids",layer:!0,zIndex:1}),this.axisGroup=new ge({name:"Axes",layer:!0,zIndex:2}),this.sceneRoot.appendChild(this.axisGroup),this.sceneRoot.appendChild(this.axisGridGroup)}updateAxes(e,t){var n;for(const i of e)t.includes(i)||(i.detachAxis(this.axisGroup,this.axisGridGroup),i.destroy());for(const i of t)e!=null&&e.includes(i)||i.attachAxis(this.axisGroup,this.axisGridGroup);this.axes.clear();for(const i of t){const r=i.createAxisContext();this.axes.has(r.direction)?(n=this.axes.get(r.direction))==null||n.push(r):this.axes.set(r.direction,[r])}}getAxisContext(e){return[...this.axes.get(e)??[]]}destroy(){this.axes.clear(),this.sceneRoot.removeChild(this.axisGroup),this.sceneRoot.removeChild(this.axisGridGroup)}},Og=class extends _o{constructor(e){super(),this.animationManager=e,this.dispatchOnlyLatest=!0,this.dispatchThrottle=0,this.requestThrottle=300,this.isLoadingInitialData=!1,this.isLoadingData=!1,this.freshRequests=[],this.requestCounter=0,this.debug=et.create(!0,"data-model","data-source"),this.throttledFetch=this.createThrottledFetch(this.requestThrottle),this.throttledDispatch=this.createThrottledDispatch(this.dispatchThrottle)}updateCallback(e){typeof e=="function"&&(this.debug("DataService - updated data source callback"),this.dataSourceCallback=e,this.isLoadingInitialData=!0,this.animationManager.skip(),this.dispatch("data-source-change"))}clearCallback(){this.dataSourceCallback=void 0}load(e){this.isLoadingData=!0,this.throttledFetch(e)}isLazy(){return this.dataSourceCallback!=null}isLoading(){return this.isLazy()&&(this.isLoadingInitialData||this.isLoadingData)}createThrottledFetch(e){return wM(t=>this.fetch(t),e,{leading:!1,trailing:!0})}createThrottledDispatch(e){return wM((t,n)=>{this.debug(`DataService - dispatching 'data-load' | ${t}`),this.dispatch("data-load",{type:"data-load",data:n})},e,{leading:!0,trailing:!0})}async fetch(e){if(!this.dataSourceCallback)throw new Error("DataService - [dataSource.getData] callback not initialised");const t=performance.now(),n=this.requestCounter++;this.debug(`DataService - requesting | ${n}`),this.freshRequests.push(n);let i;try{i=await this.dataSourceCallback(e),this.debug(`DataService - response | ${performance.now()-t}ms | ${n}`)}catch(s){this.debug(`DataService - request failed | ${n}`),$.errorOnce(`DataService - request failed | [${s}]`)}this.isLoadingInitialData=!1;const r=this.freshRequests.findIndex(s=>s===n);if(r===-1||this.dispatchOnlyLatest&&r!==this.freshRequests.length-1){this.debug(`DataService - discarding stale request | ${n}`);return}this.freshRequests=this.freshRequests.slice(r+1),this.freshRequests.length===0&&(this.isLoadingData=!1),Array.isArray(i)?this.throttledDispatch(n,i):this.dispatch("data-error")}};b([Fn({newValue(e){this.throttledDispatch=this.createThrottledDispatch(e)}})],Og.prototype,"dispatchThrottle",2);b([Fn({newValue(e){this.throttledFetch=this.createThrottledFetch(e)}})],Og.prototype,"requestThrottle",2);var d4=class{constructor(e,t,n){this.element=e,this.topTabGuard=t,this.bottomTabGuard=n,this.destroyFns=[],this.guardTabIndex=0,this.element.tabIndex=-1,this.initEventListener(this.element,"blur",()=>this.onBlur()),this.initEventListener(this.element,"focus",()=>this.onFocus()),this.initEventListener(this.topTabGuard,"focus",i=>this.onTabStart(i,this.topTabGuard)),this.initEventListener(this.bottomTabGuard,"focus",i=>this.onTabStart(i,this.bottomTabGuard))}set tabIndex(e){e>=0&&(this.guardTabIndex=e),e>0?(this.topTabGuard.tabIndex=e,this.bottomTabGuard.style.display="none"):(this.topTabGuard.tabIndex=e,this.bottomTabGuard.tabIndex=e)}destroy(){for(const e of this.destroyFns)e();this.destroyFns.length=0}initEventListener(e,t,n){e.addEventListener(t,n),this.destroyFns.push(()=>e.removeEventListener(t,n))}onBlur(){this.element.tabIndex===-1&&(this.tabIndex=this.guardTabIndex,this.guardTarget=void 0,this.guessedDelta=void 0)}onFocus(){this.element.tabIndex===-1&&(this.tabIndex=-1)}onTabStart(e,t){if(t.tabIndex>0&&(this.guessedDelta=0,e.relatedTarget!=null&&"tabIndex"in e.relatedTarget)){const n=Number(e.relatedTarget.tabIndex);!isNaN(n)&&n>0&&(this.guessedDelta=n<t.tabIndex?1:-1)}this.guardTarget=t,this.element.focus()}getBrowserFocusDelta(){const{guessedDelta:e,guardTarget:t,topTabGuard:n,bottomTabGuard:i}=this;return e!==void 0?e:t===n?1:t===i?-1:0}},h4=class{constructor(){var e;this.elements=new Map,this.documentReady=!1,this.queuedObserveRequests=[],this.onLoad=()=>{this.documentReady=!0,this.queuedObserveRequests.forEach(([t,n])=>this.observe(t,n)),this.queuedObserveRequests=[]},!(typeof ResizeObserver>"u")&&(this.resizeObserver=new ResizeObserver(t=>{for(const{target:n,contentRect:{width:i,height:r}}of t){const s=this.elements.get(n);this.checkSize(s,n,i,r)}}),this.documentReady=gs("readyState")==="complete",this.documentReady||(e=Gr())==null||e.addEventListener("load",this.onLoad))}destroy(){var e,t;(e=Gr())==null||e.removeEventListener("load",this.onLoad),(t=this.resizeObserver)==null||t.disconnect(),this.resizeObserver=null}checkSize(e,t,n,i){var r,s;e&&(n!==((r=e.size)==null?void 0:r.width)||i!==((s=e.size)==null?void 0:s.height))&&(e.size={width:n,height:i},e.cb(e.size,t))}observe(e,t){var i;if(!this.documentReady){this.queuedObserveRequests.push([e,t]);return}this.elements.has(e)?this.removeFromQueue(e):(i=this.resizeObserver)==null||i.observe(e);const n={cb:t};this.elements.set(e,n),this.checkSize(n,e,e.offsetWidth,e.offsetHeight)}unobserve(e){var t;(t=this.resizeObserver)==null||t.unobserve(e),this.elements.delete(e),this.removeFromQueue(e),this.elements.size||this.destroy()}removeFromQueue(e){this.queuedObserveRequests=this.queuedObserveRequests.filter(([t])=>t!==e)}},p4='<div class="ag-charts-wrapper ag-charts-styles" data-ag-charts><div class="ag-charts-canvas-center"><div class="ag-charts-canvas-container"><div class="ag-charts-tab-guard"></div><div class="ag-charts-canvas"></div><div class="ag-charts-canvas-proxy"></div><div class="ag-charts-tab-guard"></div><div class="ag-charts-canvas-overlay"></div></div></div></div>',f4=`.ag-charts-wrapper,
.ag-charts-wrapper:focus,
.ag-charts-wrapper:after,
.ag-charts-wrapper:before,
.ag-charts-wrapper *,
.ag-charts-wrapper *:focus,
.ag-charts-wrapper *:after,
.ag-charts-wrapper *:before{box-sizing:border-box;outline:none}.ag-charts-wrapper{position:relative}.ag-charts-canvas-center{width:100%;height:100%;position:absolute;touch-action:auto;display:flex;align-items:var(--ag-charts-align);justify-content:var(--ag-charts-justify)}.ag-charts-canvas-container,
.ag-charts-canvas{position:relative}.ag-charts-canvas-container > *,
.ag-charts-canvas > *{display:block}.ag-charts-canvas-proxy{opacity:0;position:absolute;top:0;left:0;pointer-events:none}.ag-charts-tab-guard{opacity:0;width:0px;height:0px}.ag-charts-canvas-overlay{pointer-events:none;position:absolute;top:0;left:0;right:0;bottom:0}.ag-charts-canvas-overlay > *{position:absolute;pointer-events:auto}.ag-charts-theme-default,
.ag-charts-theme-default-dark{--ag-charts-active-color:var(--ag-active-color,#2196f3);--ag-charts-background-color:var(--ag-background-color,#fff);--ag-charts-foreground-color:var(--ag-foreground-color,#181d1f);--ag-charts-border-color:var(--ag-border-color,#dddddd);--ag-charts-font-size:var(--ag-font-size,14px);--ag-charts-size:var(--ag-grid-size,8px);--ag-charts-border:var(--ag-charts-border-color) var(--ag-borders,solid 1px);--ag-charts-border-critical:var(--ag-borders-critical,solid 1px);--ag-charts-layer-context-menu:5;--ag-charts-layer-tooltip:4;--ag-charts-layer-toolbar:3;--ag-charts-layer-crosshair:2;--ag-charts-layer-annotations:1;--ag-charts-align:center;--ag-charts-justify:center;--ag-charts-axis-label-background-color:#474747;--ag-charts-axis-label-color:#ffffff;--ag-charts-toolbar-foreground-color:var(--ag-header-foreground-color,var(--ag-charts-foreground-color));--ag-charts-toolbar-background-color:var(
        --ag-header-background-color,color-mix(in srgb,var(--ag-charts-background-color),var(--ag-charts-foreground-color) 2%)
    );--ag-charts-toolbar-size:34px;--ag-charts-toolbar-size-small:24px;--ag-charts-toolbar-border:var(--ag-charts-border-critical,solid 1px) var(--ag-charts-border-color);--ag-charts-toolbar-hover-color:color-mix(in srgb,var(--ag-charts-background-color),var(--ag-charts-active-color) 12%);--ag-charts-toolbar-focus-color:var(--ag-charts-active-color);--ag-charts-toolbar-active-background-color:color-mix(in srgb,var(--ag-charts-background-color),var(--ag-charts-active-color) 24%);--ag-charts-toolbar-active-color:var(--ag-active-color,#5090dc);--ag-charts-toolbar-disabled-foreground-color:var(
        --ag-disabled-foreground-color,color-mix(in srgb,transparent,var(--ag-charts-toolbar-foreground-color) 50%)
    );--ag-charts-toolbar-disabled-background-color:color-mix(in srgb,var(--ag-charts-toolbar-background-color),var(--ag-charts-toolbar-foreground-color) 6%);--ag-charts-toolbar-gap:var(--ag-charts-size);--ag-charts-toolbar-font-size:14px;--ag-charts-toolbar-font-size-small:12px;--ag-charts-toolbar-button-padding:7px;--ag-charts-toolbar-button-padding-small:3px;--ag-charts-button-radius:var(--ag-border-radius,4px);--ag-charts-focus-border-color:var(--ag-input-focus-border-color,var(--ag-charts-active-color));--ag-charts-focus-border:solid 1px var(--ag-charts-focus-border-color);--ag-charts-focus-border-shadow:var(
        --ag-input-focus-box-shadow,0 0 0 3px color-mix(in srgb,transparent,var(--ag-input-focus-border-color,var(--ag-charts-active-color)) 47%)
    );--ag-charts-icon-font-family:'agChartsDefault';--ag-charts-icon-font-weight:normal;--ag-charts-icon-font-color:color-mix(in srgb,transparent,var(--ag-charts-foreground-color),90%)}.ag-charts-theme-default-dark{--ag-charts-background-color:var(--ag-background-color,color-mix(in srgb,#fff,#182230 97%));--ag-charts-foreground-color:var(--ag-foreground-color,#fff);--ag-charts-border-color:var(--ag-border-color,rgba(255,255,255,0.16));--ag-charts-hover-color:var(
        --ag-row-hover-color,color-mix(in srgb,transparent,var(--ag-charts-active-color) 20%)
    );--ag-charts-axis-label-background-color:#9caebb;--ag-charts-axis-label-color:#000000;--ag-charts-toolbar-background-color:var(--ag-header-background-color,color-mix(in srgb,#fff,#182230 93%))}[class^='ag-charts-icon']{display:block;speak:none;speak:never;mask-size:contain;mask-repeat:no-repeat;background-color:currentColor}.ag-charts-icon-zoom-in{mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04Ljc1IDQuNWEuNzUuNzUgMCAwIDAtMS41IDB2Mi43NUg0LjVhLjc1Ljc1IDAgMCAwIDAgMS41aDIuNzV2Mi43NWEuNzUuNzUgMCAwIDAgMS41IDBWOC43NWgyLjc1YS43NS43NSAwIDAgMCAwLTEuNUg4Ljc1VjQuNVoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-zoom-out{mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0zLjc1IDhhLjc1Ljc1IDAgMCAxIC43NS0uNzVoN2EuNzUuNzUgMCAwIDEgMCAxLjVoLTdBLjc1Ljc1IDAgMCAxIDMuNzUgOFoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-zoom-in-alt{mask-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20taW4iPjxjaXJjbGUgY3g9IjExIiBjeT0iMTEiIHI9IjgiLz48bGluZSB4MT0iMjEiIHgyPSIxNi42NSIgeTE9IjIxIiB5Mj0iMTYuNjUiLz48bGluZSB4MT0iMTEiIHgyPSIxMSIgeTE9IjgiIHkyPSIxNCIvPjxsaW5lIHgxPSI4IiB4Mj0iMTQiIHkxPSIxMSIgeTI9IjExIi8+PC9zdmc+)}.ag-charts-icon-zoom-out-alt{mask-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20tb3V0Ij48Y2lyY2xlIGN4PSIxMSIgY3k9IjExIiByPSI4Ii8+PGxpbmUgeDE9IjIxIiB4Mj0iMTYuNjUiIHkxPSIyMSIgeTI9IjE2LjY1Ii8+PGxpbmUgeDE9IjgiIHgyPSIxNCIgeTE9IjExIiB5Mj0iMTEiLz48L3N2Zz4=)}.ag-charts-icon-reset{mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00LjQxMiA0LjA1OCAyLjc1IDIuMzk2VjYuNzVoLjc0NGEuNzYuNzYgMCAwIDAgLjAxMiAwaDMuNTk4TDUuNDc4IDUuMTI1YTQuMTI1IDQuMTI1IDAgMCAxIDIuNTIzLS44NzUgMy43NSAzLjc1IDAgMSAxLTMuMTE5IDUuODMzLjc1Ljc1IDAgMCAwLTEuMjQ3LjgzNEE1LjI1IDUuMjUgMCAxIDAgOCAyLjc1aC0uMDAzYTUuNjI1IDUuNjI1IDAgMCAwLTMuNTg1IDEuMzA4WiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-left{mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMC4wMyA0LjQ3YS43NS43NSAwIDAgMSAwIDEuMDZMNy41NiA4bDIuNDcgMi40N2EuNzUuNzUgMCAxIDEtMS4wNiAxLjA2bC0zLTNhLjc1Ljc1IDAgMCAxIDAtMS4wNmwzLTNhLjc1Ljc1IDAgMCAxIDEuMDYgMFoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-pan-right{mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik01Ljk3IDExLjUzYS43NS43NSAwIDAgMSAwLTEuMDZMOC40NCA4IDUuOTcgNS41M2EuNzUuNzUgMCAwIDEgMS4wNi0xLjA2bDMgM2EuNzUuNzUgMCAwIDEgMCAxLjA2bC0zIDNhLjc1Ljc1IDAgMCAxLTEuMDYgMFoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-pan-start{mask-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWNoZXZyb24tZmlyc3QiPjxwYXRoIGQ9Im0xNyAxOC02LTYgNi02Ii8+PHBhdGggZD0iTTcgNnYxMiIvPjwvc3ZnPg==)}.ag-charts-icon-pan-end{mask-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWNoZXZyb24tbGFzdCI+PHBhdGggZD0ibTcgMTggNi02LTYtNiIvPjxwYXRoIGQ9Ik0xNyA2djEyIi8+PC9zdmc+)}.ag-charts-icon-trend-line{mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMi41IiBjeT0iOCIgcj0iMS43NSIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjEuNSIvPjxjaXJjbGUgY3g9IjEzLjUiIGN5PSI4IiByPSIxLjc1IiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjEuNSIgZD0iTTQgOGg4Ii8+PC9zdmc+)}.ag-charts-icon-horizontal-line{mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMC4zODYgOC43NWEyLjUwMSAyLjUwMSAwIDAgMS00Ljc3MiAwSC43NWEuNzUuNzUgMCAwIDEgMC0xLjVoNC44NjRhMi41MDEgMi41MDEgMCAwIDEgNC43NzIgMGg0Ljg2NGEuNzUuNzUgMCAwIDEgMCAxLjVoLTQuODY0Wk05IDhhMSAxIDAgMSAxLTIgMCAxIDEgMCAwIDEgMiAwWiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-vertical-line{mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04Ljc1IDUuNjE0YTIuNTAxIDIuNTAxIDAgMCAxIDAgNC43NzJ2NC44NjRhLjc1Ljc1IDAgMCAxLTEuNSAwdi00Ljg2NGEyLjUwMSAyLjUwMSAwIDAgMSAwLTQuNzcyVi43NWEuNzUuNzUgMCAwIDEgMS41IDB2NC44NjRaTTggN2ExIDEgMCAxIDEgMCAyIDEgMSAwIDAgMSAwLTJaIiBmaWxsPSIjMDAwIi8+PC9zdmc+)}.ag-charts-icon-parallel-channel{mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC40MjQgNC45MmEyLjUgMi41IDAgMSAwLTMuMzc3LTIuMTRsLTYuNjMgMi45YTIuNTAxIDIuNTAxIDAgMSAwIC42MDcgMS4zNzJsNi41ODUtMi44OGEyLjUwMSAyLjUwMSAwIDAgMCAyLjgxNS43NDhabS4wNS0yLjY5M2ExIDEgMCAxIDEtMS44Ny43MDggMSAxIDAgMCAxIDEuODctLjcwOFptLTExIDQuNzVhMSAxIDAgMSAxLTEuODcuNzA4IDEgMSAwIDAgMSAxLjg3LS43MDhabTEuNTUgNi4wNzVhMi41MDEgMi41MDEgMCAxIDEtLjYwNy0xLjM3Mmw2LjYzLTIuOWEyLjUwMSAyLjUwMSAwIDEgMSAuNTYyIDEuMzkxbC02LjU4NSAyLjg4Wm0tMS41NS0uMDc1YTEgMSAwIDEgMS0xLjg3LjcwOCAxIDEgMCAwIDEgMS44Ny0uNzA4Wm0xMC40Mi0zLjQ2YTEgMSAwIDEgMC0uNzA5LTEuODcgMSAxIDAgMCAwIC43MDggMS44N1oiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-disjoint-channel{mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC40MjQgNC45MmEyLjUgMi41IDAgMSAwLTMuMzgzLTIuNDUzTDQuNjkgNC4wNTVhMi41IDIuNSAwIDEgMCAuMzQ0IDEuNDZsNi4zOTItMS41OThhMi41MDEgMi41MDEgMCAwIDAgMyAxLjAwM1ptLjA1LTIuNjkzYTEgMSAwIDEgMS0xLjg3LjcwOCAxIDEgMCAwIDEgMS44Ny0uNzA4Wm0tMTEgMi43NWExIDEgMCAxIDEtMS44Ny43MDggMSAxIDAgMCAxIDEuODctLjcwOFptMS41NiA1LjQyYTIuNSAyLjUgMCAxIDAtLjM0NSAxLjQ2MWw2LjM1MiAxLjU4OGEyLjUgMi41IDAgMSAwIC4zODQtMS40NWwtNi4zOTItMS41OThabS0xLjU2LjUzOGExIDEgMCAxIDAtMS44Ny0uNzA4IDEgMSAwIDAgMCAxLjg3LjcwOFptMTAuNDIgMS40NjFhMSAxIDAgMSAxLS43MDkgMS44NyAxIDEgMCAwIDEgLjcwOC0xLjg3WiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-line-color{mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEyLjc4OC41ODNhMi42MyAyLjYzIDAgMCAwLTEuODYuNzdMOS41NDQgMi43MzhhLjc1Ny43NTcgMCAwIDAtLjE0LjE0TDIuMDMyIDEwLjI1di4wMDFjLS4yNDIuMjQxLS40Mi41MzgtLjUyLjg2NGwtLjAwMi4wMDItLjg4IDIuOTAyLS4wMDEuMDAzYTEuMDgzIDEuMDgzIDAgMCAwIDEuMzUgMS4zNDdoLjAwMWwyLjkwMi0uODhoLjAwMWMuMzI2LS4xLjYyMy0uMjc3Ljg2NS0uNTE4di0uMDAxbDcuMzc1LTcuMzc2YS43NjMuNzYzIDAgMCAwIC4xMzktLjEzOWwxLjM4NC0xLjM4NEEyLjYzIDIuNjMgMCAwIDAgMTIuNzg4LjU4M1ptLS4xMjYgNC4zNTIuOTI0LS45MjRhMS4xMyAxLjEzIDAgMCAwLTEuNTk3LTEuNTk3bC0uOTI0LjkyNCAxLjU5NyAxLjU5N1ptLTIuNjU3LS41MzYtNi45MTMgNi45MTRIMy4wOWEuNTgzLjU4MyAwIDAgMC0uMTQ2LjI0MmwtLjY1MyAyLjE1MyAyLjE1NS0uNjU0YS41ODMuNTgzIDAgMCAwIC4yNDEtLjE0NGw2LjkxNC02LjkxNC0xLjU5Ny0xLjU5N1oiIGZpbGw9IiMwMDAiLz48L2c+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMCAwaDE2djE2SDB6Ii8+PC9jbGlwUGF0aD48L2RlZnM+PC9zdmc+)}.ag-charts-icon-delete{mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjA4MyAyLjY2N2MwLS4wOS4wNTMtLjI0Mi4xOTctLjM4Ny4xNDUtLjE0NC4yOTctLjE5Ny4zODctLjE5N2gyLjY2N2MuMDg5IDAgLjI0MS4wNTMuMzg2LjE5Ny4xNDUuMTQ1LjE5Ny4yOTcuMTk3LjM4N3YuNTgzSDYuMDg0di0uNTgzWk01LjMzIDQuNzVIMTEuOTE3djguNTgzYzAgLjA5LS4wNTIuMjQyLS4xOTcuMzg3LS4xNDUuMTQ0LS4yOTcuMTk3LS4zODYuMTk3SDQuNjY3Yy0uMDkgMC0uMjQyLS4wNTMtLjM4Ny0uMTk3LS4xNDQtLjE0NS0uMTk3LS4yOTctLjE5Ny0uMzg3VjQuNzVINS4zM1ptLS43NDUtMS41di0uNTgzYzAtLjU3OC4yOC0xLjA5Mi42MzYtMS40NDcuMzU1LS4zNTYuODctLjYzNyAxLjQ0Ny0uNjM3aDIuNjY3Yy41NzcgMCAxLjA5MS4yODEgMS40NDcuNjM3LjM1NS4zNTUuNjM2Ljg3LjYzNiAxLjQ0N3YuNTgzSDE0YS43NS43NSAwIDAgMSAwIDEuNWgtLjU4M3Y4LjU4M2MwIC41NzgtLjI4MSAxLjA5Mi0uNjM2IDEuNDQ3LS4zNTYuMzU2LS44Ny42MzctMS40NDcuNjM3SDQuNjY3Yy0uNTc3IDAtMS4wOTItLjI4MS0xLjQ0Ny0uNjM3LS4zNTUtLjM1NS0uNjM3LS44Ny0uNjM3LTEuNDQ3VjQuNzVIMmEuNzUuNzUgMCAwIDEgMC0xLjVoMi41ODNabTIuMDgzIDMuMzMzYS43NS43NSAwIDAgMSAuNzUuNzV2NGEuNzUuNzUgMCAxIDEtMS41IDB2LTRhLjc1Ljc1IDAgMCAxIC43NS0uNzVabTMuNDE3Ljc1YS43NS43NSAwIDAgMC0xLjUgMHY0YS43NS43NSAwIDEgMCAxLjUgMHYtNFoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-lock{mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjE3MyAyLjg0YTIuNTgzIDIuNTgzIDAgMCAxIDQuNDEgMS44Mjd2MS45MTZINS40MTZWNC42NjdjMC0uNjg1LjI3My0xLjM0My43NTctMS44MjdaTTMuOTE3IDYuNTgzVjQuNjY3YTQuMDgzIDQuMDgzIDAgMCAxIDguMTY2IDB2MS45MTZoLjU4NGMxLjE1IDAgMi4wODMuOTMzIDIuMDgzIDIuMDg0djQuNjY2YzAgMS4xNS0uOTMzIDIuMDg0LTIuMDgzIDIuMDg0SDMuMzMzYTIuMDgzIDIuMDgzIDAgMCAxLTIuMDgzLTIuMDg0VjguNjY3YzAtMS4xNTEuOTMzLTIuMDg0IDIuMDgzLTIuMDg0aC41ODNabTcuNDE2IDEuNWgtOGEuNTgzLjU4MyAwIDAgMC0uNTgzLjU4NHY0LjY2NmMwIC4zMjIuMjYxLjU4NC41ODMuNTg0aDkuMzM0YS41ODMuNTgzIDAgMCAwIC41ODMtLjU4NFY4LjY2N2EuNTgzLjU4MyAwIDAgMC0uNTgzLS41ODRoLTEuMzM0WiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-unlock{mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjkyMyAyLjg0YTIuNTgzIDIuNTgzIDAgMCAxIDMuNjUzIDAgMyAzIDAgMCAxIC41Ny43OThjLjEzNC4yNzguMTcuNDc0LjE3LjU0NWEuNzUuNzUgMCAwIDAgMS41IDBjMC0uMzgxLS4xMzItLjgwOS0uMzItMS4xOThhNC41MDEgNC41MDEgMCAwIDAtLjg1OS0xLjIwNiA0LjA4MyA0LjA4MyAwIDAgMC02Ljk3IDIuODg4djEuOTE2aC0uNTg0QzIuOTMzIDYuNTgzIDIgNy41MTYgMiA4LjY2N3Y0LjY2NmMwIDEuMTUuOTMzIDIuMDg0IDIuMDgzIDIuMDg0aDkuMzM0YzEuMTUgMCAyLjA4My0uOTMzIDIuMDgzLTIuMDg0VjguNjY3YzAtMS4xNTEtLjkzMy0yLjA4NC0yLjA4My0yLjA4NGgtNy4yNVY0LjY2N2MwLS42ODUuMjcyLTEuMzQzLjc1Ni0xLjgyN1pNNS40MTcgOC4wODNINC4wODJhLjU4My41ODMgMCAwIDAtLjU4My41ODR2NC42NjZjMCAuMzIyLjI2MS41ODQuNTgzLjU4NGg5LjMzNGEuNTgzLjU4MyAwIDAgMCAuNTgzLS41ODRWOC42NjdhLjU4My41ODMgMCAwIDAtLjU4My0uNTg0aC04WiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-plus{mask-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXBsdXMiPjxwYXRoIGQ9Ik01IDEyaDE0Ii8+PHBhdGggZD0iTTEyIDV2MTQiLz48L3N2Zz4=)}.ag-charts-icon-crossline-add-line{mask-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNOC43NSA0LjVhLjc1Ljc1IDAgMCAwLTEuNSAwdjIuNzVINC41YS43NS43NSAwIDAgMCAwIDEuNWgyLjc1djIuNzVhLjc1Ljc1IDAgMCAwIDEuNSAwVjguNzVoMi43NWEuNzUuNzUgMCAwIDAgMC0xLjVIOC43NXoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}`,Bx="canvas-center",g4=["styles",Bx,"canvas","canvas-proxy","canvas-overlay"],Gm=new Map([["styles",{childElementType:"style"}],["canvas",{childElementType:"canvas",eventTypes:["focus","blur"]}],["canvas-proxy",{childElementType:"div"}],["canvas-overlay",{childElementType:"div"}],[Bx,{childElementType:"div"}]]);function m4(e,t){if(typeof IntersectionObserver>"u")return;const n=new IntersectionObserver(i=>{for(const r of i)r.target===e&&t(r.intersectionRatio)},{root:e});return n.observe(e),n}var FE=class extends ar{constructor(e){super(),this.containerSize=void 0,this.sizeMonitor=new h4;const t=un("div");t.innerHTML=p4,this.element=t.children.item(0),this.rootElements=g4.reduce((i,r)=>{const s=`ag-charts-${r}`,o=this.element.classList.contains(s)?this.element:this.element.querySelector(`.${s}`);if(!o)throw new Error(`AG Charts - unable to find DOM element ${s}`);return i[r]={element:o,children:new Map,listeners:[]},i},{});let n=!1;this.observer=m4(this.element,i=>{i===0&&!n&&this.listeners.dispatch("hidden",{type:"hidden"}),n=i===0}),this.setSizeOptions(),this.addStyles("dom-manager",f4),e&&this.setContainer(e)}destroy(){var e,t;super.destroy(),(e=this.observer)==null||e.unobserve(this.element),this.container&&this.sizeMonitor.unobserve(this.container),Object.values(this.rootElements).forEach(n=>{n.children.forEach(i=>i.remove()),n.element.remove()}),(t=this.guardedElement)==null||t.destroy(),this.element.remove()}setSizeOptions(e=300,t=300,n,i){const{style:r}=this.element;r.width=`${n??e}px`,r.height=`${i??t}px`}updateContainerSize(){var t,n;const{style:e}=this.rootElements[Bx].element;e.width=`${((t=this.containerSize)==null?void 0:t.width)??0}px`,e.height=`${((n=this.containerSize)==null?void 0:n.height)??0}px`}setContainer(e){e!==this.container&&(this.container&&(this.container.removeChild(this.element),this.sizeMonitor.unobserve(this.container)),e.appendChild(this.element),this.sizeMonitor.observe(e,t=>{this.containerSize=t,this.updateContainerSize(),this.listeners.dispatch("resize",{type:"resize"})}),this.container=e,this.listeners.dispatch("container-changed",{type:"container-changed"}))}setThemeClass(e){const t="ag-charts-theme-";this.element.classList.forEach(n=>{n.startsWith(t)&&n!==e&&this.element.classList.remove(n)}),this.element.classList.add(e)}createTabGuards(){const e=this.rootElements.canvas.element.querySelector("canvas"),t=this.element.querySelectorAll(".ag-charts-tab-guard");if(e==null||t[0]==null||t[1]==null)throw new Error("AG Charts - error initialising canvas tab guards");return new d4(e,t[0],t[1])}setTabIndex(e){this.guardedElement??(this.guardedElement=this.createTabGuards()),this.guardedElement.tabIndex=e}getBrowserFocusDelta(){var e;return((e=this.guardedElement)==null?void 0:e.getBrowserFocusDelta())??0}addEventListener(e,t,n){this.element.addEventListener(e,t,n),Gm.forEach((i,r)=>{var o;if(!((o=i.eventTypes)!=null&&o.includes(e)))return;const s=this.rootElements[r];s.listeners.push([e,t,n]),s.children.forEach(a=>{a.addEventListener(e,t)})})}removeEventListener(e,t,n){this.element.removeEventListener(e,t,n),Gm.forEach((i,r)=>{var o;if(!((o=i.eventTypes)!=null&&o.includes(e)))return;const s=this.rootElements[r];s.listeners=s.listeners.filter(([a,l])=>a!==e&&l!==t),s.children.forEach(a=>{a.removeEventListener(e,t,n)})})}getBoundingClientRect(){return this.rootElements.canvas.element.getBoundingClientRect()}getDocumentRoot(){var n,i;const e=((i=(n=this.container)==null?void 0:n.ownerDocument)==null?void 0:i.body)??gs("body");let t=this.container;for(;t!=null;){if(t===e)return;if(t.parentNode instanceof DocumentFragment)return t;t=t.parentNode}}getChildBoundingClientRect(e){const{children:t}=this.rootElements[e],n=[];for(const i of t.values())n.push(re.fromDOMRect(i.getBoundingClientRect()));return re.merge(n)}calculateCanvasPosition(e){let t=0,n=0;const{x:i=0,y:r=0}=this.getChildBoundingClientRect("canvas")??{},s=e.getBoundingClientRect();return t=s.x-i,n=s.y-r,{x:t,y:n}}isManagedDOMElement(e,t=this.element){for(;e&&e!==t;){if(e.parentElement==null)return!1;e=e.parentElement}return!0}isManagedChildDOMElement(e,t,n){const{children:i}=this.rootElements[t],r=i==null?void 0:i.get(n);return r!=null&&this.isManagedDOMElement(e,r)}isEventOverElement(e){let t=e.target;if(t==null)return!1;for(;t!==this.element;)if(t=t.parentElement,t==null)return!1;return!0}addStyles(e,t){const n=this.addChild("styles",e);n.innerHTML=t}removeStyles(e){this.removeChild("styles",e)}updateCursor(e){this.element.style.cursor=e}getCursor(){return this.element.style.cursor}addChild(e,t,n){const{element:i,children:r,listeners:s}=this.rootElements[e];if(!r)throw new Error("AG Charts - unable to create DOM elements after destroy()");if(r.has(t))return r.get(t);const{childElementType:o="div"}=Gm.get(e)??{};if(n&&n.tagName.toLowerCase()!==o.toLowerCase())throw new Error("AG Charts - mismatching DOM element type");const a=n??un(o);for(const[l,c,u]of s)a.addEventListener(l,c,u);return r.set(t,a),i==null||i.appendChild(a),a}removeChild(e,t){var i;const{children:n}=this.rootElements[e];n&&n.has(t)&&((i=n.get(t))==null||i.remove(),n.delete(t))}incrementDataCounter(e){const{dataset:t}=this.element;t[e]??(t[e]="0"),t[e]=String(Number(t[e])+1)}};function y4(e,t){const n=-t/e;return e!==0&&n>=0&&n<=1?[n]:[]}function v4(e,t,n){if(e===0)return y4(t,n);const i=t*t-4*e*n,r=[];if(i===0){const s=-t/(2*e);s>=0&&s<=1&&r.push(s)}else if(i>0){const s=Math.sqrt(i),o=(-t-s)/(2*e),a=(-t+s)/(2*e);o>=0&&o<=1&&r.push(o),a>=0&&a<=1&&r.push(a)}return r}function x4(e,t,n,i){if(e===0)return v4(t,n,i);const r=t/e,s=n/e,o=i/e,a=(3*s-r*r)/9,l=(9*r*s-27*o-2*r*r*r)/54,c=a*a*a+l*l,u=1/3,d=[];if(c>=0){const h=Math.sqrt(c),p=Math.sign(l+h)*Math.pow(Math.abs(l+h),u),f=Math.sign(l-h)*Math.pow(Math.abs(l-h),u),g=Math.abs(Math.sqrt(3)*(p-f)/2),v=-u*r+(p+f);if(v>=0&&v<=1&&d.push(v),g===0){const y=-u*r-(p+f)/2;y>=0&&y<=1&&d.push(y)}}else{const h=Math.acos(l/Math.sqrt(-a*a*a)),p=u*r,f=2*Math.sqrt(-a),g=f*Math.cos(u*h)-p,v=f*Math.cos(u*(h+2*Math.PI))-p,y=f*Math.cos(u*(h+4*Math.PI))-p;g>=0&&g<=1&&d.push(g),v>=0&&v<=1&&d.push(v),y>=0&&y<=1&&d.push(y)}return d}function Ml(e,t,n,i,r,s,o,a){const l=(n-e)*(a-s)-(i-t)*(o-r);if(l===0)return 0;const c=((o-r)*(t-s)-(e-r)*(a-s))/l,u=((n-e)*(t-s)-(i-t)*(e-r))/l;return c>=0&&c<=1&&u>=0&&u<=1?1:0}function b4(e,t,n,i,r,s,o,a,l,c,u,d){let h=0;const p=c-d,f=u-l,g=l*(d-c)-c*(u-l),v=WM(e,n,r,o),y=WM(t,i,s,a),m=p*v[0]+f*y[0],x=p*v[1]+f*y[1],S=p*v[2]+f*y[2],D=p*v[3]+f*y[3]+g,M=x4(m,x,S,D);for(const C of M){const k=C*C,L=C*k,T=v[0]*L+v[1]*k+v[2]*C+v[3],O=y[0]*L+y[1]*k+y[2]*C+y[3];let Y;l===u?Y=(O-c)/(d-c):Y=(T-l)/(u-l),Y>=0&&Y<=1&&h++}return h}function WM(e,t,n,i){return[-e+3*t-3*n+i,3*e-6*t+3*n,-3*e+3*t,e]}function BE(e,t,n,i,r,s,o,a,l,c){if(isNaN(e)||isNaN(t))return 0;s&&([r,i]=[i,r]);const u=(c-a)/(l-o),d=a-u*o,h=Math.pow(u,2)+1,p=2*(u*(d-t)-e),f=Math.pow(e,2)+Math.pow(d-t,2)-Math.pow(n,2),g=Math.pow(p,2)-4*h*f;if(g<0)return 0;const v=(-p+Math.sqrt(g))/2/h,y=(-p-Math.sqrt(g))/2/h;let m=0;return[v,y].forEach(x=>{if(!(x>=Math.min(o,l)&&x<=Math.max(o,l)))return;const D=u*x+d,M=x-e,C=D-t,k=Math.atan2(C,M);qs(k,i,r)&&m++}),m}var Cd=class{constructor(){this.path2d=new Path2D,this.previousCommands=[],this.previousParams=[],this.previousClosedPath=!1,this.commands=[],this.params=[],this.openedPath=!1,this.closedPath=!1}isDirty(){return this.closedPath!==this.previousClosedPath||this.previousCommands.length!==this.commands.length||this.previousParams.length!==this.params.length||this.previousCommands.toString()!==this.commands.toString()||this.previousParams.toString()!==this.params.toString()}getPath2D(){return this.path2d}moveTo(e,t){this.openedPath=!0,this.path2d.moveTo(e,t),this.commands.push(0),this.params.push(e,t)}lineTo(e,t){this.openedPath?(this.path2d.lineTo(e,t),this.commands.push(1),this.params.push(e,t)):this.moveTo(e,t)}rect(e,t,n,i){this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+i),this.lineTo(e,t+i),this.closePath()}roundRect(e,t,n,i,r){r=Math.min(r,n/2,i/2),this.moveTo(e,t+r),this.arc(e+r,t+r,r,Math.PI,1.5*Math.PI),this.lineTo(e+r,t),this.lineTo(e+n-r,t),this.arc(e+n-r,t+r,r,1.5*Math.PI,2*Math.PI),this.lineTo(e+n,t+r),this.lineTo(e+n,t+i-r),this.arc(e+n-r,t+i-r,r,0,Math.PI/2),this.lineTo(e+n-r,t+i),this.lineTo(e+r,t+i),this.arc(e+ +r,t+i-r,r,Math.PI/2,Math.PI),this.lineTo(e,t+i-r),this.closePath()}arc(e,t,n,i,r,s){this.openedPath=!0,this.path2d.arc(e,t,n,i,r,s),this.commands.push(2),this.params.push(e,t,n,i,r,s?1:0)}cubicCurveTo(e,t,n,i,r,s){this.openedPath||this.moveTo(e,t),this.path2d.bezierCurveTo(e,t,n,i,r,s),this.commands.push(3),this.params.push(e,t,n,i,r,s)}closePath(){this.openedPath&&(this.path2d.closePath(),this.commands.push(4),this.openedPath=!1,this.closedPath=!0)}clear(e){e&&(this.previousCommands=this.commands,this.previousParams=this.params,this.previousClosedPath=this.closedPath),this.path2d=new Path2D,this.openedPath=!1,this.closedPath=!1,this.commands=[],this.params=[]}isPointInPath(e,t){const n=this.commands,i=this.params,r=n.length,s=-1e4,o=-1e4;let a=NaN,l=NaN,c=0,u=0,d=0;for(let h=0,p=0;h<r;h++)switch(n[h]){case 0:d+=Ml(a,l,c,u,s,o,e,t),c=i[p++],a=c,u=i[p++],l=u;break;case 1:d+=Ml(c,u,i[p++],i[p++],s,o,e,t),c=i[p-2],u=i[p-1];break;case 3:d+=b4(c,u,i[p++],i[p++],i[p++],i[p++],i[p++],i[p++],s,o,e,t),c=i[p-2],u=i[p-1];break;case 2:const f=i[p++],g=i[p++],v=i[p++],y=i[p++],m=i[p++],x=!!i[p++];if(d+=BE(f,g,v,y,m,x,s,o,e,t),!isNaN(a)){const S=f+Math.cos(y)*v,D=g+Math.sin(y)*v;d+=Ml(c,u,S,D,s,o,e,t)}c=f+Math.cos(m)*v,u=g+Math.sin(m)*v;break;case 4:d+=Ml(a,l,c,u,s,o,e,t);break}return d%2===1}distanceSquared(e,t){let n=1/0;const i=this.commands,r=this.params,s=i.length;let o=NaN,a=NaN,l=0,c=0;for(let u=0,d=0;u<s;u++)switch(i[u]){case 0:l=o=r[d++],c=a=r[d++];break;case 1:{const h=r[d++],p=r[d++];n=Tp(e,t,l,c,h,p,n);break}case 3:$.error("Command.Curve distanceSquare not implemented");break;case 2:{const h=r[d++],p=r[d++],f=r[d++],g=r[d++],v=r[d++],y=h+Math.cos(g)*f,m=p+Math.sin(g)*f,x=!!r[d++];n=Tp(e,t,l,c,y,m,n),n=I3(e,t,h,p,f,g,v,x,n),l=h+Math.cos(v)*f,c=p+Math.sin(v)*f;break}case 4:n=Tp(e,t,l,c,o,a,n);break}return n}getPoints(){const{commands:e,params:t}=this,n=[];let i=0;for(let r=0;r<e.length;r++)switch(e[r]){case 0:case 1:n.push({x:t[i++],y:t[i++]});break;case 3:i+=4,n.push({x:t[i++],y:t[i++]});break;case 2:n.push({x:t[i++],y:t[i++]}),i+=4;break}return n}computeSVGDataPath(e,t){const n=[],{commands:i,params:r}=this;let s=0;for(let o=0;o<i.length;o++)switch(i[o]){case 0:n.push("M",e+r[s++],t+r[s++]);break;case 1:n.push("L",e+r[s++],t+r[s++]);break;case 3:n.push("C",e+r[s++],t+r[s++],e+r[s++],t+r[s++],e+r[s++],t+r[s++]);break;case 2:const[a,l,c,u,d,h]=[r[s++],r[s++],r[s++],r[s++],r[s++],r[s++]],p=e+a+Math.cos(u)*c,f=t+l+Math.sin(u)*c,g=e+a+Math.cos(d)*c,v=t+l+Math.sin(d)*c,y=XL(u,d,!!h)>Math.PI?1:0,m=(h+1)%2;n.push("L",p,f,"A",c,c,0,y,m,g,v);break;case 4:n.push("Z");break}return n.join(" ")}};function we(e){const{redraw:t=3,changeCb:n,convertor:i}=e??{};return ne({redraw:t,type:"path",convertor:i,changeCb:n})}var zn=class extends Gi{constructor(){super(...arguments),this.path=new Cd,this._clipX=NaN,this._clipY=NaN,this._dirtyPath=!0}set clipX(e){this._clipX=e,this.dirtyPath=!0}set clipY(e){this._clipY=e,this.dirtyPath=!0}set dirtyPath(e){this._dirtyPath!==e&&(this._dirtyPath=e,e&&this.markDirty(this,3))}get dirtyPath(){return this._dirtyPath}checkPathDirty(){var e,t;this._dirtyPath||(this.dirtyPath=this.path.isDirty()||(((e=this.fillShadow)==null?void 0:e.isDirty())??!1)||(((t=this._clipPath)==null?void 0:t.isDirty())??!1))}isPointInPath(e,t){const n=this.transformPoint(e,t);return this.path.closedPath&&this.path.isPointInPath(n.x,n.y)}distanceSquared(e,t){const n=this.transformPoint(e,t);return this.distanceSquaredTransformedPoint(n.x,n.y)}computeSVGDataPath(){const{x:e,y:t}=this.inverseTransformPoint(0,0);return this.path.computeSVGDataPath(e,t)}distanceSquaredTransformedPoint(e,t){return this.path.closedPath&&this.path.isPointInPath(e,t)?0:this.path.distanceSquared(e,t)}isDirtyPath(){return!1}updatePath(){}render(e){var r,s,o;const{ctx:t,forceRender:n,stats:i}=e;if(this.dirty===0&&!n){i&&(i.nodesSkipped+=this.nodeCount.count);return}if(this.computeTransformMatrix(),this.matrix.toContext(t),(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1),!isNaN(this._clipX)&&!isNaN(this._clipY)&&this.clipMode!=null){t.save();const a=this.strokeWidth/2;if(this._clipPath??(this._clipPath=new Cd),this._clipPath.clear(),this._clipPath.rect(-a,-a,this._clipX+a,this._clipY+a+a),this.clipMode==="normal"&&t.clip((r=this._clipPath)==null?void 0:r.getPath2D()),this._clipX>0&&this._clipY>0&&this.drawPath(t),this.clipMode==="punch-out"){t.clip((s=this._clipPath)==null?void 0:s.getPath2D());const{x:l=-1e4,y:c=-1e4,width:u=2e4,height:d=2e4}=this.computeBBox()??{};t.clearRect(l,c,u,d)}t.restore()}else this.drawPath(t);(o=this.fillShadow)==null||o.markClean(),super.render(e)}drawPath(e){this.fillStroke(e,this.path.getPath2D())}};zn.className="Path";b([we()],zn.prototype,"clipMode",2);b([we()],zn.prototype,"clipX",1);b([we()],zn.prototype,"clipY",1);var zE={};Wr(zE,{block:()=>Nv,css:()=>w4,elements:()=>S4,modifiers:()=>Rv});var w4=".ag-charts-focus.ag-charts-focus__indicator{position:absolute;display:block;pointer-events:none;user-select:none;width:100%;height:100%}.ag-charts-focus.ag-charts-focus__indicator > div{position:absolute;outline:var(--ag-charts-focus-border);outline-width:2px;box-shadow:var(--ag-charts-focus-border-shadow)}.ag-charts-focus.ag-charts-focus__indicator > svg{width:100%;height:100%;fill:none;stroke:var(--ag-charts-focus-border-color);stroke-width:2px}.ag-charts-focus--hidden{visibility:hidden}",Nv="ag-charts-focus",S4={indicator:"ag-charts-focus__indicator",svg:"ag-charts-focus__svg"},Rv={hidden:"ag-charts-focus--hidden"},M4=class{constructor(e){this.domManager=e;const{css:t,block:n,elements:i,modifiers:r}=zE;this.div=gs().createElement("div"),this.svg=gs().createElementNS("http://www.w3.org/2000/svg","svg"),this.path=gs().createElementNS("http://www.w3.org/2000/svg","path"),this.svg.append(this.path),e.addStyles(n,t),this.element=e.addChild("canvas-overlay",n),this.element.classList.add(n,i.indicator,r.hidden),this.element.append(this.svg)}destroy(){this.domManager.removeStyles(Nv),this.domManager.removeChild("canvas-overlay",Nv)}updateBounds(e){e===void 0?this.element.classList.add(Rv.hidden):e instanceof zn?(this.path.setAttribute("d",e.computeSVGDataPath()),this.show(this.svg)):(is(this.div,e),this.show(this.div))}show(e){this.element.classList.remove(Rv.hidden),this.element.innerHTML="",this.element.append(e)}};function HM(e,t){var n;return((n=t.params)==null?void 0:n.type)===e}function UM(e){return{params:e,result:un({button:"button",slider:"input",toolbar:"div",group:"div"}[e.type])}}var D4=class{constructor(e,t,n,i){this.localeManager=t,this.domManager=n,this.focusIndicator=i,this.debugShowDOMProxies=et.check("showDOMProxies"),this.destroyFns=[],this.destroyFns.push(e.addListener("update-complete",()=>this.update()))}destroy(){this.destroyFns.forEach(e=>e())}update(){this.focusable&&this.focusIndicator.updateBounds(this.focusable.computeTransformedBBox())}addLocalisation(e){e(),this.destroyFns.push(this.localeManager.addListener("locale-changed",e))}createProxyContainer(e){const t=UM(e),{params:n,result:i}=t;return this.domManager.addChild("canvas-overlay",n.id,i),i.classList.add(...n.classList),i.style.pointerEvents="none",i.role=n.type,i.ariaOrientation=n.ariaOrientation,this.addLocalisation(()=>{i.ariaLabel=this.localeManager.t(n.ariaLabel.id,n.ariaLabel.params)}),i}createProxyElement(e){const t=UM(e);if(HM("button",t)){const{params:n,result:i}=t;if(this.initElement(n,i),typeof n.textContent=="string")i.textContent=n.textContent;else{const{textContent:r}=n;this.addLocalisation(()=>{i.textContent=this.localeManager.t(r.id,r.params)})}}if(HM("slider",t)){const{params:n,result:i}=t;this.initElement(n,i),i.type="range",i.role="presentation",i.style.margin="0px",i.ariaOrientation=n.ariaOrientation,this.addLocalisation(()=>{i.ariaLabel=this.localeManager.t(n.ariaLabel.id,n.ariaLabel.params)})}return t.result}initElement(e,t){const{focusable:n,onclick:i,onchange:r,onfocus:s,onblur:o,tabIndex:a,id:l,parent:c}=e;t.id=l,t.style.pointerEvents="none",t.style.opacity=this.debugShowDOMProxies?"0.25":"0",t.style.position="absolute",t.style.overflow="hidden",a!==void 0&&(t.tabIndex=a),c.appendChild(t),t.addEventListener("focus",u=>{this.focusable=n,t.style.setProperty("pointerEvents",null),this.focusIndicator.updateBounds(n.computeTransformedBBox())}),t.addEventListener("blur",u=>{this.focusable=void 0,t.style.pointerEvents="none",this.focusIndicator.updateBounds(void 0)}),i&&t.addEventListener("click",i),s&&t.addEventListener("focus",s),o&&t.addEventListener("blur",o),r&&t.addEventListener("change",r)}},VM=class{constructor(e){this.maxAnimationTime=e,this.debug=et.create(!0,"animation"),this.controllers=new Map,this.stoppedCbs=new Set,this.currentPhase=0,this.phases=new Map(ol.map(t=>[t,[]])),this.skipAnimations=!1,this.animationTimeConsumed=0,this.isReady=!1}get size(){return this.controllers.size}get consumedTimeMs(){return this.animationTimeConsumed}isActive(){return this.controllers.size>0}getActiveControllers(){return this.phases.get(ol[this.currentPhase])??[]}checkOverlappingId(e){e!=null&&this.controllers.has(e)&&(this.controllers.get(e).stop(),this.debug(`Skipping animation batch due to update of existing animation: ${e}`),this.skip())}addAnimation(e){var n;if(e.isComplete)return;if(ol.indexOf(e.phase)<this.currentPhase){this.debug("Skipping animation due to being for an earlier phase",e.id),e.stop();return}this.controllers.set(e.id,e),(n=this.phases.get(e.phase))==null||n.push(e)}removeAnimation(e){this.controllers.delete(e.id);const t=this.phases.get(e.phase),n=t==null?void 0:t.indexOf(e);n!=null&&n>=0&&(t==null||t.splice(n,1))}progress(e){if(!this.isReady)return;let t=e===0?.01:e;const n=()=>{const c=ol[this.currentPhase];return{phaseControllers:[...this.getActiveControllers()],phase:c,phaseMeta:bd[c]}};let{phase:i,phaseControllers:r,phaseMeta:s}=n();const o=()=>ol[this.currentPhase]==null,a=()=>{for({phase:i,phaseControllers:r,phaseMeta:s}=n();!o()&&r.length===0;)this.currentPhase++,{phase:i,phaseControllers:r,phaseMeta:s}=n(),this.debug(`AnimationBatch - phase changing to ${i}`,{unusedTime:t},r)},l=this.controllers.size;this.debug(`AnimationBatch - ${e}ms; phase ${i} with ${r==null?void 0:r.length} of ${l}`);do{const c=t,u=s.skipIfNoEarlierAnimations&&this.animationTimeConsumed===0;let d=0;for(const h of r)u?h.stop():t=Math.min(h.update(c),t),h.isComplete&&(d++,this.removeAnimation(h));this.animationTimeConsumed+=c-t,this.debug(`AnimationBatch - updated ${r.length} controllers; ${d} completed`),this.debug(`AnimationBatch - animationTimeConsumed: ${this.animationTimeConsumed}`),a()}while(t>0&&!o());this.animationTimeConsumed>this.maxAnimationTime&&($.warnOnce("Animation batch exceeded max animation time, skipping.",new Map(this.controllers.entries())),this.stop())}ready(){if(this.isReady)return;this.isReady=!0,this.debug(`AnimationBatch - ready; skipped: ${this.skipAnimations}`,[...this.controllers]);let e=!0;for(const[,t]of this.controllers)if(t.duration>0&&bd[t.phase].skipIfNoEarlierAnimations!==!0){e=!1;break}if(!e)for(const[,t]of this.controllers)t.autoplay&&t.play(!0)}skip(e=!0){if(this.skipAnimations===!1&&e===!0){for(const t of this.controllers.values())t.stop();this.controllers.clear()}this.skipAnimations=e}play(){for(const e of this.controllers.values())e.play()}pause(){for(const e of this.controllers.values())e.pause()}stop(){for(const e of this.controllers.values())try{e.stop(),this.removeAnimation(e)}catch(t){$.error("Error during animation stop",t)}this.dispatchStopped()}stopByAnimationId(e){if(e!=null&&this.controllers.has(e)){const t=this.controllers.get(e);t&&(t.stop(),this.removeAnimation(t))}}stopByAnimationGroupId(e){for(const t of this.controllers.values())t.groupId===e&&this.stopByAnimationId(t.id)}dispatchStopped(){this.stoppedCbs.forEach(e=>e()),this.stoppedCbs.clear()}isSkipped(){return this.skipAnimations}destroy(){this.stop(),this.controllers.clear()}};function KM(e){return e==null?!0:!isNaN(e)&&e>=0&&e<=2}var YE=class extends ar{constructor(e,t){super(),this.interactionManager=e,this.chartUpdateMutex=t,this.defaultDuration=1e3,this.batch=new VM(this.defaultDuration*1.5),this.debug=et.create(!0,"animation"),this.rafAvailable=typeof requestAnimationFrame<"u",this.isPlaying=!1,this.requestId=null,this.skipAnimations=!1,this.currentAnonymousAnimationId=0}animate({...e}){const t=this.batch;try{t.checkOverlappingId(e.id)}catch(a){this.failsafeOnError(a);return}let{id:n}=e;n==null&&(n=`__${this.currentAnonymousAnimationId}`,this.currentAnonymousAnimationId+=1);const i=this.isSkipped()||e.phase==="none";i&&this.debug("AnimationManager - skipping animation");const{delay:r,duration:s}=e;if(!KM(r))throw new Error(`Animation delay of ${r} is unsupported (${n})`);if(!KM(s))throw new Error(`Animation duration of ${s} is unsupported (${n})`);const o=new xL({...e,id:n,skip:i,autoplay:this.isPlaying?e.autoplay:!1,phase:e.phase,defaultDuration:this.defaultDuration});if(!this.forceTimeJump(o,this.defaultDuration))return this.batch.addAnimation(o),o}play(){if(!this.isPlaying){this.isPlaying=!0,this.debug("AnimationManager.play()");try{this.batch.play()}catch(e){this.failsafeOnError(e)}this.requestAnimation()}}pause(){if(this.isPlaying){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.pause()");try{this.batch.pause()}catch(e){this.failsafeOnError(e)}}}stop(){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.stop()"),this.batch.stop()}stopByAnimationId(e){try{this.batch.stopByAnimationId(e)}catch(t){this.failsafeOnError(t)}}stopByAnimationGroupId(e){try{this.batch.stopByAnimationGroupId(e)}catch(t){this.failsafeOnError(t)}}reset(){this.isPlaying?(this.stop(),this.play()):this.stop()}skip(e=!0){this.skipAnimations=e}isSkipped(){return!this.rafAvailable||this.skipAnimations||this.batch.isSkipped()}isActive(){return this.isPlaying&&this.batch.isActive()}skipCurrentBatch(){this.debug.check()&&this.debug("AnimationManager - skipCurrentBatch()",{stack:new Error().stack}),this.batch.skip()}isSkippingFrames(){return!0}scheduleAnimationFrame(e){this.requestId=requestAnimationFrame(e)}forceTimeJump(e,t){return!1}requestAnimation(){if(!this.rafAvailable||!this.batch.isActive()||this.requestId!==null)return;let e;const t=async n=>{const i=async()=>{const r=n-(e??n);e=n,this.debug("AnimationManager - onAnimationFrame()",{controllersCount:this.batch.size,deltaTime:r}),this.interactionManager.pushState(1);try{this.batch.progress(r)}catch(s){this.failsafeOnError(s)}this.listeners.dispatch("animation-frame",{type:"animation-frame",deltaMs:r})};this.isSkippingFrames()?await this.chartUpdateMutex.acquireImmediately(i):await this.chartUpdateMutex.acquire(i),this.batch.isActive()?this.scheduleAnimationFrame(t):(this.batch.stop(),this.listeners.dispatch("animation-stop",{type:"animation-stop",deltaMs:this.batch.consumedTimeMs}))};this.listeners.dispatch("animation-start",{type:"animation-start",deltaMs:0}),this.scheduleAnimationFrame(t)}cancelAnimation(){this.requestId!==null&&(cancelAnimationFrame(this.requestId),this.requestId=null,this.startBatch())}failsafeOnError(e,t=!0){$.error("Error during animation, skipping animations",e),t&&this.cancelAnimation()}startBatch(e){this.debug(`AnimationManager - startBatch() with skipAnimations=${e}.`),this.reset(),this.batch.stop(),this.batch.destroy(),this.batch=new VM(this.defaultDuration*1.5),e===!0&&this.batch.skip()}endBatch(){this.batch.isActive()?(this.batch.ready(),this.requestAnimation()):(this.interactionManager.popState(1),this.batch.isSkipped()&&this.batch.skip(!1))}onBatchStop(e){this.batch.stoppedCbs.add(e)}},k4=class GE{constructor(t,n,i){this.localeManager=t,this.domManager=n,this.layoutService=i,this.debug=et.create(!0,"aria"),this.destroyFns=[],this.liveElem=GE.createAnnouncer(),this.domManager.addChild("canvas-proxy","ag-charts-canvas-proxy",this.liveElem),this.destroyFns.push(this.layoutService.addListener("layout-complete",r=>this.onResize(r)),()=>this.domManager.removeChild("canvas-proxy","ag-charts-canvas-proxy"))}static createAnnouncer(){const t=gs().createElement("div");return t.classList.add("ag-charts-aria-announcer"),Ra(t,"role","figure"),Ra(t,"aria-live","assertive"),t}destroy(){this.destroyFns.forEach(t=>t())}onResize(t){this.liveElem.style.width=`${t.chart.width}px`,this.liveElem.style.height=`${t.chart.height}px`}announceValue(t,n){const{localeManager:i,liveElem:r}=this,s=i.t(t,n);this.debug(`AriaAnnouncementService - announceValue: ${s}`),r.textContent=" ",setTimeout(()=>r.innerText=s,16)}},jE=class extends ar{legendItemClick(e,t,n,i){const r={type:"legend-item-click",series:e,itemId:t,enabled:n,legendItemName:i};this.listeners.dispatch("legend-item-click",r)}legendItemDoubleClick(e,t,n,i,r){const s={type:"legend-item-double-click",series:e,itemId:t,enabled:n,legendItemName:r,numVisibleItems:i};this.listeners.dispatch("legend-item-double-click",s)}axisHover(e,t){const n={type:"axis-hover",axisId:e,direction:t};this.listeners.dispatch("axis-hover",n)}},WE=class HE{constructor(t){this.defaultActions=[],this.disabledActions=new Set,this.hiddenActions=new Set,this.listeners=new _o;const{Default:n,ContextMenu:i}=ic;this.destroyFns=[t.listenAll("contextmenu",r=>this.onContextMenu(r),n|i)]}destroy(){this.destroyFns.forEach(t=>t())}onContextMenu(t){HE.toContextType(t.region)==="all"&&this.dispatchContext("all",t,{})}static toContextType(t){return t==="legend"||t==="series"?t:"all"}static check(t,n){return n.type===t}static checkCallback(t,n,i){return t===n}dispatchContext(t,n,i){const{offsetX:r,offsetY:s,sourceEvent:o}=n;this.listeners.dispatch("",kd({type:t,x:r,y:s,context:i,sourceEvent:o}))}addListener(t){return this.listeners.addListener("",t)}filterActions(t){return this.defaultActions.filter(n=>n.id&&!this.hiddenActions.has(n.id)&&["all",t].includes(n.type))}registerDefaultAction(t){t.id&&this.defaultActions.find(({id:n})=>n===t.id)||this.defaultActions.push(t)}enableAction(t){this.disabledActions.delete(t)}disableAction(t){this.disabledActions.add(t)}setActionVisiblity(t,n){n?this.hiddenActions.delete(t):this.hiddenActions.add(t)}isDisabled(t){return this.disabledActions.has(t)}},rc=class extends Map{constructor(e,t){super(),this.defaultValue=e,this.defaultState=t}set(e,t){return this.delete(e),typeof t<"u"&&super.set(e,t),this}stateId(){return Array.from(this.keys()).pop()??this.defaultState}stateValue(){return Array.from(this.values()).pop()??this.defaultValue}},UE=(e=>(e.Auto="auto",e.Default="default",e.Grab="grab",e.Grabbing="grabbing",e.Move="move",e.NotAllowed="not-allowed",e.Pointer="pointer",e.EWResize="ew-resize",e.NSResize="ns-resize",e.ZoomIn="zoom-in",e.ZoomOut="zoom-out",e))(UE||{}),VE=class{constructor(e){this.domManager=e,this.stateTracker=new rc("default")}updateCursor(e,t){this.stateTracker.set(e,t),this.domManager.updateCursor(this.stateTracker.stateValue())}getCursor(){return this.domManager.getCursor()}};function C4(e,t){const n=e.screenX-t.screenX,i=e.screenY-t.screenY;return n*n+i*i}function $M(e,t){return Math.sqrt(C4(e,t))}var L4=1,KE=class extends ar{constructor(e){super(),this.domManager=e,this.touchstart=t=>this.onTouchStart(t),this.touchmove=t=>this.onTouchMove(t),this.touchend=t=>this.onTouchEnd(t),this.touchcancel=t=>this.onTouchCancel(t),this.pinch={finger1:{identifier:NaN,screenX:NaN,screenY:NaN},finger2:{identifier:NaN,screenX:NaN,screenY:NaN},origin:{x:NaN,y:NaN},distance:NaN,status:0},this.domManager.addEventListener("touchstart",this.touchstart,{passive:!0}),this.domManager.addEventListener("touchmove",this.touchmove,{passive:!1}),this.domManager.addEventListener("touchend",this.touchend),this.domManager.addEventListener("touchcancel",this.touchcancel)}destroy(){this.domManager.removeEventListener("touchstart",this.touchstart),this.domManager.removeEventListener("touchmove",this.touchmove),this.domManager.removeEventListener("touchend",this.touchend),this.domManager.removeEventListener("touchcancel",this.touchcancel)}findPinchTouches(e){const{touches:t}=e,{finger1:n,finger2:i}=this.pinch;if(this.pinch.status!==0&&t.length===2){if(t[0].identifier===n.identifier&&t[1].identifier===i.identifier)return[t[0],t[1]];if(t[0].identifier===i.identifier&&t[1].identifier===n.identifier)return[t[1],t[0]]}}copyTouchData(e){const t=["identifier","screenX","screenY"];la(t,this.pinch.finger1,e.touches[0]),la(t,this.pinch.finger2,e.touches[1]),this.pinch.distance=$M(this.pinch.finger1,this.pinch.finger2)}dispatchPinchEvent(e,t,n){const{finger1:i,finger2:r,origin:s}=this.pinch;this.listeners.dispatch(e,kd({sourceEvent:n,type:e,finger1:i,finger2:r,deltaDistance:t,origin:s}))}onTouchStart(e){this.stopPinchTracking(e);const{pinch:t}=this;e.touches.length===2&&(t.status=1,this.copyTouchData(e),t.origin.x=(e.touches[0].clientX+e.touches[1].clientX)/2,t.origin.y=(e.touches[0].clientY+e.touches[1].clientY)/2)}onTouchMove(e){const t=this.findPinchTouches(e);if(t!==void 0){const[n,i]=t,{pinch:r}=this,s=$M(n,i),o=s-r.distance;r.status===1?Math.abs(o)>L4&&(r.status=2,this.copyTouchData(e),this.dispatchPinchEvent("pinch-start",0,e)):r.status===2?(r.distance=s,this.copyTouchData(e),this.dispatchPinchEvent("pinch-move",o,e)):$.error(`unexpected pinch.status: ${r.status}`)}}onTouchEnd(e){this.stopPinchTracking(e)}onTouchCancel(e){this.stopPinchTracking(e)}stopPinchTracking(e){const{pinch:t}=this;t.status===2&&this.dispatchPinchEvent("pinch-end",0,e),this.pinch.status=0}},$E=class extends ar{constructor(){super(...arguments),this.highlightStates=new rc}updateHighlight(e,t){const{activeHighlight:n}=this;this.highlightStates.set(e,t),this.activeHighlight=this.highlightStates.stateValue(),this.isEqual(this.activeHighlight,n)||this.listeners.dispatch("highlight-change",{type:"highlight-change",currentHighlight:this.activeHighlight,previousHighlight:n})}getActiveHighlight(){return this.activeHighlight}isEqual(e,t){return e===t||(e==null?void 0:e.series)===(t==null?void 0:t.series)&&(e==null?void 0:e.itemId)===(t==null?void 0:t.itemId)&&(e==null?void 0:e.datum)===(t==null?void 0:t.datum)}},XE=class extends ar{constructor(e,t){super(),this.domManager=t,this.hasBrowserFocus=!1,this.isMouseBlurred=!1,this.isClicking=!1,this.destroyFns.push(e.addListener("drag-start",n=>this.onClickStart(n),31),e.addListener("click",n=>this.onClickStop(n),31),e.addListener("drag-end",n=>this.onClickStop(n),31),e.addListener("wheel",n=>this.mouseBlur(n)),e.addListener("hover",n=>this.mouseBlur(n)),e.addListener("drag",n=>this.mouseBlur(n)),e.addListener("blur",n=>this.onBlur(n),31),e.addListener("focus",n=>this.onFocus(n),31),e.addListener("keydown",n=>this.onKeyDown(n),31))}destroy(){super.destroy()}onClickStart(e){this.isClicking=!0,this.mouseBlur(e)}onClickStop(e){this.mouseBlur(e),this.isClicking=!1}mouseBlur(e){this.hasBrowserFocus&&(this.isMouseBlurred||(this.dispatch("blur",0,e),this.isMouseBlurred=!0))}onBlur(e){this.hasBrowserFocus=!1,this.isMouseBlurred=!1,this.dispatch("blur",0,e)}onFocus(e){const t=this.domManager.getBrowserFocusDelta();if(this.dispatch("browserfocus",t,e),this.hasBrowserFocus=!0,this.isClicking){this.isMouseBlurred=!0;return}this.dispatch("tab",t,e)}onKeyDown(e){if(!this.hasBrowserFocus)return;this.isMouseBlurred=!1;const{code:t,altKey:n,shiftKey:i,metaKey:r,ctrlKey:s}=e.sourceEvent;if(t==="Tab")return i?this.dispatch("tab",-1,e):this.dispatch("tab",1,e);if(!(n||i||r||s)){switch(t){case"ArrowDown":return this.dispatch("nav-vert",1,e);case"ArrowUp":return this.dispatch("nav-vert",-1,e);case"ArrowLeft":return this.dispatch("nav-hori",-1,e);case"ArrowRight":return this.dispatch("nav-hori",1,e);case"ZoomIn":case"Add":return this.dispatch("nav-zoom",1,e);case"ZoomOut":case"Substract":return this.dispatch("nav-zoom",-1,e);case"Space":case"Enter":return this.dispatch("submit",0,e);case"Escape":return this.dispatch("cancel",0,e);case"Backspace":case"Delete":return this.dispatch("delete",0,e)}switch(e.sourceEvent.key){case"+":return this.dispatch("nav-zoom",1,e);case"-":return this.dispatch("nav-zoom",-1,e)}}}dispatch(e,t,n){Np(this.listeners,{type:e,delta:t,sourceEvent:n})}},jm=["series"],XM=class extends _o{};function ZM(e,t,n,i,r=16){return(e==null?void 0:e.addListener(n,s=>{t.getState()&r&&i(s)}))??(()=>{})}var E4=class{constructor(e,t,n){this.interactionManager=e,this.keyNavManager=t,this.focusIndicator=n,this.currentTabIndex=0,this.isDragging=!1,this.leftCanvas=!1,this.regions=new Map,this.destroyFns=[],this.allRegionsListeners=new XM,this.destroyFns.push(...Rx.map(i=>e.addListener(i,this.processPointerEvent.bind(this),31)),this.keyNavManager.addListener("blur",this.onNav.bind(this)),this.keyNavManager.addListener("browserfocus",this.onBrowserFocus.bind(this)),this.keyNavManager.addListener("tab",this.onTab.bind(this)),this.keyNavManager.addListener("nav-vert",this.onNav.bind(this)),this.keyNavManager.addListener("nav-hori",this.onNav.bind(this)),this.keyNavManager.addListener("nav-zoom",this.onNav.bind(this)),this.keyNavManager.addListener("submit",this.onNav.bind(this)),this.keyNavManager.addListener("cancel",this.onNav.bind(this)),this.keyNavManager.addListener("delete",this.onNav.bind(this)))}destroy(){this.destroyFns.forEach(e=>e()),this.currentRegion=void 0;for(const e of this.regions.values())e.listeners.destroy();this.focusIndicator.destroy(),this.regions.clear()}addRegion(e,...t){if(this.regions.has(e))throw new Error(`AG Charts - Region: ${e} already exists`);const n={properties:{name:e,bboxproviders:[...t]},listeners:new XM};return this.regions.set(e,n),this.makeObserver(n)}updateRegion(e,...t){const n=this.regions.get(e);n&&(n.properties.bboxproviders=[...t])}getRegion(e){return this.makeObserver(this.regions.get(e))}listenAll(e,t,n=16){return ZM(this.allRegionsListeners,this.interactionManager,e,t,n)}makeObserver(e){const{interactionManager:t}=this;class n{addListener(r,s,o=16){return ZM(e==null?void 0:e.listeners,t,r,s,o)}}return new n}checkPointerHistory(e,t){for(const n of t.pointerHistory){const i=this.pickRegion(n.offsetX,n.offsetY);if(e.properties.name!==(i==null?void 0:i.properties.name))return!1}return!0}dispatch(e,t){if(e==null)return;const n=kd({...t,region:e.properties.name});this.allRegionsListeners.dispatch(n.type,n),e.listeners.dispatch(n.type,n)}handleDragging(e){const{currentRegion:t}=this;switch(e.type){case"drag-start":this.isDragging=!0,this.leftCanvas=!1;break;case"leave":return this.leftCanvas=!0,this.isDragging;case"enter":return this.leftCanvas=!1,this.isDragging;case"drag":if(this.isDragging)return this.dispatch(t,e),!0;break;case"drag-end":if(this.isDragging)return this.isDragging=!1,this.dispatch(t,e),this.leftCanvas&&this.dispatch(t,{...e,type:"leave"}),!0;break}return!1}processPointerEvent(e){if(this.handleDragging(e))return;const{currentRegion:t}=this,n=this.pickRegion(e.offsetX,e.offsetY);t!==void 0&&(n==null?void 0:n.properties.name)!==t.properties.name&&this.dispatch(t,{...e,type:"leave"}),n!==void 0&&n.properties.name!==(t==null?void 0:t.properties.name)&&this.dispatch(n,{...e,type:"enter"}),n!==void 0&&this.checkPointerHistory(n,e)&&this.dispatch(n,e),this.currentRegion=n}pickRegion(e,t){var r;let n=1/0,i;for(const s of this.regions.values())for(const o of s.properties.bboxproviders){const a=((r=o.computeTransformedRegionBBox)==null?void 0:r.call(o))??o.computeTransformedBBox(),l=a.width*a.height;l<n&&a.containsPoint(e,t)&&(n=l,i=s)}return i}getTabRegion(e){if(e!==void 0&&e>=0&&e<jm.length)return this.regions.get(jm[e])}getNextInteractableTabIndex(e,t){const n=t<0?-1:1;let i=e;for(;t!==0;){if(this.getTabRegion(i+n)===void 0)return;t=t-n,i=i+n}return i}validateCurrentTabIndex(){this.getTabRegion(this.currentTabIndex)!==void 0&&(this.currentTabIndex=this.getNextInteractableTabIndex(-1,1)??0)}onBrowserFocus(e){e.delta>0?this.currentTabIndex=-1:e.delta<0&&(this.currentTabIndex=jm.length)}onTab(e){this.validateCurrentTabIndex();const t=this.getNextInteractableTabIndex(this.currentTabIndex,e.delta),n=this.getTabRegion(t),i=this.getTabRegion(this.currentTabIndex);if(t!==void 0&&(this.currentTabIndex=t),i!==void 0&&(n==null?void 0:n.properties.name)!==i.properties.name){const{delta:r,sourceEvent:s}=e,o=kd({type:"blur",delta:r,sourceEvent:s});this.dispatch(i,o)}n===void 0?this.focusIndicator.updateBounds(void 0):this.dispatch(n,e)}onNav(e){const t=this.getTabRegion(this.currentTabIndex);this.dispatch(t,e)}},ZE=["start","center","end"],Wm=["annotations","annotationOptions","ranges","zoom"],Bu=(e=>(e.Top="top",e.Right="right",e.Bottom="bottom",e.Left="left",e.Floating="floating",e.FloatingTop="floating-top",e.FloatingBottom="floating-bottom",e))(Bu||{}),Dl=Object.values(Bu);function qM(e){return["floating-top","floating-bottom"].includes(e)}var qE=class extends ar{static isGroup(e,t){return t.group===e}static isChildElement(e,t){for(const n of Dl)if(e.isManagedChildDOMElement(t,"canvas-overlay",`toolbar-${n}`))return!0;return!1}pressButton(e,t){this.listeners.dispatch("button-pressed",{type:"button-pressed",group:e,value:t})}cancel(e){this.listeners.dispatch("cancelled",{type:"cancelled",group:e})}toggleButton(e,t,n){const{active:i=!1,enabled:r=!0,visible:s=!0}=n;this.listeners.dispatch("button-toggled",{type:"button-toggled",group:e,value:t,active:i,enabled:r,visible:s})}toggleGroup(e,t,n){this.listeners.dispatch("group-toggled",{type:"group-toggled",caller:e,group:t,visible:n})}changeFloatingAnchor(e,t){this.listeners.dispatch("floating-anchor-changed",{type:"floating-anchor-changed",group:e,anchor:t})}buttonMoved(e,t,n){this.listeners.dispatch("button-moved",{type:"button-moved",group:e,value:t,rect:n})}proxyGroupOptions(e,t,n){this.listeners.dispatch("proxy-group-options",{type:"proxy-group-options",caller:e,group:t,options:n})}},T4=".ag-chart-tooltip{transition:transform 0.1s ease;max-width:100%;z-index:99999;font:12px Verdana,sans-serif;color:rgb(70,70,70);box-shadow:0 4px 8px rgba(0,0,0,0.08)}.ag-chart-tooltip-wrap-always{overflow-wrap:break-word;word-break:break-word;hyphens:none}.ag-chart-tooltip-wrap-hyphenate{overflow-wrap:break-word;word-break:break-word;hyphens:auto}.ag-chart-tooltip-wrap-on-space{overflow-wrap:normal;word-break:normal}.ag-chart-tooltip-wrap-never{white-space:pre;text-overflow:ellipsis}.ag-chart-tooltip-no-interaction{pointer-events:none;user-select:none}.ag-chart-tooltip-no-animation{transition:none!important}.ag-chart-tooltip-hidden{visibility:hidden}.ag-chart-tooltip-title{overflow:hidden;position:relative;padding:8px 14px;border-top-left-radius:2px;border-top-right-radius:2px;color:white;background-color:#888888;z-index:1;text-overflow:inherit}.ag-chart-tooltip-title:only-child{border-bottom-left-radius:2px;border-bottom-right-radius:2px}.ag-chart-tooltip-content{overflow:hidden;padding:6px 14px;line-height:1.7em;background:white;border-bottom-left-radius:2px;border-bottom-right-radius:2px;border:1px solid rgba(0,0,0,0.15);text-overflow:inherit}.ag-chart-tooltip-arrow::before{content:'';position:absolute;top:100%;left:50%;transform:translateX(-50%);border:5px solid #d9d9d9;border-left-color:transparent;border-right-color:transparent;border-bottom-color:transparent;width:0;height:0;margin:0 auto}.ag-chart-tooltip-arrow::after{content:'';position:absolute;top:calc(100% - 1px);left:50%;transform:translateX(-50%);border:5px solid white;border-left-color:transparent;border-right-color:transparent;border-bottom-color:transparent;width:0;height:0;margin:0 auto}",Rf=class{constructor(e,t){this.domManager=e,this.tooltip=t,this.stateTracker=new rc,this.suppressState=new rc(!1),this.appliedState=null,t.setup(e),e.addListener("hidden",()=>this.tooltip.toggle(!1)),e.addStyles("tooltip",T4)}updateTooltip(e,t,n){var i;this.tooltip.enabled&&(n??(n=(i=this.stateTracker.get(e))==null?void 0:i.content),this.stateTracker.set(e,{content:n,meta:t}),this.applyStates())}removeTooltip(e){this.tooltip.enabled&&(this.stateTracker.delete(e),this.applyStates())}suppressTooltip(e){this.suppressState.set(e,!0)}unsuppressTooltip(e){this.suppressState.delete(e)}getTooltipMeta(e){var t;return(t=this.stateTracker.get(e))==null?void 0:t.meta}destroy(){this.domManager.removeStyles("tooltip")}applyStates(){var i;const e=this.stateTracker.stateId(),t=e?this.stateTracker.get(e):null;if(this.suppressState.stateValue()||(t==null?void 0:t.meta)==null||(t==null?void 0:t.content)==null){this.appliedState=null,this.tooltip.toggle(!1);return}const n=this.domManager.getBoundingClientRect();if(((i=this.appliedState)==null?void 0:i.content)===(t==null?void 0:t.content)){const r=this.tooltip.isVisible();this.tooltip.show(n,t==null?void 0:t.meta,null,r)}else this.tooltip.show(n,t==null?void 0:t.meta,t==null?void 0:t.content);this.appliedState=t}static makeTooltipMeta(e,t){var a,l,c,u;const{offsetX:n,offsetY:i}=e,{tooltip:r}=t.series.properties,s={offsetX:n,offsetY:i,enableInteraction:((a=r.interaction)==null?void 0:a.enabled)??!1,lastPointerEvent:{type:e.type,offsetX:n,offsetY:i},showArrow:r.showArrow,position:{type:r.position.type,xOffset:r.position.xOffset,yOffset:r.position.yOffset}},o=((l=t.yBar)==null?void 0:l.upperPoint)??t.midPoint??((u=(c=t.series).datumMidPoint)==null?void 0:u.call(c,t));if(r.position.type==="node"&&o){const{x:d,y:h}=o,p=t.series.contentGroup.inverseTransformPoint(d,h);return{...s,offsetX:Math.round(p.x),offsetY:Math.round(p.y)}}return s}},QE=class extends _o{constructor(){super(...arguments),this.layoutComplete="layout-complete",this.debug=et.create(!0,"layout")}addListener(e,t){if(this.isLayoutStage(e)||this.isLayoutComplete(e))return super.addListener(e,t);throw new Error(`AG Charts - unsupported listener type: ${e}`)}dispatchPerformLayout(e,t){return this.isLayoutStage(e)?this.getListenersByType(e).reduce((n,i)=>{try{const r=i.handler(n);return this.debug("[LayoutService] Context updated to: ",{...r},i),r}catch(r){return $.errorOnce(r),n}},t):t}dispatchLayoutComplete(e){this.dispatch(this.layoutComplete,e)}isLayoutStage(e){return e!==this.layoutComplete}isLayoutComplete(e){return e===this.layoutComplete}},I4=/\$\{(\w+)\}(?:\[(\w+)\])?/gi,Hm={number:new Intl.NumberFormat("en-US"),percent:new Intl.NumberFormat("en-US",{style:"percent"}),date:new Intl.DateTimeFormat("en-US",{dateStyle:"full"}),time:new Intl.DateTimeFormat("en-US",{timeStyle:"full"}),datetime:new Intl.DateTimeFormat("en-US",{dateStyle:"full",timeStyle:"full"})},N4=({defaultValue:e,variables:t})=>e==null?void 0:e.replaceAll(I4,(n,i,r)=>{const s=t[i],o=r!=null?Hm[r]:void 0;return r!=null&&o==null&&$.warnOnce(`Format style [${r}] is not supported`),o!=null?o.format(s):typeof s=="number"?Hm.number.format(s):s instanceof Date?Hm.datetime.format(s):s}),R4=class extends _o{constructor(){super(...arguments),this.localeText=void 0,this.getLocaleText=void 0}setLocaleText(e){this.localeText!==e&&(this.localeText=e,this.dispatch("locale-changed"))}setLocaleTextFormatter(e){this.getLocaleText=e,this.getLocaleText!==e&&(this.getLocaleText=e,this.dispatch("locale-changed"))}t(e,t={}){const{localeText:n=BB,getLocaleText:i}=this,r=n[e];return(i==null?void 0:i({key:e,defaultValue:r,variables:t}))??N4({key:e,defaultValue:r,variables:t})??e}},A4=class{constructor(){this.groups={}}registerSeries({id:e,seriesGrouping:t,visible:n,type:i}){var r;t&&((r=this.groups)[i]??(r[i]={}),this.groups[i][e]={grouping:t,visible:n})}deregisterSeries({id:e,type:t}){this.groups[t]&&delete this.groups[t][e],this.groups[t]&&Object.keys(this.groups[t]).length===0&&delete this.groups[t]}getVisiblePeerGroupIndex({type:e,seriesGrouping:t,visible:n}){if(!t)return{visibleGroupCount:n?1:0,visibleSameStackCount:n?1:0,index:0};const i=new Set,r=new Set;for(const o of Object.values(this.groups[e]??{}))o.visible&&(i.add(o.grouping.groupIndex),o.grouping.groupIndex===t.groupIndex&&r.add(o.grouping.stackIndex));const s=Array.from(i);return s.sort((o,a)=>o-a),{visibleGroupCount:s.length,visibleSameStackCount:r.size,index:s.indexOf(t.groupIndex)}}},zu=(e=>(e[e.FULL=0]="FULL",e[e.UPDATE_DATA=1]="UPDATE_DATA",e[e.PROCESS_DATA=2]="PROCESS_DATA",e[e.PERFORM_LAYOUT=3]="PERFORM_LAYOUT",e[e.SERIES_UPDATE=4]="SERIES_UPDATE",e[e.TOOLTIP_RECALCULATION=5]="TOOLTIP_RECALCULATION",e[e.SCENE_RENDER=6]="SCENE_RENDER",e[e.NONE=7]="NONE",e))(zu||{}),JE=class extends _o{constructor(e){super(),this.updateCallback=e}update(e=0,t){this.updateCallback(e,t)}dispatchUpdateComplete(e){this.dispatch("update-complete",{type:"update-complete",minRect:e==null?void 0:e.minRect,minVisibleRect:e==null?void 0:e.minVisibleRect})}},P4=class{constructor(e,t){const{scene:n,root:i,syncManager:r,container:s,updateCallback:o,updateMutex:a,overrideDevicePixelRatio:l}=t;this.chartService=e,this.syncManager=r,this.zoomManager=e.zoomManager,this.domManager=new FE(s),n==null||n.setContainer(this.domManager),this.scene=n??new Fx({pixelRatio:l,domManager:this.domManager}),this.scene.setRoot(i),this.axisManager=new u4(i),this.localeManager=new R4,this.annotationManager=new c4(e.annotationRoot),this.chartEventManager=new jE,this.cursorManager=new VE(this.domManager),this.highlightManager=new $E,this.interactionManager=new fE(e.keyboard,this.domManager),this.keyNavManager=new XE(this.interactionManager,this.domManager),this.focusIndicator=new M4(this.domManager),this.regionManager=new E4(this.interactionManager,this.keyNavManager,this.focusIndicator),this.contextMenuRegistry=new WE(this.regionManager),this.toolbarManager=new qE,this.gestureDetector=new KE(this.domManager),this.layoutService=new QE,this.ariaAnnouncementService=new k4(this.localeManager,this.domManager,this.layoutService),this.updateService=new JE(o),this.proxyInteractionService=new D4(this.updateService,this.localeManager,this.domManager,this.focusIndicator),this.seriesStateManager=new A4,this.stateManager=new i4,this.callbackCache=new l4,this.animationManager=new YE(this.interactionManager,a),this.animationManager.skip(),this.animationManager.play(),this.dataService=new Og(this.animationManager),this.tooltipManager=new Rf(this.domManager,e.tooltip)}destroy(){this.tooltipManager.destroy(),this.contextMenuRegistry.destroy(),this.regionManager.destroy(),this.proxyInteractionService.destroy(),this.focusIndicator.destroy(),this.keyNavManager.destroy(),this.interactionManager.destroy(),this.animationManager.stop(),this.animationManager.destroy(),this.ariaAnnouncementService.destroy(),this.chartEventManager.destroy(),this.highlightManager.destroy(),this.callbackCache.invalidateCache(),this.animationManager.reset(),this.syncManager.destroy(),this.domManager.destroy(),this.axisManager.destroy()}},eT=class extends Ce{constructor(){super(...arguments),this.range="tooltip"}};b([w(st(["tooltip","node"],"a range"))],eT.prototype,"range",2);var QM=class tT{constructor(){this.domain=new Set}static is(t){return t instanceof tT}extend(t){this.domain.add(t)}getDomain(){return Array.from(this.domain)}},al=class nT{constructor(){this.domain=[1/0,-1/0]}static is(t){return t instanceof nT}static extendDomain(t,n=[1/0,-1/0]){for(const i of t)typeof i=="number"&&(n[0]>i&&(n[0]=i),n[1]<i&&(n[1]=i));return n}extend(t){this.domain[0]>t&&(this.domain[0]=t),this.domain[1]<t&&(this.domain[1]=t)}getDomain(){return[...this.domain]}};function O4(e){return e.map(t=>Pi(t)?JSON.stringify(t):t).join("-")}function _4(e){return Number.isInteger(e)?e:Math.abs(e)>1e4?Math.trunc(e):Math.round(e*1e4)/1e4}function F4(e){if(e==null)return[];let[t,n]=e.map(Number);return t===0&&n===0?[0,1]:t===1/0&&n===-1/0?[]:(t===1/0?t=0:n===-1/0&&(n=0),Pe(t)&&Pe(n)?[t,n]:[])}function qn(e,t){const n=F4(e);if(n.length===0)return n;let[i,r]=n;if(i===r){const[s,o]=(t==null?void 0:t.calculatePadding(i,r))??[1,1];i-=s,r+=o}return[i,r]}function zx(e,t){return(t==null?void 0:t.get(e.id))??0}var $o=Symbol("invalid");function iT(e){const t=[];let n=0,i;const r=new RegExp(`((?:(?:^|\\.)\\s*\\w+|\\[\\s*(?:'(?:[^']|(?<!\\\\)\\\\')*'|"(?:[^"]|(?<!\\\\)\\\\")*"|-?\\d+)\\s*\\])\\s*)`,"g");for(;i=r.exec(e);){if(i.index!==n)return;n=i.index+i[0].length;const s=i[1].trim();if(s.startsWith("."))t.push(s.slice(1).trim());else if(s.startsWith("[")){const o=s.slice(1,-1).trim();o.startsWith("'")?t.push(o.slice(1,-1).replace(new RegExp("(?<!\\\\)\\\\'","g"),"'")):o.startsWith('"')?t.push(o.slice(1,-1).replace(new RegExp('(?<!\\\\)\\\\"',"g"),'"')):t.push(o)}else t.push(s)}if(n===e.length)return t}function B4(e){return t=>{let n=t;for(const i of e)n=n[i];return n}}var rT=class{constructor(e,t="standalone"){this.opts=e,this.mode=t,this.debug=et.create(!0,"data-model"),this.scopeCache=new Map,this.keys=[],this.values=[],this.aggregates=[],this.groupProcessors=[],this.propertyProcessors=[],this.reducers=[],this.processors=[];let n=!0;for(const r of e.props){if(r.type==="key"&&!n)throw new Error("AG Charts - internal config error: keys must come before values.");r.type==="value"&&n&&(n=!1)}const i=({matchGroupIds:r=[]})=>{for(const s of r)if(this.values.every(o=>o.groupId!==s))throw new Error(`AG Charts - internal config error: matchGroupIds properties must match defined groups (${s}).`)};for(const r of e.props)switch(r.type){case"key":this.keys.push({...r,index:this.keys.length,missing:new Map});break;case"value":if(r.property==null)throw new Error(`AG Charts - internal config error: no properties specified for value definitions: ${JSON.stringify(r)}`);this.values.push({...r,index:this.values.length,missing:new Map});break;case"aggregate":i(r),this.aggregates.push({...r,index:this.aggregates.length});break;case"group-value-processor":i(r),this.groupProcessors.push({...r,index:this.groupProcessors.length});break;case"property-value-processor":this.propertyProcessors.push({...r,index:this.propertyProcessors.length});break;case"reducer":this.reducers.push({...r,index:this.reducers.length});break;case"processor":this.processors.push({...r,index:this.processors.length});break}}resolveProcessedDataDefById(e,t){var i;const n=(i=this.scopeCache.get(e.id))==null?void 0:i.get(t);if(!n)throw new Error(`AG Charts - didn't find property definition for [${t}, ${e.id}]`);return{index:n.index,def:n}}resolveProcessedDataIndexById(e,t){return this.resolveProcessedDataDefById(e,t).index}resolveProcessedDataDefsByIds(e,t){return t.map(n=>[n,this.resolveProcessedDataDefById(e,n)])}resolveProcessedDataDefsValues(e,{keys:t,values:n}){const i={};for(const[r,{index:s,def:o}]of e){const a=o.type==="key"?t:n;i[r]=a[s]}return i}getDomain(e,t,n="value",i){const r=this.getDomainsByType(n,i);return(r==null?void 0:r[this.resolveProcessedDataIndexById(e,t)])??[]}getDomainsByType(e,t){switch(e){case"key":return t.domain.keys;case"value":return t.domain.values;case"aggregate":return t.domain.aggValues;case"group-value-processor":return t.domain.groups;default:return null}}processData(e,t){var h;const{opts:{groupByKeys:n,groupByFn:i},aggregates:r,groupProcessors:s,reducers:o,processors:a,propertyProcessors:l}=this,c=performance.now();if(n&&this.keys.length===0)return;let u=this.extractData(e,t);if(n?u=this.groupData(u):i&&(u=this.groupData(u,i(u))),s.length>0&&this.postProcessGroups(u),r.length>0&&this.aggregateData(u),l.length>0&&this.postProcessProperties(u),o.length>0&&this.reduceData(u),a.length>0&&this.postProcessData(u),e.length>0){for(const p of Hh(this.keys,this.values))for(const[f,g]of p.missing)if(g>=e.length){const v=f==null?"":` for ${f}`;$.warnOnce(`the key '${p.property}' was not found in any data element${v}.`)}}const d=performance.now();u.time=d-c,this.debug.check()&&z4(u),this.scopeCache.clear();for(const p of Hh(this.keys,this.values,this.aggregates))if(p.idsMap)for(const[f,g]of p.idsMap)for(const v of g)if(!this.scopeCache.has(f))this.scopeCache.set(f,new Map([[v,p]]));else{if((h=this.scopeCache.get(f))!=null&&h.has(v))throw new Error("duplicate definition ids on the same scope are not allowed.");this.scopeCache.get(f).set(v,p)}return u}valueGroupIdxLookup({matchGroupIds:e}){const t=[];for(const[n,i]of this.values.entries())(!e||i.groupId&&e.includes(i.groupId))&&t.push(n);return t}valueIdxLookup(e,t){const n=e==null||e.length===0,i=typeof t=="string"?t:t.id,r=o=>{if(o.idsMap){for(const[a,l]of o.idsMap)if(e!=null&&e.includes(a)&&l.has(i))return!0}return!1},s=this.values.findIndex(o=>(o.scopes==null||n&&!o.scopes.length||o.scopes.some(l=>e==null?void 0:e.includes(l)))&&(o.property===i||o.id===i||r(o)));if(s===-1)throw new Error(`AG Charts - configuration error, unknown property ${JSON.stringify(t)} in scope(s) ${JSON.stringify(e)}`);return s}extractData(e,t){const{dataDomain:n,processValue:i,scopes:r,allScopesHaveSameDefs:s}=this.initDataDomainProcessor(),o=new Map(t==null?void 0:t.map(p=>[p.id,p])),{keys:a,values:l}=this,c=new Array(e.length);let u=0,d=0;for(const[p,f]of e.entries()){const g={},v=r.size>0?new Set(r):void 0,y=new Array(a.length);let m=0,x;for(const C of a){if(x=i(C,f,x),x===$o)break;y&&(y[m++]=x)}if(x===$o)continue;const S=l.length>0?new Array(l.length):void 0;let D;for(const[C,k]of l.entries()){for(const L of k.scopes??r){const T=o.get(L),O=(T==null?void 0:T.data[p])??f;if(D=i(k,O,D,L),!(D===$o||!S)){if(T!=null&&k.includeProperty!==!1){const Y=k.includeProperty&&k.id!=null?k.id:k.property;g[L]??(g[L]={}),g[L][Y]=D}S[C]=D}}if(D===$o){if(s)break;for(const L of k.scopes??r)v==null||v.delete(L);if((v==null?void 0:v.size)===0)break}}if(D===$o&&s||(v==null?void 0:v.size)===0)continue;const M={datum:{...f,...g},keys:y,values:S};!s&&v&&v.size<r.size&&(d++,M.validScopes=new Set(v)),c[u++]=M}c.length=u;const h=p=>{const f=n.get(p),g=f.getDomain();return al.is(f)&&g[0]>g[1]?[]:g};return{type:"ungrouped",input:{count:e.length},data:c,domain:{keys:a.map(h),values:l.map(h)},defs:{allScopesHaveSameDefs:s,keys:a,values:l},partialValidDataCount:d,time:0}}groupData(e,t){const n=new Map;for(const o of e.data){const{keys:a,values:l,datum:c,validScopes:u}=o,d=(t==null?void 0:t(o))??a,h=O4(d);if(n.has(h)){const p=n.get(h);if(p.values.push(l),p.datum.push(c),u!=null&&p.validScopes!=null)for(const f of p.validScopes)u.has(f)||p.validScopes.delete(f)}else n.set(h,{keys:d,values:[l],datum:[c],validScopes:u})}const i=new Array(n.size),r=new Array(n.size);let s=0;for(const{keys:o,values:a,datum:l,validScopes:c}of n.values())(c==null?void 0:c.size)!==0&&(r[s]=o,i[s++]={keys:o,values:a,datum:l,validScopes:c});return{...e,type:"grouped",data:i,domain:{...e.domain,groups:r}}}aggregateData(e){var n,i,r;const t=e.type==="ungrouped";e.domain.aggValues=[];for(const[s,o]of this.aggregates.entries()){const a=this.valueGroupIdxLookup(o),l=[1/0,-1/0];for(const c of e.data){if(c.aggValues??(c.aggValues=new Array(this.aggregates.length)),c.validScopes)continue;const u=t?[c.values]:c.values;let d=((n=o.groupAggregateFunction)==null?void 0:n.call(o))??[1/0,-1/0];for(const p of u){const f=a.map(v=>p[v]),g=o.aggregateFunction(f,c.keys);g&&(d=((i=o.groupAggregateFunction)==null?void 0:i.call(o,g,d))??al.extendDomain(g,d))}const h=(((r=o.finalFunction)==null?void 0:r.call(o,d))??d).map(p=>_4(p));c.aggValues[s]=h,al.extendDomain(h,l)}e.domain.aggValues.push(l)}}postProcessGroups(e){var a;const{groupProcessors:t}=this,n=new Set,i=new Map,r=new Map,s=new Map;for(const l of t){const c=this.valueGroupIdxLookup(l);r.set(l,c),s.set(l,l.adjust());for(const u of c){const h=this.values[u].valueType==="category";n.add(u),i.set(u,h?new QM:new al)}}const o=l=>{var c;for(const u of n)(c=i.get(u))==null||c.extend(l[u])};for(const l of e.data){for(const c of t){if(l.validScopes)continue;const u=r.get(c)??[],d=(a=s.get(c))==null?void 0:a();if(d)if(e.type==="grouped")for(const h of l.values)h&&d(h,u);else l.values&&d(l.values,u)}if(e.type==="grouped")for(const c of l.values)o(c);else o(l.values)}for(const[l,c]of i)e.domain.values[l]=c.getDomain()}postProcessProperties(e){for(const{adjust:t,property:n,scopes:i}of this.propertyProcessors)t()(e,this.valueIdxLookup(i,n))}reduceData(e){var t;e.reduced??(e.reduced={});for(const n of this.reducers){const i=n.reducer();let r=n.initialValue;for(const s of e.data)(!s.validScopes||(t=n.scopes)!=null&&t.some(o=>{var a;return(a=s.validScopes)==null?void 0:a.has(o)}))&&(r=i(r,s));e.reduced[n.property]=r}}postProcessData(e){e.reduced??(e.reduced={});for(const t of this.processors)e.reduced[t.property]=t.calculate(e)}initDataDomainProcessor(){const{keys:e,values:t}=this,n=new Set;for(const c of t)if(c.scopes)for(const u of c.scopes)n.add(u);const i=new Map,r=new Map;let s=!0;const o=()=>{for(const c of Hh(e,t))c.valueType==="category"?i.set(c,new QM):(i.set(c,new al),s&&(s=(c.scopes??[]).length===n.size))};o();const a=this.buildAccessors(Hh(e,t));return{dataDomain:i,processValue:(c,u,d,h)=>{var v,y,m;let p,f;if(a.has(c.property)){try{f=a.get(c.property)(u)}catch{}p=f!=null}else p=c.property in u,f=p?u[c.property]:c.missingValue;c.forceValue!=null&&(f=p&&dc(f)?-1*c.forceValue:c.forceValue,p=!0);const g="missingValue"in c;if(!p&&!g){const x=c.missing.get(h)??0;c.missing.set(h,x+1)}if(i.has(c)||o(),p&&!(((v=c.validation)==null?void 0:v.call(c,f,u))??!0))if("invalidValue"in c)f=c.invalidValue;else return this.mode!=="integrated"&&$.warnOnce(`invalid value of type [${typeof f}] for [${c.scopes} / ${c.id}] ignored:`,`[${f}]`),$o;return c.processor&&(r.has(c)||r.set(c,c.processor()),f=(y=r.get(c))==null?void 0:y(f,d===$o?void 0:d)),(m=i.get(c))==null||m.extend(f),f},initDataDomain:o,scopes:n,allScopesHaveSameDefs:s}}buildAccessors(e){const t=new Map;if(this.mode==="integrated")return t;for(const n of e){if(!(n.property.includes(".")||n.property.includes("[")))continue;const r=iT(n.property);if(r==null){$.warnOnce("Invalid property path [%s]",n.property);continue}const s=B4(r);t.set(n.property,s)}return t}};function z4(e){const t=(n,i)=>{i.length>0&&($.log(`DataModel.processData() - ${n}`),$.table(i))};if($.log("DataModel.processData() - processedData",e),t("Key Domains",e.domain.keys),t("Group Domains",e.domain.groups??[]),t("Value Domains",e.domain.values),t("Aggregate Domains",e.domain.aggValues??[]),e.type==="grouped"){const n=e.data.reduce((i,r)=>{const s=r.keys??[],o=r.aggValues??[],a=r.keys.map(()=>{}),l=o==null?void 0:o.map(()=>{});return i.push(...r.values.map((c,u)=>[...u===0?s:a,...c??[],...u==0?o:l])),i},[]);t("Values",n)}else{const n=e.data.reduce((i,r)=>{const s=r.aggValues??[];return i.push([...r.keys,...r.values,...s]),i},[]);t("Values",n)}}var sT=class Jr{constructor(t){this.mode=t,this.debug=et.create(!0,"data-model"),this.requested=[],this.status="setup"}async request(t,n,i){if(this.status!=="setup")throw new Error("AG Charts - data request after data setup phase.");return new Promise((r,s)=>{this.requested.push({id:t,opts:i,data:n,resolve:r,reject:s})})}execute(){if(this.status!=="setup")throw new Error("AG Charts - data request after data setup phase.");this.status="executed",this.debug("DataController.execute() - requested",this.requested);const t=this.validateRequests(this.requested);this.debug("DataController.execute() - validated",t);const n=this.mergeRequested(t);this.debug("DataController.execute() - merged",n),this.debug.check()&&(Gr().processedData=[]);const i=this.requested.map(({id:s})=>s),r=this.hasMultipleDataSources(t);for(const{opts:s,data:o,resolves:a,rejects:l,ids:c}of n)try{const u=new rT(s,this.mode),d=u.processData(o,t);this.debug.check()&&Gr("processedData").push(d),(d==null?void 0:d.partialValidDataCount)===0?a.forEach((h,p)=>h({dataModel:u,processedData:this.processScopedData(c[p],d,i,r)})):d?this.splitResult(u,d,c,a):l.forEach(h=>h(new Error("AG Charts - no processed data generated")))}catch(u){l.forEach(d=>d(u))}}hasMultipleDataSources(t){if(t.length){const[{data:n},...i]=t;return i.some(r=>n!==r.data)}return!1}processScopedData(t,n,i,r){const s=a=>{if(Array.isArray(a))return a.map(s);const l=r?{...a,...a[t]}:a;for(const c of i)delete l[c];return l},o=a=>Array.isArray(a)?a.map(o):(a==null?void 0:a[t])??a;return{...n,data:n.data.map(a=>{var l;return{...a,datum:s(a.datum),values:r?(l=a.values)==null?void 0:l.map(o):a.values}})}}validateRequests(t){const n=[];for(const[i,r]of t.entries())i>0&&r.data.length!==t[0].data.length&&r.opts.groupByData===!1?r.reject(new Error("all series[].data arrays must be of the same length and have matching keys.")):n.push(r);return n}mergeRequested(t){const n=[];for(const i of t){const r=n.find(Jr.groupMatch(i));r?r.push(i):n.push([i])}return n.map(Jr.mergeRequests)}splitResult(t,n,i,r){for(let s=0;s<i.length;s++){const o=i[s],a=r[s];a({dataModel:t,processedData:{...n,data:n.data.filter(({validScopes:l})=>(l==null?void 0:l.has(o))??!0)}})}}static groupMatch({data:t,opts:n}){function i(r){return r.filter(s=>s.type==="key").map(s=>s.property).join(";")}return([r])=>(n.groupByData===!1||r.data===t)&&r.opts.groupByKeys===n.groupByKeys&&r.opts.groupByFn===n.groupByFn&&i(r.opts.props)===i(n.props)}static mergeRequests(t){return t.reduce((n,{id:i,data:r,resolve:s,reject:o,opts:{props:a,...l}})=>{var c;n.ids.push(i),n.rejects.push(o),n.resolves.push(s),n.data??(n.data=r),n.opts??(n.opts={...l,props:[]});for(const u of a){const d={...u,scopes:[i]};Jr.createIdsMap(i,d);const h=n.opts.props.find(p=>p.type===d.type&&Jr.deepEqual(p,d));if(!h){n.opts.props.push(d);continue}h.scopes??(h.scopes=[]),h.scopes.push(...d.scopes??[]),(h.type==="key"||h.type==="value")&&((c=d.idsMap)!=null&&c.size)&&Jr.mergeIdsMap(d.idsMap,h.idsMap)}return n},{ids:[],rejects:[],resolves:[],data:null,opts:null})}static mergeIdsMap(t,n){for(const[i,r]of t)if(n.has(i))for(const s of r)n.get(i).add(s);else n.set(i,new Set(r))}static createIdsMap(t,n){n.id!=null&&(n.idsMap??(n.idsMap=new Map),n.idsMap.has(t)?n.idsMap.get(t).add(n.id):n.idsMap.set(t,new Set([n.id])))}static deepEqual(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;let i,r;if(Array.isArray(t)){if(r=t.length,r!==n.length)return!1;for(i=r-1;i>=0;i--)if(!Jr.deepEqual(t[i],n[i]))return!1;return!0}const s=Object.keys(t);if(r=s.length,r!==Object.keys(n).length)return!1;for(i=r-1;i>=0;i--){const o=s[i];if(!Jr.skipKeys.has(o)&&(!Object.hasOwn(n,o)||!Jr.deepEqual(t[o],n[o])))return!1}return!0}return!1}};sT.skipKeys=new Set(["id","idsMap","type","scopes"]);var oT=sT,Y4=class{constructor(){this.axesMap=new Map,this.hidden=new Set,this.themeTemplates=new Map}register(e,t){this.axesMap.set(e,t.instanceConstructor),t.themeTemplate&&this.setThemeTemplate(e,t.themeTemplate),t.hidden&&this.hidden.add(e)}create(e,t){const n=this.axesMap.get(e);if(n)return new n(t);throw new Error(`AG Charts - unknown axis type: ${e}`)}has(e){return this.axesMap.has(e)}keys(){return this.axesMap.keys()}publicKeys(){return[...this.keys()].filter(e=>!this.hidden.has(e))}setThemeTemplate(e,t){return this.themeTemplates.set(e,t),this}getThemeTemplate(e){return this.themeTemplates.get(e)}},ko=new Y4,Sc=[{type:"root",optionsKey:"animation",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"]},{type:"root",optionsKey:"annotations",chartTypes:["cartesian"]},{type:"root",optionsKey:"background",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"],optionsInnerKey:"image"},{type:"root",optionsKey:"contextMenu",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"]},{type:"root",optionsKey:"statusBar",chartTypes:["cartesian"],identifier:"status-bar"},{type:"root",optionsKey:"dataSource",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"]},{type:"root",optionsKey:"sync",chartTypes:["cartesian"]},{type:"root",optionsKey:"zoom",chartTypes:["cartesian","topology"]},{type:"legend",optionsKey:"gradientLegend",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"],identifier:"gradient"},{type:"root",optionsKey:"navigator",chartTypes:["cartesian"],optionsInnerKey:"miniChart"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["cartesian"],identifier:"ordinal-time"},{type:"axis-option",optionsKey:"crosshair",chartTypes:["cartesian"]},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"box-plot"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"candlestick"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"ohlc"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"bullet"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"heatmap"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-area"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-bar"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"waterfall"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"nightingale"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-area"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-line"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-bar"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-column"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"sunburst"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"treemap"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-marker"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape-background"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line-background"},{type:"series",optionsKey:"series[]",chartTypes:["flow-proportion"],identifier:"chord"},{type:"series",optionsKey:"series[]",chartTypes:["flow-proportion"],identifier:"sankey"},{type:"series-option",optionsKey:"errorBar",chartTypes:["cartesian"],identifier:"error-bars"}];function G4(e){return Sc.some(t=>t.type==="series"&&t.identifier===e)}function rh(e){var t;return(t=Sc.find(n=>n.type==="series"&&n.identifier===e))==null?void 0:t.chartTypes}function j4(e){var n;return((n=rh(e))==null?void 0:n.find(i=>i==="cartesian"))==="cartesian"}function W4(e){var n;return((n=rh(e))==null?void 0:n.find(i=>i==="polar"))==="polar"}function H4(e){var n;return((n=rh(e))==null?void 0:n.find(i=>i==="hierarchy"))==="hierarchy"}function U4(e){var n;return((n=rh(e))==null?void 0:n.find(i=>i==="topology"))==="topology"}function V4(e){var n;return((n=rh(e))==null?void 0:n.find(i=>i==="flow-proportion"))==="flow-proportion"}function K4(e){return e.packageType==="enterprise"}function $4(e){if(!K4(e))throw new Error("AG Charts - internal configuration error, only enterprise modules need verification.");const t=Sc.find(n=>n.type===e.type&&n.optionsKey===e.optionsKey&&n.identifier===e.identifier&&e.chartTypes.every(i=>n.chartTypes.includes(i)));return t&&(t.useCount??(t.useCount=0),t.useCount++),t!=null}function X4(){return Sc.filter(({useCount:e})=>e==null||e===0)}var Z4=class{constructor(){this.legendMap=new Map,this.themeTemplates=new Map}register(e,{optionsKey:t,instanceConstructor:n,themeTemplate:i}){this.legendMap.set(e,{optionsKey:t,instanceConstructor:n}),this.themeTemplates.set(t,i)}create(e,t){var i;const n=(i=this.legendMap.get(e))==null?void 0:i.instanceConstructor;if(n)return new n(t);throw new Error(`AG Charts - unknown legend type: ${e}`)}getThemeTemplates(){return Object.fromEntries(this.themeTemplates)}getKeys(){return Array.from(this.legendMap.entries()).reduce((e,[t,n])=>(e[t]=n.optionsKey,e),{})}},Yx=new Z4,Si={isEnterprise:!1},aT=class extends Map{get(e){return super.get(e)??"unknown"}isCartesian(e){return this.get(e)==="cartesian"}isPolar(e){return this.get(e)==="polar"}isHierarchy(e){return this.get(e)==="hierarchy"}isTopology(e){return this.get(e)==="topology"}isFlowProportion(e){return this.get(e)==="flow-proportion"}get seriesTypes(){return Array.from(this.keys())}get cartesianTypes(){return this.seriesTypes.filter(e=>this.isCartesian(e))}get polarTypes(){return this.seriesTypes.filter(e=>this.isPolar(e))}get hierarchyTypes(){return this.seriesTypes.filter(e=>this.isHierarchy(e))}get topologyTypes(){return this.seriesTypes.filter(e=>this.isTopology(e))}get flowProportionTypes(){return this.seriesTypes.filter(e=>this.isFlowProportion(e))}},q4=class extends Map{set(e,t){return super.set(e,Ie(t,this.get(e)))}},Ht=new aT,lT=new aT,Av=new q4,Q4=class{constructor(){this.seriesMap=new Map,this.themeTemplates=new Map}register(e,{chartTypes:[t],instanceConstructor:n,tooltipDefaults:i,defaultAxes:r,themeTemplate:s,enterpriseThemeTemplate:o,paletteFactory:a,solo:l,stackable:c,groupable:u,stackedByDefault:d,swapDefaultAxesCondition:h,hidden:p}){this.setThemeTemplate(e,s,o),this.seriesMap.set(e,{instanceConstructor:n,tooltipDefaults:i,defaultAxes:r,paletteFactory:a,solo:l,stackable:c,groupable:u,stackedByDefault:d,swapDefaultAxesCondition:h}),Ht.set(e,t),p||lT.set(e,t)}create(e,t){var i;const n=(i=this.seriesMap.get(e))==null?void 0:i.instanceConstructor;if(n)return new n(t);throw new Error(`AG Charts - unknown series type: ${e}`)}cloneDefaultAxes(e){var n;const t=(n=this.seriesMap.get(e))==null?void 0:n.defaultAxes;return t?{axes:cn(t)}:null}setThemeTemplate(e,t,n={}){const i=this.themeTemplates.get(e);this.themeTemplates.set(e,{community:Ie(t,i==null?void 0:i.community),enterprise:Ie(n,t,i==null?void 0:i.community)})}getThemeTemplate(e){const t=this.themeTemplates.get(e);return Si.isEnterprise?t==null?void 0:t.enterprise:t==null?void 0:t.community}getPaletteFactory(e){var t;return(t=this.seriesMap.get(e))==null?void 0:t.paletteFactory}getTooltipDefauls(e){var t;return(t=this.seriesMap.get(e))==null?void 0:t.tooltipDefaults}isSolo(e){var t;return((t=this.seriesMap.get(e))==null?void 0:t.solo)??!1}isGroupable(e){var t;return((t=this.seriesMap.get(e))==null?void 0:t.groupable)??!1}isStackable(e){var t;return((t=this.seriesMap.get(e))==null?void 0:t.stackable)??!1}isStackedByDefault(e){var t;return((t=this.seriesMap.get(e))==null?void 0:t.stackedByDefault)??!1}isDefaultAxisSwapNeeded(e){var n,i;let t;for(const r of e.series??[]){const{type:s="line"}=r,o=(i=(n=this.seriesMap.get(s))==null?void 0:n.swapDefaultAxesCondition)==null?void 0:i.call(n,r);if(o!=null){if(t!=null&&t!=o)throw new Error("AG Charts - The provided series have incompatible directions");t=o}}return t}},Wn=new Q4,Gx=class ea extends ar{constructor(t){super(),this.chart=t}subscribe(t=ea.DEFAULT_GROUP){let n=this.get(t);return n||(n=new Set,ea.chartsGroups.set(t,n)),n.add(this.chart),this}unsubscribe(t=ea.DEFAULT_GROUP){var n;return(n=this.get(t))==null||n.delete(this.chart),this}getChart(){return this.chart}getGroup(t=ea.DEFAULT_GROUP){const n=this.get(t);return n?Array.from(n):[]}getGroupSiblings(t=ea.DEFAULT_GROUP){return this.getGroup(t).filter(n=>n!==this.chart)}get(t){return ea.chartsGroups.get(t)}};Gx.chartsGroups=new Map;Gx.DEFAULT_GROUP=Symbol("sync-group-default");var J4=Gx,cT=class extends ar{constructor(){super(...arguments),this.axisZoomManagers=new Map,this.state=new rc(void 0,"initial"),this.rejectCallbacks=new Map}updateAxes(e){const t=new Map(e.map(n=>[n.id,this.axisZoomManagers.get(n.id)]));this.axisZoomManagers.clear();for(const n of e)this.axisZoomManagers.set(n.id,t.get(n.id)??new eY(n));this.state.size>0&&e.length>0&&this.updateZoom(this.state.stateId(),this.state.stateValue())}updateZoom(e,t,n=!0,i){var r;if(i&&this.rejectCallbacks.set(e,i),this.axisZoomManagers.size===0){const s=this.state.stateId();s==="initial"||s===e||n?(this.state.set(e,t),s!==e&&((r=this.rejectCallbacks.get(s))==null||r(e))):i==null||i(s);return}this.state.set(e,t),this.axisZoomManagers.forEach(s=>{s.updateZoom(e,t==null?void 0:t[s.getDirection()])}),this.applyChanges(e)}updateAxisZoom(e,t,n){var i;(i=this.axisZoomManagers.get(t))==null||i.updateZoom(e,n),this.applyChanges(e)}fireZoomPanStartEvent(e){this.listeners.dispatch("zoom-pan-start",{type:"zoom-pan-start",callerId:e})}getZoom(){let e,t;if(this.axisZoomManagers.forEach(n=>{n.getDirection()==="x"?e??(e=n.getZoom()):n.getDirection()==="y"&&(t??(t=n.getZoom()))}),e||t)return{x:e,y:t}}getAxisZoom(e){var t;return((t=this.axisZoomManagers.get(e))==null?void 0:t.getZoom())??{min:0,max:1}}getAxisZooms(){const e={};for(const[t,n]of this.axisZoomManagers.entries())e[t]={direction:n.getDirection(),zoom:n.getZoom()};return e}applyChanges(e){if(!Array.from(this.axisZoomManagers.values(),i=>i.applyChanges()).some(Boolean))return;const n={};for(const[i,r]of this.axisZoomManagers.entries())n[i]=r.getZoom();this.listeners.dispatch("zoom-change",{type:"zoom-change",...this.getZoom(),axes:n,callerId:e})}},eY=class{constructor(e){this.axis=e;const[t=0,n=1]=e.visibleRange;this.state=new rc({min:t,max:n}),this.currentZoom=this.state.stateValue()}getDirection(){return this.axis.direction}updateZoom(e,t){this.state.set(e,t)}getZoom(){return cn(this.state.stateValue())}applyChanges(){const e=this.currentZoom;return this.currentZoom=this.state.stateValue(),e.min!==this.currentZoom.min||e.max!==this.currentZoom.max}},jx=class extends Ce{constructor(){super(...arguments),this.enabled=!1}};b([w(me)],jx.prototype,"enabled",2);b([w(tt)],jx.prototype,"tabIndex",2);function tY(e){var t;return e instanceof re?e.computeCenter():(t=e==null?void 0:e.computeTransformedBBox())==null?void 0:t.computeCenter()}function uT(e,t){const{bounds:n,showFocusBox:i}=t;i&&(e==null||e.updateBounds(n));const{x:r,y:s}=tY(n)??{};if(r!==void 0&&s!==void 0)return{type:"keyboard",offsetX:r,offsetY:s}}var dT=["top","right","bottom","left"];function nY(e){return typeof e=="string"&&dT.includes(e)}function iY(e){const t=[],n=[],i=[...dT];for(const r of e)r instanceof wc&&(nY(r.position)?n.push(r.position):t.push(r));for(const r of t){let s;do s=i.pop();while(s&&n.includes(s));if(s==null)break;r.position=s}}var rY=["direction","xKey","yKey","sizeKey","angleKey","radiusKey","normalizedTo","stacked","grouped","stackGroup"];function sY(e,t,n){var u,d;const i=(h,p)=>{const f=[h];for(const g of rY)g in p&&p[g]!=null&&f.push(`${g}=${p[g]}`);return f.join(";")},r=new Map;let s=0;for(const h of e){const p=i(h.type,h.properties);r.has(p)||r.set(p,[]),(u=r.get(p))==null||u.push([h,s++])}const o=new Map;for(const h of t){const p=i(h.type,h);o.has(p)||o.set(p,[]),(d=o.get(p))==null||d.push(h)}if(![...r.keys()].some(h=>o.has(h)))return{status:"no-overlap",oldKeys:r.keys(),newKeys:o.keys()};const l=[];let c=-1;for(const[h,p]of o.entries())for(const f of p){c++;const g=r.get(h);if(g==null||g.length<1){l.push({opts:f,idx:c,status:"add"}),r.delete(h);continue}const[v,y]=g.shift(),m=(n==null?void 0:n[y])??{},x=pi(m,f??{}),{groupIndex:S,stackIndex:D}=(x==null?void 0:x.seriesGrouping)??{};S!=null||D!=null?l.push({opts:f,series:v,diff:x,idx:y,status:"series-grouping"}):x?l.push({opts:f,series:v,diff:x,idx:y,status:"update"}):l.push({opts:f,series:v,idx:y,status:"no-op"}),g.length===0&&r.delete(h)}for(const h of r.values())for(const[p,f]of h)l.push({series:p,idx:f,status:"remove"});return{status:"overlap",changes:l}}function Ya(e){var t,n;return((n=(t=e.series)==null?void 0:t[0])==null?void 0:n.type)??"line"}function Fl(e){const t=Ya(e);return t==null?!0:t==="cartesian"?($.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):Ht.isCartesian(t)||j4(t)}function _g(e){const t=Ya(e);return t==null?!1:t==="polar"?($.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):Ht.isPolar(t)||W4(t)}function Wx(e){const t=Ya(e);return t==null?!1:t==="hierarchy"?($.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):Ht.isHierarchy(t)||H4(t)}function Hx(e){const t=Ya(e);return t==null?!1:t==="topology"?($.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):Ht.isTopology(t)||U4(t)}function Ux(e){const t=Ya(e);return t==null?!1:t==="flow-proportion"?($.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):Ht.isFlowProportion(t)||V4(t)}function oY(e){const t=Ya(e);return _g(e)&&t!=="pie"&&t!=="donut"}function aY(e){return e==null?!1:Ht.has(e)}function lY(e){return e==null?!1:ko.has(e)}var cY=class extends Ix{applyOptions(e){for(const t of this.moduleMap.values())t.module.optionsKey in e&&zr(t.moduleInstance)&&t.moduleInstance.set(e[t.module.optionsKey])}*legends(){for(const{module:e,moduleInstance:t}of this.moduleMap.values())e.type==="legend"&&(yield{legendType:e.identifier,legend:t})}},Pv="ag-chart-overlay",JM="ag-chart-dark-overlay",Yu=class extends Ce{constructor(e,t){super(),this.className=e,this.defaultMessageId=t}getText(e){return e.t(this.text??this.defaultMessageId)}getElement(e,t,n){var i;if((i=this.content)==null||i.remove(),this.focusBox=n,this.renderer){const r=this.renderer();this.content=un("div"),r instanceof HTMLElement?this.content.replaceChildren(r):this.content.innerHTML=r}else{const r=un("div",{display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",height:"100%",margin:"8px",font:"12px Verdana, sans-serif"});r.innerText=this.getText(t),this.content=r,e==null||e.animate({from:0,to:1,id:"overlay",phase:"add",groupId:"opacity",onUpdate(s){r.style.opacity=String(s)},onStop(){r.style.opacity="1"}})}return this.content}removeElement(e=()=>{var n;return(n=this.content)==null?void 0:n.remove()},t){if(this.content){if(t){const{content:n}=this;t.animate({from:1,to:0,phase:"remove",id:"overlay",groupId:"opacity",onUpdate(i){n.style.opacity=String(i)},onStop(){e==null||e()}})}else e==null||e();this.content=void 0,this.focusBox=void 0}}};b([w(q,{optional:!0})],Yu.prototype,"text",2);b([w(Jn,{optional:!0})],Yu.prototype,"renderer",2);var sh=class extends Ce{constructor(){super(...arguments),this.darkTheme=!1,this.loading=new Yu("ag-chart-loading-overlay","overlayLoadingData"),this.noData=new Yu("ag-chart-no-data-overlay","overlayNoData"),this.noVisibleSeries=new Yu("ag-chart-no-visible-series","overlayNoVisibleSeries")}getFocusInfo(e){for(const t of[this.loading,this.noData,this.noVisibleSeries])if(t.focusBox!==void 0)return{text:t.getText(e),rect:t.focusBox}}destroy(){this.loading.removeElement(),this.noData.removeElement(),this.noVisibleSeries.removeElement()}};b([w(me)],sh.prototype,"darkTheme",2);b([w(le)],sh.prototype,"loading",2);b([w(le)],sh.prototype,"noData",2);b([w(le)],sh.prototype,"noVisibleSeries",2);function uY(e,t){const{animationDuration:n}=bd.add,i=n*t,r=un("div",`${Pv}--loading`,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",height:"100%",boxSizing:"border-box",font:"13px Verdana, sans-serif",userSelect:"none",animation:`ag-charts-loading ${i}ms linear 50ms both`}),s=un("span",{width:"45px",height:"40px",backgroundImage:["linear-gradient(#0000 calc(1 * 100% / 6), #ccc 0 calc(3 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(2 * 100% / 6), #ccc 0 calc(4 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(3 * 100% / 6), #ccc 0 calc(5 * 100% / 6), #0000 0)"].join(""),backgroundSize:"10px 400%",backgroundRepeat:"no-repeat",animation:"ag-charts-loading-matrix 1s infinite linear"}),o=un("p",{marginTop:"1em"});o.innerText=e;const a=un("div",`${Pv}__loading-background`,{position:"absolute",inset:"0",opacity:"0.5",zIndex:"-1"}),l=un("style");return l.innerText=["@keyframes ag-charts-loading { from { opacity: 0 } to { opacity: 1 } }","@keyframes ag-charts-loading-matrix {","0% { background-position: 0% 0%, 50% 0%, 100% 0%; }","100% { background-position: 0% 100%, 50% 100%, 100% 100%; }","}"].join(" "),r.replaceChildren(l,s,o,a),r}function Fg(e,t=[0,0]){for(const n of e)typeof n=="number"&&(n<0&&(t[0]+=n),n>0&&(t[1]+=n));return t}function dY(e,t){return{id:e,matchGroupIds:[t],type:"aggregate",aggregateFunction:i=>Fg(i)}}function hT(e,t){return{id:e,type:"aggregate",matchGroupIds:t?[t]:void 0,aggregateFunction:n=>Fg(n),groupAggregateFunction:(n,i=[0,0])=>(i[0]+=(n==null?void 0:n[0])??0,i[1]+=(n==null?void 0:n[1])??0,i)}}function pT(e,t){return{id:e,matchGroupIds:[t],type:"aggregate",aggregateFunction:i=>al.extendDomain(i)}}function Ov(e){return{id:e,type:"aggregate",aggregateFunction:()=>[0,1],groupAggregateFunction:(t,n=[0,0])=>(n[0]+=(t==null?void 0:t[0])??0,n[1]+=(t==null?void 0:t[1])??0,n)}}function fT(e,t){return{id:e,matchGroupIds:t?[t]:void 0,type:"aggregate",aggregateFunction:i=>Fg(i),groupAggregateFunction:(i,r=[0,0,-1])=>(r[0]+=(i==null?void 0:i[0])??0,r[1]+=(i==null?void 0:i[1])??0,r[2]++,r),finalFunction:(i=[0,0,0])=>{const r=i[0]+i[1];return r>=0?[0,r/i[2]]:[r/i[2],0]}}}function _v(e,t,n){const i={id:e,matchGroupIds:n?[n]:void 0,type:"aggregate",aggregateFunction:(r,s=[])=>{const o=s[1]-s[0];return t.aggregateFunction(r).map(a=>a/o)}};return t.groupAggregateFunction&&(i.groupAggregateFunction=t.groupAggregateFunction),i}function gT(e){return()=>{let t=0;return n=>Pe(n)?(t+=e?Math.max(0,n):n,t):n}}function mT(){return()=>{let e=0;return t=>{if(!Pe(t))return t;const n=e;return e+=t,n}}}var yT={type:"reducer",property:"smallestKeyInterval",initialValue:1/0,reducer:()=>{let e=NaN;return(t=1/0,n)=>{const i=n.keys[0],r=Math.abs(i-e);return e=i,!isNaN(r)&&r>0&&r<t?r:t}}},vT={type:"reducer",property:"largestKeyInterval",initialValue:-1/0,reducer:()=>{let e=NaN;return(t=-1/0,n)=>{const i=n.keys[0],r=Math.abs(i-e);return e=i,!isNaN(r)&&r>0&&r>t?r:t}}},xT={type:"processor",property:"sortedGroupDomain",calculate:({domain:{groups:e}})=>e==null?void 0:e.slice().sort((t,n)=>{for(let i=0;i<t.length;i++){const r=t[i]-n[i];if(r!==0)return r}return 0})};function hY({normaliseTo:e,mode:t}){const n=(i,r)=>{const s=i*e/r;return s>=0?Math.min(e,s):Math.max(-e,s)};return()=>()=>(i,r)=>{const s=[0,0];for(const a of r){const l=i[a],c=l<0?0:1;t==="sum"?s[c]+=l:c===0?s[c]=Math.min(s[c],l):s[c]=Math.max(s[c],l)}const o=Math.max(Math.abs(s[0]),s[1]);for(const a of r)i[a]=n(i[a],o)}}function Ld(e,t,n="sum"){return{type:"group-value-processor",matchGroupIds:e,adjust:Dd({normaliseTo:t,mode:n},hY)}}function pY({normaliseTo:e,zeroDomain:t,rangeMin:n,rangeMax:i}){const r=e[1]-e[0],s=(o,a,l)=>{const c=e[0]+(o-a)/l*r;return l===0?t:c>=e[1]?e[1]:c<e[0]?e[0]:c};return()=>(o,a)=>{let[l,c]=o.domain.values[a];n!=null&&(l=n),i!=null&&(c=i);const u=c-l;o.domain.values[a]=[e[0],e[1]];for(const d of o.data){let h=d.values;o.type==="ungrouped"&&(h=[h]);for(const p of h)p[a]=s(p[a],l,u)}}}function Ed(e,t,n,i,r){return{type:"property-value-processor",property:e,adjust:Dd({normaliseTo:t,rangeMin:i,rangeMax:r,zeroDomain:n},pY)}}function Mc(e){return{type:"processor",property:"animationValidation",calculate(t){const{keys:n,values:i}=t.defs,{input:r,data:s}=t;let o=!0,a=!0;const l=[];for(let u=0;u<i.length;u++)e!=null&&e.includes(i[u].id)&&l.push([u,i[u]]);const c=(u,d,h)=>{var f;if(d.valueType==="category"){const g=t.domain[h][u];o&&(o=g.length===r.count);return}let p=(f=s[0])==null?void 0:f[h][u];for(let g=1;(o||a)&&g<s.length;g++){const v=s[g][h][u];a&&(a=p<=v),o&&(o=p!==v),p=v}};for(let u=0;(o||a)&&u<n.length;u++)c(u,n[u],"keys");for(let u=0;(o||a)&&u<l.length;u++){const[d,h]=l[u];c(d,h,"values")}return{uniqueKeys:o,orderedKeys:a}}}}function fY({mode:e,separateNegative:t}){return()=>()=>(n,i)=>{const r=[0,0];for(const s of i){const o=n[s],a=dc(o)&&t?0:1;Pe(o)&&(e==="normal"&&(r[a]+=o),n[s]=r[a],e==="trailing"&&(r[a]+=o))}}}function gY({mode:e,sum:t}){return()=>{const n=[];let i=!0;return()=>(r,s)=>{let o=0;for(const a of s){const l=r[a],c=i&&t==="current"?0:n[a];n[a]=l;const u=t==="current"?l:c;if(!Pe(l)||!Pe(c)){r[a]=o;continue}e==="normal"&&(o+=u),r[a]=o,e==="trailing"&&(o+=u)}i=!1}}}function bT(e,t,n,i=!1){let r;if(t.startsWith("window")){const s=t.endsWith("-trailing")?"trailing":"normal";r=Dd({mode:s,sum:n},gY)}else r=Dd({mode:t,separateNegative:i},fY);return{type:"group-value-processor",matchGroupIds:[e],adjust:r}}function mY({separateNegative:e}){return()=>()=>(t,n)=>{const i=[!0,!0];for(const r of n){const s=t[r],o=dc(s)&&e?0:1;i[o]&&(i[o]=Pe(s)),t[r]=i[o]}}}function wT(e,t=!1){const n=Dd({separateNegative:t},mY);return{type:"group-value-processor",matchGroupIds:[e],adjust:n}}function Ga(e,t=!0){return{type:"processor",property:"diff",calculate:n=>{const i=new Map,r=new Map,s=new Map,o=new Map,a=Math.max(e.data.length,n.data.length);for(let c=0;c<a;c++){const u=e.data[c],d=n.data[c],h=u?Co(u.keys):"",p=d?Co(d.keys):"";if(d&&u&&h===p){va(u.values,d.values)||s.set(p,d);continue}o.has(p)?((t||!va(o.get(p).values,d.values))&&(s.set(p,d),i.set(p,d)),o.delete(p)):d&&r.set(p,d),r.has(h)?((t||!va(r.get(h).values,u.values))&&(s.set(h,u),i.set(h,u)),r.delete(h)):u&&(s.delete(h),o.set(h,u))}return{changed:r.size>0||s.size>0||o.size>0,added:r,updated:s,removed:o,moved:i}}}}function Co(e,...t){let n;return Ot(e)?n=e.map(r=>_l(r)).join("___"):n=_l(e),(typeof n=="string"||typeof n=="number"||n instanceof Date)&&t.length>0&&(n+=`___${t.join("___")}`),n}var ST=(e=>(e[e.EXACT_SHAPE_MATCH=0]="EXACT_SHAPE_MATCH",e[e.NEAREST_BY_MAIN_AXIS_FIRST=1]="NEAREST_BY_MAIN_AXIS_FIRST",e[e.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST=2]="NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST",e[e.NEAREST_NODE=3]="NEAREST_NODE",e))(ST||{});function Vx(e){return e!=null&&Ag(e)}function yY(e){return e!=null}function MT(e){switch(e){case"number":case"log":case"ordinal-time":case"time":case"color":return Vx;default:return yY}}function DT(e){switch(e){case"number":case"log":case"time":case"color":return"range";default:return"category"}}function pn(e,t,n={}){return{property:e,type:"key",valueType:DT(t),validation:MT(t),...n}}function Ke(e,t,n={}){return{property:e,type:"value",valueType:DT(t),validation:MT(t),...n}}function Kx(e,t={}){const{min:n=-1/0,max:i=1/0,...r}=t;return{type:"value",property:e,valueType:"range",validation:Vx,processor:()=>s=>Pe(s)?ke(n,s,i):s,...r}}function $x(e,t,n={}){const{onlyPositive:i,...r}=n;return{...Ke(e,t,r),processor:gT(i)}}function vY(e,t,n={}){return{...Ke(e,t,n),processor:mT()}}function nr(e,t,n="current",i,r){return[Ke(e,r,i),bT(i.groupId,t,n,i.separateNegative),...i.rangeId!=null?[pT(i.rangeId,i.groupId)]:[]]}function kT(e,t,n){return[Ke(e,n,t),wT(t.groupId,t.separateNegative)]}var oh=class{constructor(e,t,{datum:n},i){this.type=e,this.event=t,this.datum=n,this.seriesId=i.id}},Xx=class{constructor(e,t,n){this.series=e,this.seriesGrouping=t,this.oldGrouping=n,this.type="groupingChanged"}},Dc=class extends IE{constructor(e){super(),this.destroyFns=[],this.seriesGrouping=void 0,this.NodeEvent=oh,this.internalId=Hr(this),this.rootGroup=new ge({name:"seriesRoot",isVirtual:!0}),this.axes={x:void 0,y:void 0},this.directions=["x","y"],this.nodeDataRefresh=!0,this.moduleMap=new Ix,this._declarationOrder=-1,this.seriesListeners=new _o;const{moduleCtx:t,pickModes:n=[1],directionKeys:i={},directionNames:r={},contentGroupVirtual:s=!0,canHaveAxes:o=!1}=e;this.ctx=t,this.directionKeys=i,this.directionNames=r,this.canHaveAxes=o,this.contentGroup=this.rootGroup.appendChild(new ge({name:`${this.internalId}-content`,isVirtual:s,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("data")})),this.highlightGroup=new ge({name:`${this.internalId}-highlight`,isVirtual:s,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("highlight")}),this.highlightNode=this.highlightGroup.appendChild(new ge({name:"highlightNode",zIndex:0})),this.highlightLabel=this.highlightGroup.appendChild(new ge({name:"highlightLabel",zIndex:10})),this.pickModes=n,this.labelGroup=this.rootGroup.appendChild(new ge({name:`${this.internalId}-series-labels`,zIndex:8})),this.annotationGroup=new ge({name:`${this.id}-annotation`,isVirtual:s,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("annotation")})}get id(){var e;return((e=this.properties)==null?void 0:e.id)??this.internalId}get type(){return this.constructor.type??""}get data(){return this._data??this._chartData}set visible(e){this.properties.visible=e,this.visibleMaybeChanged()}get visible(){return this.properties.visible}get hasData(){return this.data!=null&&this.data.length>0}get tooltipEnabled(){var e;return((e=this.properties.tooltip)==null?void 0:e.enabled)??!1}onDataChange(){this.nodeDataRefresh=!0}setOptionsData(e){this._data=e,this.onDataChange()}setChartData(e){this._chartData=e,this.data===e&&this.onDataChange()}onSeriesGroupingChange(e,t){const{internalId:n,type:i,visible:r}=this;e&&this.ctx.seriesStateManager.deregisterSeries({id:n,type:i}),t&&this.ctx.seriesStateManager.registerSeries({id:n,type:i,visible:r,seriesGrouping:t}),this.fireEvent(new Xx(this,t,e))}getBandScalePadding(){return{inner:1,outer:0}}getGroupZIndexSubOrder(e,t=0){let n=0;switch(e){case"data":case"paths":break;case"labels":n+=2e4;break;case"marker":n+=1e4;break;case"highlight":t+=15e3;break;case"annotation":n+=15e3;break}return[()=>this._declarationOrder+n,t]}addListener(e,t){return this.seriesListeners.addListener(e,t)}dispatch(e,t){this.seriesListeners.dispatch(e,t)}addChartEventListeners(){}destroy(){this.destroyFns.forEach(e=>e()),this.destroyFns=[],this.ctx.seriesStateManager.deregisterSeries(this)}getDirectionValues(e,t){const n=this.resolveKeyDirection(e),i=t==null?void 0:t[n],r=[];if(!i)return r;const s=(...o)=>{for(const a of o)Array.isArray(a)?s(...a):typeof a=="object"?s(...Object.values(a)):r.push(a)};return s(...i.map(o=>this.properties[o])),r}getKeys(e){return this.getDirectionValues(e,this.directionKeys)}getKeyProperties(e){return this.directionKeys[this.resolveKeyDirection(e)]??[]}getNames(e){return this.getDirectionValues(e,this.directionNames)}resolveKeyDirection(e){return e}getDomain(e){const t=this.getSeriesDomain(e),n=this.moduleMap.mapModules(i=>i.getDomain(e));return t.concat(n.flat())}markNodeDataDirty(){this.nodeDataRefresh=!0,this.visibleMaybeChanged()}visibleMaybeChanged(){this.ctx.seriesStateManager.registerSeries(this)}getOpacity(){const{dimOpacity:t=1,enabled:n=!0}=this.properties.highlightStyle.series;if(!n||t===1)return 1;switch(this.isItemIdHighlighted()){case 0:case 1:return 1;case 2:default:return t}}getStrokeWidth(e){const{strokeWidth:t,enabled:n=!0}=this.properties.highlightStyle.series;if(!n||t===void 0)return e;switch(this.isItemIdHighlighted()){case 1:return t;case 0:case 2:return e}}isItemIdHighlighted(){var t,n;const e=(n=(t=this.ctx.highlightManager)==null?void 0:t.getActiveHighlight())==null?void 0:n.series;return e==null?0:e!==this?2:1}getModuleTooltipParams(){return this.moduleMap.mapModules(e=>e.getTooltipParams()).reduce((e,t)=>Object.assign(e,t),{})}pickNode(e,t){const{pickModes:n,visible:i,rootGroup:r}=this;if(!(!i||!r.visible))for(const s of n){if(t&&!t.includes(s))continue;let o;switch(s){case 0:o=this.pickNodeExactShape(e);break;case 1:case 2:o=this.pickNodeMainAxisFirst(e,s===2);break;case 3:o=this.pickNodeClosestDatum(e);break}if(o)return{pickMode:s,match:o.datum,distance:o.distance}}}pickNodeExactShape(e){const t=this.contentGroup.pickNode(e.x,e.y);if(t&&t.datum.missing!==!0)return{datum:t.datum,distance:0}}pickNodeClosestDatum(e){throw new Error("AG Charts - Series.pickNodeClosestDatum() not implemented")}pickNodeNearestDistantObject(e,t){const n=mg(e.x,e.y,t);if(n.nearest!==void 0&&n.nearest.datum.missing!==!0)return{datum:n.nearest.datum,distance:Math.sqrt(n.distanceSquared)}}pickNodeMainAxisFirst(e,t){throw new Error("AG Charts - Series.pickNodeMainAxisFirst() not implemented")}fireNodeClickEvent(e,t){this.fireEvent(new this.NodeEvent("nodeClick",e,t,this))}fireNodeDoubleClickEvent(e,t){this.fireEvent(new this.NodeEvent("nodeDoubleClick",e,t,this))}createNodeContextMenuActionEvent(e,t){return new this.NodeEvent("nodeContextMenuAction",e,t,this)}toggleSeriesItem(e,t){this.visible=t,this.nodeDataRefresh=!0,this.dispatch("visibility-changed",{itemId:e,enabled:t})}isEnabled(){return this.visible}getModuleMap(){return this.moduleMap}createModuleContext(){return{...this.ctx,series:this}}getLabelText(e,t,n=String){return e.formatter?this.ctx.callbackCache.call(e.formatter,{seriesId:this.id,...t})??n(t.value):n(t.value)}getMarkerStyle(e,t,n=e.getStyle()){var s;const i={size:((s=t.datum.point)==null?void 0:s.size)??0},r=Ie(i,n);if(e.itemStyler){const o=this.ctx.callbackCache.call(e.itemStyler,{seriesId:this.id,...r,...t,datum:t.datum.datum});return Ie(o,r)}return r}updateMarkerStyle(e,t,n,i=t.getStyle(),{applyTranslation:r=!0}={}){const{point:s}=n.datum,o=this.getMarkerStyle(t,n,i),a=this.visible&&o.size>0&&s&&!isNaN(s.x)&&!isNaN(s.y);r?e.setProperties({visible:a,...o,translationX:s==null?void 0:s.x,translationY:s==null?void 0:s.y}):e.setProperties({visible:a,...o}),typeof t.shape=="function"&&!e.dirtyPath&&(e.path.clear(!0),e.updatePath(),e.checkPathDirty())}getMinRects(e,t){}get nodeDataDependencies(){return this._nodeDataDependencies??{seriesRectWidth:NaN,seriesRectHeight:NaN}}checkResize(e){const{width:t,height:n}=e??{width:NaN,height:NaN},i=e?{seriesRectWidth:t,seriesRectHeight:n}:void 0,r=pi(this.nodeDataDependencies,i)!=null;return r&&(this._nodeDataDependencies=i,this.markNodeDataDirty()),r}pickFocus(e){}};Dc.highlightedZIndex=1e12;b([Fn({changeValue:function(e,t){this.onSeriesGroupingChange(t,e)}})],Dc.prototype,"seriesGrouping",2);var eD=30,xY=class{constructor(e,t,n){this.seriesRoot=e,this.highlightRoot=t,this.annotationRoot=n,this.groups={},this.series={},this.expectedSeriesCount=1,this.mode="normal"}setSeriesCount(e){this.expectedSeriesCount=e}requestGroup(e){var t,n;const{internalId:i,type:r,rootGroup:s,highlightGroup:o,annotationGroup:a,seriesGrouping:l}=e,{groupIndex:c=i}=l??{};if(this.series[i]!=null)throw new Error(`AG Charts - series already has an allocated layer: ${this.series[i]}`);Object.keys(this.series).length===0&&(this.mode=this.expectedSeriesCount>=eD?"aggressive-grouping":"normal"),(t=this.groups)[r]??(t[r]={});const u=this.lookupIdx(c);let d=this.groups[r][u];return d||(d=(n=this.groups[r])[u]??(n[u]={type:r,id:u,seriesIds:[],group:this.seriesRoot.appendChild(new ge({name:`${r}-content`,layer:!0,zIndex:4,zIndexSubOrder:e.getGroupZIndexSubOrder("data")})),highlight:this.highlightRoot.appendChild(new ge({name:`${r}-highlight`,zIndex:4,zIndexSubOrder:e.getGroupZIndexSubOrder("highlight")})),annotation:this.annotationRoot.appendChild(new ge({name:`${r}-annotation`,zIndex:4,zIndexSubOrder:e.getGroupZIndexSubOrder("annotation")}))})),this.series[i]={layerState:d,seriesConfig:e},d.seriesIds.push(i),d.group.appendChild(s),d.highlight.appendChild(o),d.annotation.appendChild(a),d.group}changeGroup(e){var c,u;const{internalId:t,seriesGrouping:n,type:i,rootGroup:r,highlightGroup:s,annotationGroup:o,oldGrouping:a}=e,{groupIndex:l=t}=n??{};(u=(c=this.groups[i])==null?void 0:c[l])!=null&&u.seriesIds.includes(t)||(this.series[t]!=null&&this.releaseGroup({internalId:t,seriesGrouping:a,type:i,rootGroup:r,highlightGroup:s,annotationGroup:o}),this.requestGroup(e))}releaseGroup(e){var a,l,c;const{internalId:t,rootGroup:n,highlightGroup:i,annotationGroup:r,type:s}=e;if(this.series[t]==null)throw new Error(`AG Charts - series doesn't have an allocated layer: ${t}`);const o=(a=this.series[t])==null?void 0:a.layerState;if(o&&(o.seriesIds=o.seriesIds.filter(u=>u!==t),o.group.removeChild(n),o.highlight.removeChild(i),o.annotation.removeChild(r)),(o==null?void 0:o.seriesIds.length)===0)this.seriesRoot.removeChild(o.group),this.highlightRoot.removeChild(o.highlight),this.annotationRoot.removeChild(o.annotation),delete this.groups[o.type][o.id],delete this.groups[s][t];else if((o==null?void 0:o.seriesIds.length)>0){const u=(c=this.series[(l=o==null?void 0:o.seriesIds)==null?void 0:l[0]])==null?void 0:c.seriesConfig;o.group.zIndexSubOrder=u==null?void 0:u.getGroupZIndexSubOrder("data"),o.highlight.zIndexSubOrder=u==null?void 0:u.getGroupZIndexSubOrder("highlight"),o.annotation.zIndexSubOrder=u==null?void 0:u.getGroupZIndexSubOrder("annotation")}delete this.series[t]}lookupIdx(e){return this.mode==="normal"?e:typeof e=="string"&&(e=Number(e.split("-").at(-1)),!e)?0:Math.floor(ke(0,e/this.expectedSeriesCount,1)*eD)}destroy(){for(const e of Object.values(this.groups))for(const t of Object.values(e))this.seriesRoot.removeChild(t.group),this.highlightRoot.removeChild(t.highlight),this.annotationRoot.removeChild(t.annotation);this.groups={},this.series={}}},bY=class{constructor(e,t){this.chartLike=e,this.layoutService=t,this.destroyFns=[],this.destroyFns.push(this.layoutService.addListener("start-layout",n=>this.positionPadding(n)),this.layoutService.addListener("layout-complete",n=>this.alignCaptions(n)),this.layoutService.addListener("start-layout",n=>this.positionCaptions(n)))}destroy(){this.destroyFns.forEach(e=>e())}positionPadding(e){const{shrinkRect:t}=e,{padding:n}=this.chartLike;return t.shrink(n.left,"left"),t.shrink(n.top,"top"),t.shrink(n.right,"right"),t.shrink(n.bottom,"bottom"),{...e,shrinkRect:t}}positionCaptions(e){const{shrinkRect:t,positions:n,padding:i}=e,{title:r,subtitle:s,footnote:o,titlePadding:a}=this.chartLike,l=t.clone().shrink(a),c=t.clone(),u=f=>{const g=t.height/10,v=f.lineHeight??f.fontSize*Ye.defaultLineHeightRatio,y=t.width,m=Math.max(v,g);f.computeTextWrap(y,m)},d=f=>f==="left"?l.x:f==="right"?l.x+l.width:(f!=="center"&&$.error(`invalid textAlign value: ${f}`),l.x+l.width/2),h=(f,g)=>{const v=l.y;f.node.x=d(f.textAlign),f.node.y=v,f.node.textBaseline="top",u(f);const y=f.node.computeBBox(),m=Math.ceil(y.y-v+y.height+g);return f.layoutStyle==="block"&&(c.shrink(m+2*a,"top"),l.shrink(m,"top")),y},p=(f,g)=>{const v=l.y+l.height;f.node.x=d(f.textAlign),f.node.y=v,f.node.textBaseline="bottom",u(f);const y=f.node.computeBBox(),m=Math.ceil(v-y.y+g);return f.layoutStyle==="block"&&(c.shrink(m+2*a,"bottom"),l.shrink(m,"bottom")),y};if(r.node.visible=r.enabled,s.node.visible=s.enabled,o.node.visible=o.enabled,r.enabled){const{spacing:f=s.enabled?rt.SMALL_PADDING:rt.LARGE_PADDING}=r;n.title=h(r,f)}return s.enabled&&(n.subtitle=h(s,s.spacing??0)),o.enabled&&(n.footnote=p(o,o.spacing??0)),i.title=a,{...e,shrinkRect:c,positions:n}}alignCaptions(e){const{title:t,subtitle:n,footnote:i,titlePadding:r}=this.chartLike,s=(o,a)=>{if(o.layoutStyle==="overlay"){if(o.textAlign==="left")o.node.x=a.x+r;else if(o.textAlign==="right"){const l=o.node.computeBBox();o.node.x=a.x+a.width-l.width-r}}};s(t,e.series.rect),s(n,e.series.rect),s(i,e.series.rect)}},wY=class{constructor(e,t,n,i){this.chart=e,this.dataService=t,this.updateService=n,this.zoomManager=i,this.dirtyZoom=!1,this.dirtyDataSource=!1,this.lastAxisZooms=new Map,this.destroyFns=[],this.destroyFns.push(this.dataService.addListener("data-source-change",()=>this.onDataSourceChange()),this.dataService.addListener("data-load",()=>this.onDataLoad()),this.dataService.addListener("data-error",()=>this.onDataError()),this.updateService.addListener("update-complete",()=>this.onUpdateComplete()),this.zoomManager.addListener("zoom-change",()=>this.onZoomChange()))}destroy(){this.destroyFns.forEach(e=>e())}onDataLoad(){this.updateService.update(1)}onDataError(){this.updateService.update(3)}onDataSourceChange(){this.dirtyDataSource=!0}onUpdateComplete(){!this.dirtyZoom&&!this.dirtyDataSource||this.updateWindow().catch(e=>$.errorOnce(e))}onZoomChange(){this.dirtyZoom=!0}async updateWindow(){if(!this.dataService.isLazy())return;const e=this.getValidAxis();let t,n=!0;if(e){const i=this.zoomManager.getAxisZoom(e.id);t=this.getAxisWindow(e,i),n=this.shouldRefresh(e,i)}this.dirtyZoom=!1,this.dirtyDataSource=!1,n&&this.dataService.load({windowStart:t==null?void 0:t.min,windowEnd:t==null?void 0:t.max})}getValidAxis(){return this.chart.axes.find(e=>e.type==="time")}shouldRefresh(e,t){if(this.dirtyDataSource)return!0;if(!this.dirtyZoom)return!1;const n=this.lastAxisZooms.get(e.id);return n&&t.min===n.min&&t.max===n.max?!1:(this.lastAxisZooms.set(e.id,t),!0)}getAxisWindow(e,t){var o,a;const n=(a=(o=e.scale).getDomain)==null?void 0:a.call(o);if(!t||!n||n.length===0||isNaN(Number(n[0])))return;const i=Number(n[1])-Number(n[0]),r=new Date(Number(n[0])+i*t.min),s=new Date(Number(n[0])+i*t.max);return{min:r,max:s}}},SY=".ag-chart-overlay{color:#181d1f;pointer-events:none}.ag-chart-overlay.ag-chart-dark-overlay{color:#ffffff}.ag-chart-overlay--loading{color:rgb(140,140,140)}.ag-chart-overlay__loading-background{background:white;pointer-events:none}.ag-chart-overlay.ag-chart-dark-overlay .ag-chart-overlay__loading-background{background:#192232}",MY=class{constructor(e,t,n,i,r,s,o){this.chartLike=e,this.overlays=t,this.dataService=n,this.layoutService=i,this.localeManager=r,this.animationManager=s,this.domManager=o,this.destroyFns=[],this.overlayElem=this.domManager.addChild("canvas-overlay","overlay"),this.overlayElem.role="status",this.overlayElem.ariaAtomic="false",this.overlayElem.ariaLive="polite",this.overlayElem.classList.toggle(Pv),this.domManager.addStyles("overlays",SY),this.destroyFns.push(this.layoutService.addListener("layout-complete",a=>this.onLayoutComplete(a)))}destroy(){this.destroyFns.forEach(e=>e()),this.domManager.removeStyles("overlays"),this.domManager.removeChild("canvas-overlay","overlay")}onLayoutComplete({series:{rect:e}}){const t=this.dataService.isLoading(),n=this.chartLike.series.some(r=>r.hasData),i=this.chartLike.series.some(r=>r.visible);this.overlays.darkTheme?this.overlayElem.classList.add(JM):this.overlayElem.classList.remove(JM),this.overlayElem.style.left=`${e.x}px`,this.overlayElem.style.top=`${e.y}px`,this.overlayElem.style.width=`${e.width}px`,this.overlayElem.style.height=`${e.height}px`,this.toggleOverlay(this.overlays.loading,e,t),this.toggleOverlay(this.overlays.noData,e,!t&&!n),this.toggleOverlay(this.overlays.noVisibleSeries,e,n&&!i)}toggleOverlay(e,t,n){if(n){const i=e.getElement(this.animationManager,this.localeManager,t);this.overlayElem.appendChild(i)}else e.removeElement(()=>{this.overlayElem.innerText=" "},this.animationManager)}},$i=et.create(!0,"opts"),Zx=class extends Ce{constructor(){super(...arguments),this.padding=new zo(0)}};b([w(me,{optional:!0})],Zx.prototype,"clip",2);b([w(le)],Zx.prototype,"padding",2);var Vt=class Ap extends IE{constructor(t,n){var i;super(),this.id=Hr(this),this.seriesRoot=new ge({name:`${this.id}-series-root`}),this.highlightRoot=new ge({name:`${this.id}-highlight-root`,layer:!0,zIndex:5,nonEmptyChildDerivedZIndex:!0}),this.annotationRoot=new ge({name:`${this.id}-annotation-root`,layer:!0,zIndex:10}),this.debug=et.create(),this.extraDebugStats={},this.data=[],this._firstAutoSize=!0,this.padding=new zo(20),this.titlePadding=0,this.seriesArea=new Zx,this.title=new rt,this.subtitle=new rt,this.footnote=new rt,this.keyboard=new jx,this.mode="standalone",this.destroyed=!1,this._skipSync=!1,this._destroyFns=[],this.chartAnimationPhase="initial",this.modulesManager=new cY,this.zoomManager=new cT,this.processors=[],this.queuedUserOptions=[],this._pendingFactoryUpdatesCount=0,this._performUpdateNoRenderCount=0,this._performUpdateSkipAnimations=!1,this.performUpdateType=7,this.updateShortcutCount=0,this.seriesToUpdate=new Set,this.updateMutex=new e4,this.updateRequestors={},this.performUpdateTrigger=n4(async({count:g})=>{this.destroyed||this.updateMutex.acquire(async()=>{try{await this.performUpdate(g)}catch(v){$.error("update error",v)}}).catch(v=>$.errorOnce(v))}),this._performUpdateSplits={},this.axes=[],this.series=[],this.focus={hasFocus:!1,series:void 0,seriesIndex:0,datumIndex:0,datum:void 0},this.pointerScheduler=t4(()=>{if(this.lastInteractionEvent){if(this.performUpdateType<=4){this.pointerScheduler.schedule();return}this.handlePointer(this.lastInteractionEvent,!1),this.lastInteractionEvent=void 0}}),this.onSeriesNodeClick=g=>{const v={...g,type:"seriesNodeClick"};Object.defineProperty(v,"series",{enumerable:!1,get:()=>g.series}),this.fireEvent(v)},this.onSeriesNodeDoubleClick=g=>{const v={...g,type:"seriesNodeDoubleClick"};this.fireEvent(v)},this.seriesGroupingChanged=g=>{if(!(g instanceof Xx))return;const{series:v,seriesGrouping:y,oldGrouping:m}=g;v.rootGroup.parent!=null&&this.seriesLayerManager.changeGroup({internalId:v.internalId,type:v.type,rootGroup:v.rootGroup,highlightGroup:v.highlightGroup,annotationGroup:v.annotationGroup,getGroupZIndexSubOrder:x=>v.getGroupZIndexSubOrder(x),seriesGrouping:y,oldGrouping:m})},this.dataProcessListeners=new Set,this.chartOptions=t;const r=n==null?void 0:n.scene,s=n==null?void 0:n.container,o=new ge({name:"root"}),a=new ge({name:"titles",layer:!0,zIndex:8});o.visible=!1,o.append(a),o.append(this.seriesRoot),o.append(this.highlightRoot),o.append(this.annotationRoot),a.append(this.title.node),a.append(this.subtitle.node),a.append(this.footnote.node);const{overrideDevicePixelRatio:l}=t.specialOverrides;this.tooltip=new Ui,this.seriesLayerManager=new xY(this.seriesRoot,this.highlightRoot,this.annotationRoot);const c=this.ctx=new P4(this,{scene:r,root:o,syncManager:new J4(this),container:s,updateCallback:(g=0,v)=>this.update(g,v),updateMutex:this.updateMutex,overrideDevicePixelRatio:l});this._destroyFns.push(c.domManager.addListener("resize",()=>this.parentResize(c.domManager.containerSize))),this.overlays=new sh,(i=this.overlays.loading).renderer??(i.renderer=()=>uY(this.overlays.loading.getText(c.localeManager),c.animationManager.defaultDuration)),this.processors=[new bY(this,c.layoutService),new wY(this,c.dataService,c.updateService,c.zoomManager),new MY(this,this.overlays,c.dataService,c.layoutService,c.localeManager,c.animationManager,c.domManager)],this.highlight=new eT,this.container=s;const{All:u}=ic,d=this.getModuleContext(),h=c.regionManager.addRegion("series",this.seriesRoot,this.ctx.axisManager.axisGridGroup),p=this.ctx.regionManager.addRegion("horizontal-axes"),f=this.ctx.regionManager.addRegion("vertical-axes");c.regionManager.addRegion("root",o),this._destroyFns.push(c.dataService.addListener("data-load",g=>{this.data=g.data}),this.title.registerInteraction(d),this.subtitle.registerInteraction(d),this.footnote.registerInteraction(d),c.regionManager.listenAll("click",g=>this.onClick(g)),c.regionManager.listenAll("dblclick",g=>this.onDoubleClick(g)),h.addListener("hover",g=>this.onMouseMove(g),20),h.addListener("drag",g=>this.onMouseMove(g),20),p.addListener("hover",g=>this.onMouseMove(g)),f.addListener("hover",g=>this.onMouseMove(g)),h.addListener("leave",g=>this.onLeave(g)),p.addListener("leave",g=>this.onLeave(g)),f.addListener("leave",g=>this.onLeave(g)),h.addListener("blur",()=>this.onBlur()),h.addListener("tab",g=>this.onTab(g)),h.addListener("nav-vert",g=>this.onNavVert(g)),h.addListener("nav-hori",g=>this.onNavHori(g)),h.addListener("submit",g=>this.onSubmit(g)),h.addListener("contextmenu",g=>this.onContextMenu(g),u),c.keyNavManager.addListener("browserfocus",g=>this.onBrowserFocus(g)),c.interactionManager.addListener("page-left",()=>this.destroy()),c.animationManager.addListener("animation-start",()=>this.onAnimationStart()),c.animationManager.addListener("animation-frame",()=>{this.update(6)}),c.highlightManager.addListener("highlight-change",g=>this.changeHighlightDatum(g)),c.zoomManager.addListener("zoom-pan-start",()=>this.resetPointer()),c.zoomManager.addListener("zoom-change",()=>{this.resetPointer(),this.ctx.focusIndicator.updateBounds(void 0),this.series.map(v=>{var y;return(y=v.animationState)==null?void 0:y.transition("updateData")});const g=this.chartAnimationPhase!=="initial";this.update(3,{forceNodeDataRefresh:!0,skipAnimations:g})})),this.parentResize(c.domManager.containerSize)}static getInstance(t){return Ap.chartsInstances.get(t)}get canvasElement(){return this.ctx.scene.canvas.element}download(t,n){this.ctx.scene.download(t,n)}getCanvasDataURL(t){return this.ctx.scene.getDataURL(t)}getOptions(){return this.queuedUserOptions.at(-1)??this.chartOptions.userOptions}getModuleContext(){return this.ctx}getCaptionText(){return[this.title,this.subtitle,this.footnote].filter(t=>t.enabled&&t.text).map(t=>t.text).join(". ")}getAriaLabel(){return this.ctx.localeManager.t("ariaAnnounceChart",{seriesCount:this.series.length,caption:this.getCaptionText()})}getDatumAriaText(t,n){var r,s;const i=n.ariaLabel;return((s=(r=t.series).getDatumAriaText)==null?void 0:s.call(r,t,i))??i}resetAnimations(){this.chartAnimationPhase="initial";for(const t of this.series)t.resetAnimation(this.chartAnimationPhase);for(const t of this.axes)t.resetAnimation(this.chartAnimationPhase);this.animationRect=void 0,this.ctx.animationManager.reset()}skipAnimations(){this.ctx.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0}destroy(t){if(this.destroyed)return;const n=t==null?void 0:t.keepTransferableResources;let i;return this.performUpdateType=7,this._destroyFns.forEach(r=>r()),this.processors.forEach(r=>r.destroy()),this.tooltip.destroy(this.ctx.domManager),this.overlays.destroy(),this.modulesManager.destroy(),n?(this.ctx.scene.strip(),i={container:this.container,scene:this.ctx.scene}):(this.ctx.scene.destroy(),this.container=void 0),this.destroySeries(this.series),this.seriesLayerManager.destroy(),this.axes.forEach(r=>r.destroy()),this.axes=[],this.animationRect=void 0,this.ctx.destroy(),this.zoomManager.destroy(),this.destroyed=!0,Object.freeze(this),i}resetPointer(t=!1){t||this.ctx.tooltipManager.removeTooltip(this.id),this.ctx.highlightManager.updateHighlight(this.id),this.lastInteractionEvent=void 0}requestFactoryUpdate(t){this.destroyed||(this._pendingFactoryUpdatesCount++,this.updateMutex.acquire(async()=>{this.destroyed||(await t(this),!this.destroyed&&this._pendingFactoryUpdatesCount--)}).catch(n=>$.errorOnce(n)))}update(t=0,n){const{forceNodeDataRefresh:i=!1,skipAnimations:r,seriesToUpdate:s=this.series,newAnimationBatch:o}=n??{};i&&this.series.forEach(a=>a.markNodeDataDirty());for(const a of s)this.seriesToUpdate.add(a);if(r&&(this.ctx.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0),o&&this.ctx.animationManager.isActive()&&(this._performUpdateSkipAnimations=!0),this._skipSync=(n==null?void 0:n.skipSync)??!1,this.debug.check()){let a=new Error().stack??"<unknown>";a=a.replace(/\([^)]*/g,""),this.updateRequestors[a]=t}t<this.performUpdateType&&(this.performUpdateType=t,this.performUpdateTrigger.schedule(n==null?void 0:n.backOffMs))}async performUpdate(t){const{performUpdateType:n,extraDebugStats:i,_performUpdateSplits:r,ctx:s}=this,o=[...this.seriesToUpdate];this.performUpdateType=7,this.seriesToUpdate.clear(),this.updateShortcutCount===0&&n<6&&(s.animationManager.startBatch(this._performUpdateSkipAnimations),s.animationManager.onBatchStop(()=>this.chartAnimationPhase="ready")),this.debug("Chart.performUpdate() - start",zu[n]);let a=performance.now();r.start??(r.start=a);const l=d=>{r[d]??(r[d]=0),r[d]+=performance.now()-a,a=performance.now()};let c=!1;switch(n){case 0:this.updateDOM();case 1:await this.updateData(),l("⬇️");case 2:await this.processData(),this.resetPointer(!0),l("🏭");case 3:if(this.checkUpdateShortcut(3))break;if(!this.checkFirstAutoSize(o)){c=!0;break}await this.processLayout(),l("⌖");case 4:if(this.checkUpdateShortcut(4))break;const{seriesRect:d}=this;await Promise.all(o.map(p=>p.update({seriesRect:d}))),l("🤔");case 5:if(this.checkUpdateShortcut(5))break;const h=s.tooltipManager.getTooltipMeta(this.id);n<=4&&(h==null?void 0:h.lastPointerEvent)!=null&&this.handlePointer(h.lastPointerEvent,!0),l("↖");case 6:if(this.checkUpdateShortcut(6))break;s.animationManager.endBatch(),i.updateShortcutCount=this.updateShortcutCount,await s.scene.render({debugSplitTimes:r,extraDebugStats:i}),this.extraDebugStats={};for(const p in r)delete r[p];this.ctx.domManager.incrementDataCounter("sceneRenders");case 7:this.updateShortcutCount=0,this.updateRequestors={},this._performUpdateSkipAnimations=!1,s.animationManager.endBatch()}c||s.updateService.dispatchUpdateComplete(this.getMinRects());const u=performance.now();this.debug("Chart.performUpdate() - end",{chart:this,durationMs:Math.round((u-r.start)*100)/100,count:t,performUpdateType:zu[n]})}updateThemeClassName(){const{theme:t}=this.chartOptions.processedOptions,n="ag-charts-theme-",i=[`${n}default`,`${n}default-dark`];let r=i[0],s=!1;typeof t=="string"?(r=t.replace("ag-",n),s=t.includes("-dark")):typeof(t==null?void 0:t.baseTheme)=="string"&&(r=t.baseTheme.replace("ag-",n),s=t.baseTheme.includes("-dark")),i.includes(r)||(r=s?i[1]:i[0]),this.ctx.domManager.setThemeClass(r)}updateDOM(){this.updateThemeClassName();const{enabled:t,tabIndex:n}=this.keyboard;this.ctx.domManager.setTabIndex(t?n??0:-1),Ra(this.ctx.scene.canvas.element,"role","figure"),Ra(this.ctx.scene.canvas.element,"aria-label",this.getAriaLabel())}checkUpdateShortcut(t){return this.updateShortcutCount>3?($.warn("exceeded the maximum number of simultaneous updates (4), discarding changes and rendering",this.updateRequestors),!1):this.performUpdateType<=t?(this.updateShortcutCount++,!0):!1}checkFirstAutoSize(t){if(!(this.width!=null&&this.height!=null)){if(!this._lastAutoSize){const n=this._performUpdateNoRenderCount++,i=(n+1)**2*40;if(n<8)return this.update(3,{seriesToUpdate:t,backOffMs:i}),this.debug("Chart.checkFirstAutoSize() - backing off until first size update",i),!1;this.debug("Chart.checkFirstAutoSize() - timeout for first size update.")}}return this._performUpdateNoRenderCount=0,!0}onAxisChange(t,n){n==null&&t.length===0||this.ctx.axisManager.updateAxes(n??[],t)}onSeriesChange(t,n){var r;const i=(n==null?void 0:n.filter(s=>!t.includes(s)))??[];this.destroySeries(i),(r=this.seriesLayerManager)==null||r.setSeriesCount(t.length);for(const s of t){if(n!=null&&n.includes(s))continue;s.rootGroup.parent==null&&this.seriesLayerManager.requestGroup(s);const o=this;s.chart={get mode(){return o.mode},get isMiniChart(){return!1},get seriesRect(){return o.seriesRect},placeLabels(){return o.placeLabels()}},s.resetAnimation(this.chartAnimationPhase),this.addSeriesListeners(s),s.addChartEventListeners()}}destroySeries(t){t==null||t.forEach(n=>{n.removeEventListener("nodeClick",this.onSeriesNodeClick),n.removeEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),n.removeEventListener("groupingChanged",this.seriesGroupingChanged),n.destroy(),this.seriesLayerManager.releaseGroup(n),n.chart=void 0})}addSeriesListeners(t){this.hasEventListener("seriesNodeClick")&&t.addEventListener("nodeClick",this.onSeriesNodeClick),this.hasEventListener("seriesNodeDoubleClick")&&t.addEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),t.addEventListener("groupingChanged",this.seriesGroupingChanged)}updateAllSeriesListeners(){this.series.forEach(t=>{t.removeEventListener("nodeClick",this.onSeriesNodeClick),t.removeEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),this.addSeriesListeners(t)})}assignSeriesToAxes(){this.axes.forEach(t=>{t.boundSeries=this.series.filter(n=>n.axes[t.direction]===t)})}assignAxesToSeries(){const t=Lx(this.axes,n=>n.direction);this.series.forEach(n=>{n.directions.forEach(i=>{const r=t[i];if(!r){$.warnOnce(`no available axis for direction [${i}]; check series and axes configuration.`);return}const s=n.getKeys(i),o=r.find(a=>!a.keys.length||s.some(l=>a.keys.includes(l)));if(!o){$.warnOnce(`no matching axis for direction [${i}] and keys [${s}]; check series and axes configuration.`);return}n.axes[i]=o})})}parentResize(t){if(t==null||this.width!=null&&this.height!=null)return;let{width:n,height:i}=t;if(n=Math.floor(n),i=Math.floor(i),n===0&&i===0)return;const[r=0,s=0]=this._lastAutoSize??[];r===n&&s===i||(this._lastAutoSize=[n,i],this.resize("SizeMonitor",{}))}resize(t,n){var d,h;const{scene:i,animationManager:r}=this.ctx,{inWidth:s,inHeight:o,inMinWidth:a,inMinHeight:l}=n;this.ctx.domManager.setSizeOptions(a??this.minWidth,l??this.minHeight,s??this.width,o??this.height);const c=s??this.width??((d=this._lastAutoSize)==null?void 0:d[0]),u=o??this.height??((h=this._lastAutoSize)==null?void 0:h[1]);if(this.debug(`Chart.resize() from ${t}`,{width:c,height:u,stack:new Error().stack}),!(c==null||u==null||!Pe(c)||!Pe(u))&&i.resize(c,u)){this.resetPointer(),r.reset();let p=!0;(this.width==null||this.height==null)&&this._firstAutoSize&&(p=!1,this._firstAutoSize=!1),this.update(3,{forceNodeDataRefresh:!0,skipAnimations:p})}}async updateData(){this.series.forEach(n=>n.setChartData(this.data));const t=this.modulesManager.mapModules(n=>{var i;return(i=n.updateData)==null?void 0:i.call(n,{data:this.data})});await Promise.all(t)}async processData(){if(this.series.some(r=>r.canHaveAxes)){this.assignAxesToSeries();const r=this.modulesManager.getModule("sync");r!=null&&r.enabled?r.syncAxes(this._skipSync):this.assignSeriesToAxes()}const t=new oT(this.mode),n=this.series.map(r=>r.processData(t)),i=this.modulesManager.mapModules(r=>{var s;return(s=r.processData)==null?void 0:s.call(r,{dataController:t})});t.execute(),await Promise.all([...n,...i]);for(const{legendType:r,legend:s}of this.modulesManager.legends())s.data=this.getLegendData(r,this.mode!=="integrated");this.dataProcessListeners.forEach(r=>r()),this.dataProcessListeners.clear()}placeLabels(){const t=[],n=[];for(const c of this.series){if(!c.visible)continue;const u=c.getLabelData();A3(u==null?void 0:u[0])&&(n.push(u),t.push(c))}const{seriesRect:i}=this,{top:r,right:s,bottom:o,left:a}=this.seriesArea.padding,l=i&&n.length>0?O3(n,{x:-a,y:-r,width:i.width+a+s,height:i.height+r+o}):[];return new Map(l.map((c,u)=>[t[u],c]))}getLegendData(t,n){var i;const r=this.series.filter(o=>o.properties.showInLegend).flatMap(o=>o.getLegendData(t));if(n&&(o=>o.every(a=>a.legendType==="category"))(r)){const o={},a=new Map(this.series.map(l=>[l.id,l.type]));for(const{seriesId:l,symbols:[{marker:c}],label:u}of r){if(c.fill==null)continue;const d=a.get(l),h=o[d]??(o[d]={});h[i=u.text]??(h[i]=c.fill),h[u.text]!==c.fill&&$.warnOnce(`legend item '${u.text}' has multiple fill colors, this may cause unexpected behaviour.`)}}return r}async processLayout(){var n;const t=this.animationRect;await this.performLayout(),t&&!((n=this.animationRect)!=null&&n.equals(t))&&this.ctx.animationManager.skipCurrentBatch(),this.debug("Chart.performUpdate() - seriesRect",this.seriesRect)}async performLayout(){const{width:t,height:n}=this.ctx.scene;let i={shrinkRect:new re(0,0,t,n),positions:{},padding:{}};i=this.ctx.layoutService.dispatchPerformLayout("start-layout",i),i=this.ctx.layoutService.dispatchPerformLayout("before-series",i);for(const r of this.modulesManager.modules())r.performLayout!=null&&(i=await r.performLayout(i));return i.shrinkRect}pickNode(t,n){const i=performance.now(),r=[...n].reverse();let s;for(const{series:o,pickModes:a,maxDistance:l}of r){if(!o.visible||!o.rootGroup.visible)continue;const{match:c,distance:u}=o.pickNode(t,a)??{};if(!(!c||u==null)&&((!s||s.distance>u)&&u<=(l??1/0)&&(s={series:o,distance:u,datum:c}),u===0))break}return this.extraDebugStats.pickSeriesNode=Math.round((this.extraDebugStats.pickSeriesNode??0)+(performance.now()-i)),s}pickSeriesNode(t,n,i){const r=n?[0]:void 0;return this.pickNode(t,this.series.map(s=>({series:s,pickModes:r,maxDistance:i})))}pickTooltip(t){return this.pickNode(t,this.series.map(n=>{const i=n.properties.tooltip.range;let r;return i==="exact"?r=[0]:r=void 0,{series:n,pickModes:r,maxDistance:typeof i=="number"?i:void 0}}))}onMouseMove(t){this.lastInteractionEvent=t,this.pointerScheduler.schedule(),this.extraDebugStats.mouseX=t.offsetX,this.extraDebugStats.mouseY=t.offsetY,this.update(6)}onLeave(t){const n=t.relatedElement;n&&this.ctx.domManager.isManagedDOMElement(n)||(this.resetPointer(),this.update(6),this.ctx.cursorManager.updateCursor("chart"))}onBrowserFocus(t){t.delta>0?(this.focus.datum=void 0,this.focus.series=void 0,this.focus.datumIndex=0,this.focus.seriesIndex=0):t.delta<0&&(this.focus.datum=void 0,this.focus.series=void 0,this.focus.datumIndex=1/0,this.focus.seriesIndex=1/0)}onAnimationStart(){this.focus.hasFocus&&this.onBlur()}onBlur(){this.ctx.focusIndicator.updateBounds(void 0),this.resetPointer(),this.focus.hasFocus=!1}onTab(t){this.handleFocus(0,0),t.preventDefault(),this.focus.hasFocus=!0}onNavVert(t){this.focus.seriesIndex+=t.delta,this.handleFocus(t.delta,0),t.preventDefault()}onNavHori(t){this.focus.datumIndex+=t.delta,this.handleFocus(0,t.delta),t.preventDefault()}onSubmit(t){const{series:n,datum:i}=this.focus,r=t.sourceEvent.sourceEvent;n!==void 0&&i!==void 0?n.fireNodeClickEvent(r,i):this.fireEvent({type:"click",event:r}),t.preventDefault()}onContextMenu(t){this.ctx.tooltipManager.removeTooltip(this.id);const{Default:n,ContextMenu:i}=ic;let r;this.ctx.interactionManager.getState()&(n|i)&&this.checkSeriesNodeRange(t,(s,o)=>{this.ctx.highlightManager.updateHighlight(this.id),r=o}),this.ctx.contextMenuRegistry.dispatchContext("series",t,{pickedNode:r})}handleFocus(t,n){this.focus.hasFocus=!0;const i=this.overlays.getFocusInfo(this.ctx.localeManager);i==null?this.handleSeriesFocus(t,n):(this.ctx.focusIndicator.updateBounds(i.rect),this.ctx.ariaAnnouncementService.announceValue(i.text))}handleSeriesFocus(t,n){const{series:i,seriesRect:r,focus:s}=this,o=i.filter(u=>u.visible);if(o.length===0)return;s.seriesIndex=ke(0,s.seriesIndex,o.length-1),s.series=o[s.seriesIndex];const{datumIndex:a,seriesIndex:l}=s,c=s.series.pickFocus({datumIndex:a,datumIndexDelta:n,otherIndex:l,otherIndexDelta:t,seriesRect:r});this.updatePickedFocus(c)}updatePickedFocus(t){const{focus:n}=this;if(t===void 0||n.series===void 0)return;const{datum:i,datumIndex:r}=t;n.datumIndex=r,n.datum=i;const s=uT(this.ctx.focusIndicator,t);if(s!==void 0){this.lastInteractionEvent=s;const o=n.series.getTooltipHtml(i),a=Rf.makeTooltipMeta(this.lastInteractionEvent,i),l=this.getDatumAriaText(i,o);this.ctx.highlightManager.updateHighlight(this.id,i),this.ctx.tooltipManager.updateTooltip(this.id,a,o),this.ctx.ariaAnnouncementService.announceValue("ariaAnnounceHoverDatum",{datum:l})}}static isHoverEvent(t){return t!==void 0&&t.type==="hover"}static isDragEvent(t){return t!==void 0&&t.type==="drag"}handlePointer(t,n){const i=this.ctx.interactionManager.getState();if(i!==16&&i!==4||!Ap.isHoverEvent(t)&&!Ap.isDragEvent(t))return;const{lastPick:r,hoverRect:s}=this,{offsetX:o,offsetY:a}=t,l=(c=!1)=>{r&&this.resetPointer(c)};if(n?this.ctx.animationManager.isActive():!(s!=null&&s.containsPoint(o,a))){l();return}this.handlePointerTooltip(t,l),this.handlePointerNode(t)}handlePointerTooltip(t,n){const{lastPick:i}=this,{offsetX:r,offsetY:s,targetElement:o}=t;if(o&&this.tooltip.interactive&&this.ctx.domManager.isManagedChildDOMElement(o,"canvas-overlay",kr))return;const a=this.pickTooltip({x:r,y:s});if(!a){this.ctx.tooltipManager.removeTooltip(this.id),this.highlight.range==="tooltip"&&n(!0);return}const l=this.highlight.range==="node"||!i||i!==a.datum;let c;l&&(c=a.series.getTooltipHtml(a.datum),this.highlight.range==="tooltip"&&this.ctx.highlightManager.updateHighlight(this.id,a.datum));const d=this.tooltip.enabled&&a.series.tooltipEnabled&&(!l||c!==void 0),h=Rf.makeTooltipMeta(t,a.datum);d&&this.ctx.tooltipManager.updateTooltip(this.id,h,c)}handlePointerNode(t){this.checkSeriesNodeRange(t,(i,r)=>{(i.hasEventListener("nodeClick")||i.hasEventListener("nodeDoubleClick"))&&this.ctx.cursorManager.updateCursor("chart","pointer"),this.highlight.range==="node"&&this.ctx.highlightManager.updateHighlight(this.id,r)})||(this.ctx.cursorManager.updateCursor("chart"),this.highlight.range==="node"&&this.ctx.highlightManager.updateHighlight(this.id))}onClick(t){if(this.checkSeriesNodeClick(t)){this.update(4),t.preventDefault();return}this.fireEvent({type:"click",event:t.sourceEvent})}onDoubleClick(t){if(this.checkSeriesNodeDoubleClick(t)){this.update(4),t.preventDefault();return}this.fireEvent({type:"doubleClick",event:t.sourceEvent})}checkSeriesNodeClick(t){return this.checkSeriesNodeRange(t,(n,i)=>n.fireNodeClickEvent(t.sourceEvent,i))}checkSeriesNodeDoubleClick(t){return this.checkSeriesNodeRange(t,(n,i)=>n.fireNodeDoubleClickEvent(t.sourceEvent,i))}checkSeriesNodeRange(t,n){var u;const i=this.pickSeriesNode({x:t.offsetX,y:t.offsetY},!1),r=i==null?void 0:i.datum,s=r==null?void 0:r.series.properties.nodeClickRange;let o;Pe(s)&&(o=s);let a=this.pickSeriesNode({x:t.offsetX,y:t.offsetY},!0);if(a&&(t.preventZoomDblClick=!0),r&&s==="nearest")return n(r.series,r),!0;if(s!=="exact"&&(a=this.pickSeriesNode({x:t.offsetX,y:t.offsetY},!1,o)),!a)return!1;const l=o!=null,c=s==="exact"&&a.distance===0;return(l||c)&&(t.pointerHistory===void 0||((u=t.pointerHistory)==null?void 0:u.every(h=>{const p={x:h.offsetX,y:h.offsetY},f=this.pickSeriesNode(p,!1,o);return(f==null?void 0:f.datum)===(a==null?void 0:a.datum)})))?(n(a.series,a.datum),!0):!1}changeHighlightDatum(t){const n=new Set,{series:i=void 0,datum:r}=t.currentHighlight??{},{series:s=void 0,datum:o}=t.previousHighlight??{};s&&n.add(s),i&&n.add(i),s!=null&&s.properties.cursor&&o&&this.ctx.cursorManager.updateCursor(s.id),i!=null&&i.properties.cursor&&r&&this.ctx.cursorManager.updateCursor(i.id,i.properties.cursor),this.lastPick=t.currentHighlight,i==null||s==null?this.update(4):this.update(4,{seriesToUpdate:n})}async waitForUpdate(t=1e4,n=!1){const i=performance.now();for(this._pendingFactoryUpdatesCount>0&&await this.updateMutex.waitForClearAcquireQueue();this.performUpdateType!==7;){if(performance.now()-i>t){const r=`Chart.waitForUpdate() timeout of ${t} reached - first chart update taking too long.`;if(n)throw new Error(r);$.warnOnce(r)}await J3(50)}await this.updateMutex.waitForClearAcquireQueue()}waitForDataProcess(t){return new Promise(n=>{this.dataProcessListeners.add(n),ci(t)&&setTimeout(()=>{this.dataProcessListeners.has(n)&&(this.dataProcessListeners.delete(n),n())},t)})}getMinRects(){const{width:t,height:n}=this.ctx.scene,i=this.series.map(u=>u.getMinRects(t,n)).filter(vd);if(i.length===0)return;let r=0,s=0,o=0,a=0;for(const{minRect:u,minVisibleRect:d}of i)r=Math.max(r,u.width),s=Math.max(s,u.height),o=Math.max(o,d.width),a=Math.max(a,d.height);const l=new re(0,0,r,s);let c=l.clone();return o>0&&a>0&&(c=new re(0,0,o,a)),{minRect:l,minVisibleRect:c}}filterMiniChartSeries(t){return t==null?void 0:t.filter(n=>n.showInMiniChart!==!1)}applyOptions(t){var v,y,m,x;const i=t!==this.chartOptions?this.chartOptions.processedOptions:{},r=t.processedOptions,s=t.diffOptions(i);if(s==null)return;$i("Chart.applyOptions() - applying delta",s);const o=this.applyModules(r),a=["type","data","series","listeners","preset","theme","legend.listeners","navigator.miniChart.series","navigator.miniChart.label","axes","topology","nodes","initialState"];s.listeners&&this.registerListeners(this,s.listeners),ls(this,s,{skip:a});let l=!1,c="no-op";(v=s.series)!=null&&v.length&&(c=this.applySeries(this,s.series,i==null?void 0:i.series),l=!0),c==="replaced"&&this.resetAnimations(),this.applyAxes(this,r,i,c,[],!0)&&(l=!0),s.data&&(this.data=s.data),(y=s.legend)!=null&&y.listeners&&this.modulesManager.isEnabled("legend")&&Object.assign(this.legend.listeners,s.legend.listeners),s.listeners&&this.updateAllSeriesListeners(),this.chartOptions=t;const u=this.modulesManager.getModule("navigator"),d=this.modulesManager.getModule("zoom");!(u!=null&&u.enabled)&&!(d!=null&&d.enabled)&&this.ctx.zoomManager.updateZoom("chart");const h=u==null?void 0:u.miniChart,p=((x=(m=r.navigator)==null?void 0:m.miniChart)==null?void 0:x.series)??r.series;(h==null?void 0:h.enabled)===!0&&p!=null?this.applyMiniChartOptions(h,p,r,i):(h==null?void 0:h.enabled)===!1&&(h.series=[],h.axes=[]),this.ctx.annotationManager.setAnnotationStyles(t.annotationThemes),l||(l=this.shouldForceNodeDataRefresh(s,c));const g=l||o?0:3;this.maybeResetAnimations(c),$i("Chart.applyOptions() - update type",zu[g],{seriesStatus:c,forceNodeDataRefresh:l}),this.update(g,{forceNodeDataRefresh:l,newAnimationBatch:!0})}applyInitialState(){var r;const{ctx:{annotationManager:t,stateManager:n}}=this,i=this.getOptions();if(((r=i.initialState)==null?void 0:r.annotations)!=null){const s=i.initialState.annotations.map(o=>{const a=t.getAnnotationTypeStyles(o.type);return Ie(o,a)});n.setState(t,s)}}maybeResetAnimations(t){if(this.mode==="standalone")switch(t){case"series-grouping-change":case"replaced":this.resetAnimations();break}}shouldForceNodeDataRefresh(t,n){const i=!!t.data||n==="data-change"||n==="replaced",r=Yx.getKeys(),s=Object.values(r).some(a=>t[a]!=null),o=t.title!=null&&t.subtitle!=null;return i||s||o}applyMiniChartOptions(t,n,i,r){var c,u,d,h;const s=((u=(c=r==null?void 0:r.navigator)==null?void 0:c.miniChart)==null?void 0:u.series)??(r==null?void 0:r.series),o=this.applySeries(t,this.filterMiniChartSeries(n),this.filterMiniChartSeries(s));this.applyAxes(t,i,r,o,["axes[].tick","axes[].thickness","axes[].title","axes[].crosshair","axes[].gridLine","axes[].label"]);const a=t.axes,l=a.find(p=>p.direction==="x");for(const p of a)p.gridLine.enabled=!1,p.label.enabled=p===l,p.tick.enabled=!1,p.interactionEnabled=!1;if(l!=null){const p=(d=i.navigator)==null?void 0:d.miniChart,f=p==null?void 0:p.label,g=(h=p==null?void 0:p.label)==null?void 0:h.interval;l.line.enabled=!1,l.label.set(vv(f,["interval","rotation","minSpacing","autoRotate","autoRotateAngle"])),l.tick.set(vv(g,["enabled","width","size","color","interval","step"]));const v=g==null?void 0:g.step;v!=null&&(l.interval.step=v)}}applyModules(t){var r;const{type:n}=this.constructor;let i=!1;for(const s of po.byType("root","legend")){const a=t[s.optionsKey]!=null&&s.chartTypes.includes(n);a!==this.modulesManager.isEnabled(s)&&(a?(this.modulesManager.addModule(s,l=>new l.instanceConstructor(this.getModuleContext())),s.type==="legend"&&((r=this.modulesManager.getModule(s))==null||r.attachLegend(this.ctx.scene)),this[s.optionsKey]=this.modulesManager.getModule(s)):(this.modulesManager.removeModule(s),delete this[s.optionsKey]),i=!0)}return i}applySeries(t,n,i){var c;if(!n)return"no-change";const r=sY(t.series,n,i);if(r.status==="no-overlap")return $i(`Chart.applySeries() - creating new series instances, status: ${r.status}`,r),t.series=n.map(u=>this.createSeries(u)),"replaced";$i("Chart.applySeries() - matchResult",r);const s=[];let o=!1,a=!1,l=!1;for(const u of r.changes)switch(a||(a=u.status==="series-grouping"),o||(o=((c=u.diff)==null?void 0:c.data)!=null),l||(l=u.status!=="no-op"),u.status){case"add":const d=this.createSeries(u.opts);s.push(d),$i("Chart.applySeries() - created new series",d);break;case"remove":$i(`Chart.applySeries() - removing series at previous idx ${u.idx}`,u.series);break;case"no-op":s.push(u.series),$i(`Chart.applySeries() - no change to series at previous idx ${u.idx}`,u.series);break;case"series-grouping":case"update":default:const{series:h,diff:p,idx:f}=u;$i(`Chart.applySeries() - applying series diff previous idx ${f}`,p,h),this.applySeriesValues(h,p),h.markNodeDataDirty(),s.push(h)}for(let u=0;u<s.length;u++)s[u]._declarationOrder=u;return $i("Chart.applySeries() - final series instances",s),t.series=s,a?"series-grouping-change":o?"data-change":l?"updated":"no-op"}applyAxes(t,n,i,r,s=[],o=!1){if(!("axes"in n)||!n.axes)return!1;s=["axes[].type",...s];const{axes:a}=n;if(!(r==="replaced")&&t.axes.length===a.length&&t.axes.every((d,h)=>d.type===a[h].type)&&Fl(i))return t.axes.forEach((d,h)=>{var v;const p=((v=i.axes)==null?void 0:v[h])??{},f=pi(p,a[h]);$i(`Chart.applyAxes() - applying axis diff idx ${h}`,f);const g=`axes[${h}]`;ls(d,f,{...xv,path:g,skip:s})}),!0;$i(`Chart.applyAxes() - creating new axes instances; seriesStatus: ${r}`),t.axes=this.createAxis(a,s);const u={x:[],y:[]};return t.axes.forEach(d=>u[d.direction].push(d.getAxisGroup())),o&&(this.ctx.regionManager.updateRegion("horizontal-axes",...u.x),this.ctx.regionManager.updateRegion("vertical-axes",...u.y)),!0}createSeries(t){const n=Wn.create(t.type,this.getModuleContext());return this.applySeriesOptionModules(n,t),this.applySeriesValues(n,t),n}applySeriesOptionModules(t,n){const i=t.createModuleContext(),r=t.getModuleMap();for(const s of po.byType("series-option"))s.optionsKey in n&&s.seriesTypes.includes(t.type)&&r.addModule(s,o=>new o.instanceConstructor(i))}applySeriesValues(t,n){const i=t.getModuleMap(),{type:r,data:s,listeners:o,seriesGrouping:a,showInMiniChart:l,...c}=n;for(const u of Sc)if(u.type==="series-option"&&u.optionsKey in c){const d=i.getModule(u.optionsKey);if(d){const h=c[u.optionsKey];delete c[u.optionsKey],d.properties.set(h)}}t.properties.set(c),"data"in n&&t.setOptionsData(s),o&&this.registerListeners(t,o),"seriesGrouping"in n&&(a==null?t.seriesGrouping=void 0:t.seriesGrouping={...t.seriesGrouping,...a})}createAxis(t,n){const i=[],r=this.getModuleContext();for(let s=0;s<t.length;s++){const o=t[s],a=ko.create(o.type,r);this.applyAxisModules(a,o),ls(a,o,{...xv,path:`axes[${s}]`,skip:n}),i.push(a)}return iY(i),i}applyAxisModules(t,n){const i=t.createModuleContext(),r=t.getModuleMap();for(const s of po.byType("axis-option")){const o=n[s.optionsKey]!=null;o!==r.isEnabled(s)&&(o?(r.addModule(s,a=>new a.instanceConstructor(i)),t[s.optionsKey]=r.getModule(s)):(r.removeModule(s),delete t[s.optionsKey]))}}registerListeners(t,n){t.clearEventListeners();for(const[i,r]of Object.entries(n))Ba(r)&&t.addEventListener(i,r)}};Vt.chartsInstances=new WeakMap;b([Fn({newValue(e){this.destroyed||(this.ctx.domManager.setContainer(e),Vt.chartsInstances.set(e,this))},oldValue(e){Vt.chartsInstances.delete(e)}})],Vt.prototype,"container",2);b([Fn({newValue(e){this.resize("width option",{inWidth:e})}})],Vt.prototype,"width",2);b([Fn({newValue(e){this.resize("height option",{inHeight:e})}})],Vt.prototype,"height",2);b([Fn({newValue(e){this.resize("minWidth option",{inMinWidth:e})}})],Vt.prototype,"minWidth",2);b([Fn({newValue(e){this.resize("minHeight option",{inMinHeight:e})}})],Vt.prototype,"minHeight",2);b([w(le)],Vt.prototype,"padding",2);b([w(tt)],Vt.prototype,"titlePadding",2);b([w(le)],Vt.prototype,"seriesArea",2);b([w(le)],Vt.prototype,"title",2);b([w(le)],Vt.prototype,"subtitle",2);b([w(le)],Vt.prototype,"footnote",2);b([w(le)],Vt.prototype,"keyboard",2);b([w(st(["standalone","integrated"],"a chart mode"))],Vt.prototype,"mode",2);b([Fn({changeValue(e,t){this.onAxisChange(e,t)}})],Vt.prototype,"axes",2);b([Fn({changeValue(e,t){this.onSeriesChange(e,t)}})],Vt.prototype,"series",2);var kc=Vt,DY=class{constructor(e,t,n){this.root=new LY(e,t,n)}clear(e){this.root.clear(e)}addValue(e,t){const n={hitTester:e,value:t,distanceSquared:(i,r)=>e.distanceSquared(i,r)};this.root.addElem(n)}find(e,t){const n={best:{nearest:void 0,distanceSquared:1/0}};return this.root.find(e,t,n),n.best}},kY=class{constructor(e,t,n,i){this.nw=e,this.ne=t,this.sw=n,this.se=i}addElem(e){this.nw.addElem(e),this.ne.addElem(e),this.sw.addElem(e),this.se.addElem(e)}find(e,t,n){this.nw.find(e,t,n),this.ne.find(e,t,n),this.sw.find(e,t,n),this.se.find(e,t,n)}},CY=class{constructor(e,t,n){this.capacity=e,this.maxdepth=t,this.boundary=n??re.NaN,this.elems=[],this.subdivisions=void 0}clear(e){this.elems.length=0,this.boundary=e,this.subdivisions=void 0}addElem(e){this.addCondition(e)&&(this.subdivisions===void 0?this.maxdepth===0||this.elems.length<this.capacity?this.elems.push(e):this.subdivide(e):this.subdivisions.addElem(e))}find(e,t,n){this.findCondition(e,t,n)&&(this.subdivisions===void 0?this.findAction(e,t,n):this.subdivisions.find(e,t,n))}subdivide(e){this.subdivisions=this.makeSubdivisions();for(const t of this.elems)this.subdivisions.addElem(t);this.subdivisions.addElem(e),this.elems.length=0}makeSubdivisions(){const{x:e,y:t,width:n,height:i}=this.boundary,{capacity:r}=this,s=this.maxdepth-1,o=n/2,a=i/2,l=new re(e,t,o,a),c=new re(e+o,t,o,a),u=new re(e,t+a,o,a),d=new re(e+o,t+a,o,a);return new kY(this.child(r,s,l),this.child(r,s,c),this.child(r,s,u),this.child(r,s,d))}},LY=class CT extends CY{addCondition(t){const{x:n,y:i}=t.hitTester.midPoint;return this.boundary.containsPoint(n,i)}findCondition(t,n,i){const{best:r}=i;return r.distanceSquared!==0&&this.boundary.distanceSquared(t,n)<r.distanceSquared}findAction(t,n,i){const r=mg(t,n,this.elems,i.best.distanceSquared);r.nearest!==void 0&&r.distanceSquared<i.best.distanceSquared&&(i.best=r)}child(t,n,i){return new CT(t,n,i)}},Mn=class extends zn{constructor(){super(...arguments),this.x=0,this.y=0,this.size=12}computeBBox(){const{x:e,y:t,size:n}=this,{center:i}=this.constructor;return new re(e-n*i.x,t-n*i.y,n,n)}computeTransformedBBox(){return super.computeTransformedBBox()}applyPath(e,t){const{path:n}=this;let{x:i,y:r}=this;this.repeat!=null&&(i=0,r=0),n.clear();for(const{x:s,y:o,t:a}of t)i+=s*e,r+=o*e,a==="move"?n.moveTo(i,r):n.lineTo(i,r);n.closePath()}executeFill(e,t){if(!t)return;if(this.repeat==null)return super.executeFill(e,t);e.save();let n=this.translationX,i=this.translationY;for(const r of this.repeat)e.translate(r.x-n,r.y-i),e.fill(t),n=r.x,i=r.y;e.restore()}executeStroke(e,t){if(!t)return;if(this.repeat==null)return super.executeStroke(e,t);e.save();let n=this.translationX,i=this.translationY;for(const r of this.repeat)e.translate(r.x-n,r.y-i),e.stroke(t),n=r.x,i=r.y;e.restore()}};Mn.center={x:.5,y:.5};b([we()],Mn.prototype,"x",2);b([we()],Mn.prototype,"y",2);b([we({convertor:Math.abs})],Mn.prototype,"size",2);b([we()],Mn.prototype,"repeat",2);var fo=class extends Mn{updatePath(){const{x:e,y:t,path:n,size:i}=this,r=i/2;n.clear(),n.arc(e,t,r,0,Math.PI*2),n.closePath()}};fo.className="Circle";var qx=class LT extends Mn{updatePath(){const t=this.size/4.2;super.applyPath(t,LT.moves)}};qx.className="Cross";qx.moves=[{x:-1,y:0,t:"move"},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:-1,y:1},{x:-1,y:-1}];var EY=qx,Qx=class ET extends Mn{updatePath(){const t=this.size/2;super.applyPath(t,ET.moves)}};Qx.className="Diamond";Qx.moves=[{x:0,y:-1,t:"move"},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:1,y:-1}];var TT=Qx,IT=class extends Mn{rad(e){return e/180*Math.PI}updatePath(){const{x:e,path:t,size:n,rad:i}=this,r=n/4,s=this.y+r/2;t.clear(),t.arc(e-r,s-r,r,i(130),i(330)),t.arc(e+r,s-r,r,i(220),i(50)),t.lineTo(e,s+r),t.closePath()}};IT.className="Heart";var Jx=class extends Mn{updatePath(){const{path:e,x:t,y:n}=this,i=this.size,r=.5,s=1;e.clear(),e.moveTo(t+(.15625-r)*i,n+(.34375-s)*i),e.cubicCurveTo(t+(.15625-r)*i,n+(.151491-s)*i,t+(.307741-r)*i,n+(0-s)*i,t+(.5-r)*i,n+(0-s)*i),e.cubicCurveTo(t+(.692259-r)*i,n+(0-s)*i,t+(.84375-r)*i,n+(.151491-s)*i,t+(.84375-r)*i,n+(.34375-s)*i),e.cubicCurveTo(t+(.84375-r)*i,n+(.493824-s)*i,t+(.784625-r)*i,n+(.600181-s)*i,t+(.716461-r)*i,n+(.695393-s)*i),e.cubicCurveTo(t+(.699009-r)*i,n+(.719769-s)*i,t+(.681271-r)*i,n+(.743104-s)*i,t+(.663785-r)*i,n+(.766105-s)*i),e.cubicCurveTo(t+(.611893-r)*i,n+(.834367-s)*i,t+(.562228-r)*i,n+(.899699-s)*i,t+(.528896-r)*i,n+(.980648-s)*i),e.cubicCurveTo(t+(.524075-r)*i,n+(.992358-s)*i,t+(.512663-r)*i,n+(1-s)*i,t+(.5-r)*i,n+(1-s)*i),e.cubicCurveTo(t+(.487337-r)*i,n+(1-s)*i,t+(.475925-r)*i,n+(.992358-s)*i,t+(.471104-r)*i,n+(.980648-s)*i),e.cubicCurveTo(t+(.487337-r)*i,n+(1-s)*i,t+(.475925-r)*i,n+(.992358-s)*i,t+(.471104-r)*i,n+(.980648-s)*i),e.cubicCurveTo(t+(.437772-r)*i,n+(.899699-s)*i,t+(.388107-r)*i,n+(.834367-s)*i,t+(.336215-r)*i,n+(.766105-s)*i),e.cubicCurveTo(t+(.318729-r)*i,n+(.743104-s)*i,t+(.300991-r)*i,n+(.719769-s)*i,t+(.283539-r)*i,n+(.695393-s)*i),e.cubicCurveTo(t+(.215375-r)*i,n+(.600181-s)*i,t+(.15625-r)*i,n+(.493824-s)*i,t+(.15625-r)*i,n+(.34375-s)*i),e.closePath()}};Jx.className="MapPin";Jx.center={x:.5,y:1};var eb=class NT extends Mn{updatePath(){const t=this.size/3;super.applyPath(t,NT.moves)}};eb.className="Plus";eb.moves=[{x:-.5,y:-.5,t:"move"},{x:0,y:-1},{x:1,y:0},{x:0,y:1},{x:1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:-1},{x:-1,y:0},{x:0,y:-1}];var TY=eb,Td=class extends Mn{updatePath(){const{path:e,x:t,y:n}=this,i=this.size/2;e.clear(),e.moveTo(this.align(t-i),this.align(n-i)),e.lineTo(this.align(t+i),this.align(n-i)),e.lineTo(this.align(t+i),this.align(n+i)),e.lineTo(this.align(t-i),this.align(n+i)),e.closePath()}};Td.className="Square";var RT=class extends Mn{updatePath(){const{x:e,y:t,path:n,size:i}=this,r=5,s=i/2,o=Math.PI/2;n.clear();for(let a=0;a<r*2;a++){const l=a%2===0?i:s,c=a*Math.PI/r-o,u=e+Math.cos(c)*l,d=t+Math.sin(c)*l;n.lineTo(u,d)}n.closePath()}};RT.className="Star";var tb=class AT extends Mn{updatePath(){const t=this.size*1.1;super.applyPath(t,AT.moves)}};tb.className="Triangle";tb.moves=[{x:0,y:-.48,t:"move"},{x:.5,y:.87},{x:-1,y:0}];var Bl=tb,PT={circle:fo,cross:EY,diamond:TT,heart:IT,pin:Jx,plus:TY,square:Td,star:RT,triangle:Bl},IY=Object.keys(PT);function OT(e){return typeof e=="string"&&IY.includes(e)}function jr(e=Td){return OT(e)?PT[e]:typeof e=="function"?e:Td}var nb=class extends Dc{constructor(){super(...arguments),this.showFocusBox=!0}getScaleInformation({xScale:e,yScale:t}){const n=Ve.is(e),i=Ve.is(t);return{isContinuousX:n,isContinuousY:i,xScaleType:e==null?void 0:e.type,yScaleType:t==null?void 0:t.type}}getModulePropertyDefinitions(){var n,i;const e=(n=this.axes.x)==null?void 0:n.scale,t=(i=this.axes.y)==null?void 0:i.scale;return this.moduleMap.mapModules(r=>r.getPropertyDefinitions(this.getScaleInformation({xScale:e,yScale:t}))).flat()}async requestDataModel(e,t,n){n.props.push(...this.getModulePropertyDefinitions());const{dataModel:i,processedData:r}=await e.request(this.id,t??[],n);return this.dataModel=i,this.processedData=r,this.dispatch("data-processed",{dataModel:i,processedData:r}),{dataModel:i,processedData:r}}isProcessedDataAnimatable(){var i,r;const e=(r=(i=this.processedData)==null?void 0:i.reduced)==null?void 0:r.animationValidation;if(!e)return!0;const{orderedKeys:t,uniqueKeys:n}=e;return t&&n}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}pickFocus(e){const t=this.getNodeData();if(t===void 0||t.length===0)return;const n=this.computeFocusDatumIndex(e,t);if(n===void 0)return;const{showFocusBox:i}=this,r=t[n],s={...e,datumIndex:n},o=this.computeFocusBounds(s);if(o!==void 0)return{bounds:o,showFocusBox:i,datum:r,datumIndex:n}}computeFocusDatumIndex(e,t){const n=a=>{const{missing:l=!1,enabled:c=!0}=t[a];return!l&&c},i=a=>{for(;a>=0&&!n(a);)a--;return a===-1?void 0:a},r=a=>{for(;a<t.length&&!n(a);)a++;return a===t.length?void 0:a};let s;const o=ke(0,e.datumIndex,t.length-1);return e.datumIndexDelta<0?s=i(o):e.datumIndexDelta>0?s=r(o):(s??(s=r(o)),s??(s=i(o))),s===void 0?e.datumIndexDelta===0?void 0:e.datumIndex-e.datumIndexDelta:s}},Ns=class extends Ce{constructor(){super(...arguments),this.fill="rgba(255,255,255, 0.33)",this.stroke="rgba(0, 0, 0, 0.4)",this.strokeWidth=2}};b([w(ze,{optional:!0})],Ns.prototype,"fill",2);b([w(Ge,{optional:!0})],Ns.prototype,"fillOpacity",2);b([w(ze,{optional:!0})],Ns.prototype,"stroke",2);b([w(X,{optional:!0})],Ns.prototype,"strokeWidth",2);b([w(Ge,{optional:!0})],Ns.prototype,"strokeOpacity",2);b([w(Es,{optional:!0})],Ns.prototype,"lineDash",2);b([w(X,{optional:!0})],Ns.prototype,"lineDashOffset",2);var Bg=class extends Ce{};b([w(X,{optional:!0})],Bg.prototype,"strokeWidth",2);b([w(Ge,{optional:!0})],Bg.prototype,"dimOpacity",2);b([w(me,{optional:!0})],Bg.prototype,"enabled",2);var _T=class extends Ce{constructor(){super(...arguments),this.color="black"}};b([w(ze,{optional:!0})],_T.prototype,"color",2);var ah=class extends Ce{constructor(){super(...arguments),this.item=new Ns,this.series=new Bg,this.text=new _T}};b([w(le)],ah.prototype,"item",2);b([w(le)],ah.prototype,"series",2);b([w(le)],ah.prototype,"text",2);var cr=class extends Ce{constructor(){super(...arguments),this.visible=!0,this.showInLegend=!0,this.cursor="default",this.nodeClickRange="exact",this.highlightStyle=new ah}};b([w(q,{optional:!0})],cr.prototype,"id",2);b([w(me)],cr.prototype,"visible",2);b([w(me)],cr.prototype,"showInLegend",2);b([w(q)],cr.prototype,"cursor",2);b([w(Lg)],cr.prototype,"nodeClickRange",2);b([w(le)],cr.prototype,"highlightStyle",2);var ja={x:["xKey"],y:["yKey"]},Wa={x:["xName"],y:["yName"]},ib=class extends oh{constructor(e,t,n,i){super(e,t,n,i),this.xKey=i.properties.xKey,this.yKey=i.properties.yKey}},Yo=class extends cr{};b([w(q,{optional:!0})],Yo.prototype,"legendItemName",2);var Go=class extends nb{constructor({pathsPerSeries:e=1,hasMarkers:t=!1,hasHighlightedLabels:n=!1,pathsZIndexSubOrderOffset:i=[],datumSelectionGarbageCollection:r=!0,markerSelectionGarbageCollection:s=!0,animationAlwaysUpdateSelections:o=!1,animationResetFns:a,directionKeys:l,directionNames:c,...u}){if(super({directionKeys:l,directionNames:c,canHaveAxes:!0,...u}),this.NodeEvent=ib,this.dataNodeGroup=this.contentGroup.appendChild(new ge({name:`${this.id}-series-dataNodes`,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("data")})),this.markerGroup=this.contentGroup.appendChild(new ge({name:`${this.id}-series-markers`,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("marker")})),this.labelGroup=this.contentGroup.appendChild(new ge({name:`${this.id}-series-labels`,zIndex:8,zIndexSubOrder:this.getGroupZIndexSubOrder("labels")})),this.labelSelection=Tt.select(this.labelGroup,Ye),this.highlightSelection=Tt.select(this.highlightNode,()=>this.opts.hasMarkers?this.markerFactory():this.nodeFactory()),this.highlightLabelSelection=Tt.select(this.highlightLabel,Ye),this.annotationSelections=new Set,this.minRectsCache={dirtyNodeData:!0},this.debug=et.create(),!l||!c)throw new Error(`Unable to initialise series type ${this.type}`);this.opts={pathsPerSeries:e,hasMarkers:t,hasHighlightedLabels:n,pathsZIndexSubOrderOffset:i,directionKeys:l,directionNames:c,animationResetFns:a,animationAlwaysUpdateSelections:o,datumSelectionGarbageCollection:r,markerSelectionGarbageCollection:s},this.paths=[];for(let d=0;d<e;d++)this.paths[d]=new zn,this.paths[d].zIndex=4,this.paths[d].zIndexSubOrder=this.getGroupZIndexSubOrder("paths",d),this.contentGroup.appendChild(this.paths[d]);this.datumSelection=Tt.select(this.dataNodeGroup,()=>this.nodeFactory(),r),this.markerSelection=Tt.select(this.markerGroup,()=>this.markerFactory(),s),this.animationState=new th("empty",{empty:{update:{target:"ready",action:d=>this.animateEmptyUpdateReady(d)},reset:"empty",skip:"ready",disable:"disabled"},ready:{updateData:"waiting",clear:"clearing",highlight:d=>this.animateReadyHighlight(d),highlightMarkers:d=>this.animateReadyHighlightMarkers(d),resize:d=>this.animateReadyResize(d),reset:"empty",skip:"ready",disable:"disabled"},waiting:{update:{target:"ready",action:d=>this.animateWaitingUpdateReady(d)},reset:"empty",skip:"ready",disable:"disabled"},disabled:{update:d=>this.resetAllAnimation(d),reset:"empty"},clearing:{update:{target:"empty",action:d=>this.animateClearingUpdateEmpty(d)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}get contextNodeData(){return this._contextNodeData}getNodeData(){var e;return(e=this.contextNodeData)==null?void 0:e.nodeData}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"?this.animationState.transition("skip"):e==="disabled"&&this.animationState.transition("disable")}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager.addListener("legend-item-click",e=>this.onLegendItemClick(e)),this.ctx.chartEventManager.addListener("legend-item-double-click",e=>this.onLegendItemDoubleClick(e)))}destroy(){super.destroy(),this._contextNodeData=void 0}async update({seriesRect:e}){var l,c;const{visible:t,_contextNodeData:n}=this,r=((c=(l=this.ctx.highlightManager)==null?void 0:l.getActiveHighlight())==null?void 0:c.series)===this,s=this.checkResize(e),o=await this.updateHighlightSelection(r);await this.updateSelections(t),await this.updateNodes(o,r,t);const a=this.getAnimationData(e,n);a&&(s&&this.animationState.transition("resize",a),this.animationState.transition("update",a))}async updateSelections(e){var t;const n=!this.opts.animationAlwaysUpdateSelections&&this.ctx.animationManager.isSkipped();if(!(!e&&n)&&!(!this.nodeDataRefresh&&!this.isPathOrSelectionDirty())){if(this.nodeDataRefresh){this.nodeDataRefresh=!1,this.debug("CartesianSeries.updateSelections() - calling createNodeData() for",this.id),this.markQuadtreeDirty(),this._contextNodeData=await this.createNodeData();const i=this.isProcessedDataAnimatable();this._contextNodeData&&((t=this._contextNodeData).animationValid??(t.animationValid=i)),this.minRectsCache.dirtyNodeData=!0;const{dataModel:r,processedData:s}=this;r!==void 0&&s!==void 0&&this.dispatch("data-update",{dataModel:r,processedData:s})}await this.updateSeriesSelections()}}async updateSeriesSelections(e){const{datumSelection:t,labelSelection:n,markerSelection:i,paths:r}=this,s=this._contextNodeData;if(!s)return;const{nodeData:o,labelData:a,itemId:l}=s;await this.updatePaths({seriesHighlighted:e,itemId:l,contextData:s,paths:r}),this.datumSelection=await this.updateDatumSelection({nodeData:o,datumSelection:t}),this.labelSelection=await this.updateLabelSelection({labelData:a,labelSelection:n}),this.opts.hasMarkers&&(this.markerSelection=await this.updateMarkerSelection({nodeData:o,markerSelection:i}))}markerFactory(){const e=jr();return new e}getGroupZIndexSubOrder(e,t=0){const n=super.getGroupZIndexSubOrder(e,t);if(e==="paths"){const[i]=n,r=this.opts.pathsZIndexSubOrderOffset[t]??0;n[0]=Ba(i)?()=>Number(i())+r:Number(i)+r}return n}async updateNodes(e,t,n){const{highlightSelection:i,highlightLabelSelection:r,opts:{hasMarkers:s,hasHighlightedLabels:o}}=this,a=!this.ctx.animationManager.isSkipped(),l=this.visible&&this._contextNodeData!=null&&n;this.rootGroup.visible=a||l,this.contentGroup.visible=a||l,this.highlightGroup.visible=(a||l)&&t;const c=this.getOpacity();s?(await this.updateMarkerNodes({markerSelection:i,isHighlight:!0}),this.animationState.transition("highlightMarkers",i)):(await this.updateDatumNodes({datumSelection:i,isHighlight:!0}),this.animationState.transition("highlight",i)),o&&await this.updateLabelNodes({labelSelection:r});const{dataNodeGroup:u,markerGroup:d,datumSelection:h,labelSelection:p,markerSelection:f,paths:g,labelGroup:v}=this,{itemId:y}=this.contextNodeData??{};u.opacity=c,u.visible=a||l,v.visible=l,s&&(d.opacity=c,d.zIndex=u.zIndex>=4?u.zIndex:u.zIndex+1,d.visible=l),v&&(v.opacity=c),await this.updatePathNodes({seriesHighlighted:t,itemId:y,paths:g,opacity:c,visible:l,animationEnabled:a}),u.visible&&(await this.updateDatumNodes({datumSelection:h,highlightedItems:e,isHighlight:!1}),await this.updateLabelNodes({labelSelection:p}),s&&await this.updateMarkerNodes({markerSelection:f,isHighlight:!1}))}getHighlightLabelData(e,t){const n=e.filter(i=>i.datum===t.datum&&i.itemId===t.itemId);return n.length===0?void 0:n}getHighlightData(e,t){return t?[t]:void 0}async updateHighlightSelection(e){var l;const{highlightSelection:t,highlightLabelSelection:n,_contextNodeData:i}=this;if(!i)return;const r=(l=this.ctx.highlightManager)==null?void 0:l.getActiveHighlight(),s=e&&(r!=null&&r.datum)?r:void 0;let o,a;if(s!=null){const c=this.isLabelEnabled(),{labelData:u,nodeData:d}=i;a=this.getHighlightData(d,s),o=c?this.getHighlightLabelData(u,s):void 0}return this.highlightSelection=await this.updateHighlightSelectionItem({items:a,highlightSelection:t}),this.highlightLabelSelection=await this.updateHighlightSelectionLabel({items:o,highlightLabelSelection:n}),a}markQuadtreeDirty(){this.quadtree=void 0}*datumNodesIter(){for(const{node:e}of this.datumSelection)e.datum.missing!==!0&&(yield e)}getQuadTree(){if(this.quadtree===void 0){const{width:e,height:t}=this.ctx.scene.canvas,n=new re(0,0,e,t);this.quadtree=new DY(100,10,n),this.initQuadTree(this.quadtree)}return this.quadtree}initQuadTree(e){}pickNodeExactShape(e){const t=super.pickNodeExactShape(e);if(t)return t;const{x:n,y:i}=e,{opts:{hasMarkers:r}}=this;let s;const{dataNodeGroup:o,markerGroup:a}=this;if(s=o.pickNode(n,i),!s&&r&&(s=a==null?void 0:a.pickNode(n,i)),s&&s.datum.missing!==!0)return{datum:s.datum,distance:0};for(const l of this.moduleMap.modules()){const{datum:c}=l.pickNodeExact(e)??{};if(c!=null&&(c==null?void 0:c.missing)!==!0)return{datum:c,distance:0}}}pickNodeClosestDatum(e){var d;const{x:t,y:n}=e,{axes:i,rootGroup:r,_contextNodeData:s}=this;if(!s)return;const o=i.x,a=i.y,l=r.transformPoint(t,n);let c=1/0,u;for(const h of s.nodeData){const{point:{x:p=NaN,y:f=NaN}={}}=h;if(isNaN(p)||isNaN(f)||!((o==null?void 0:o.inRange(p))&&(a==null?void 0:a.inRange(f))))continue;const v=Math.max((l.x-p)**2+(l.y-f)**2,0);v<c&&(c=v,u=h)}for(const h of this.moduleMap.modules()){const p=h.pickNodeNearest(e);if(p!==void 0&&p.distanceSquared<c){c=p.distanceSquared,u=p.datum;break}}if(u){const h=Math.max(Math.sqrt(c)-(((d=u.point)==null?void 0:d.size)??0),0);return{datum:u,distance:h}}}pickNodeMainAxisFirst(e,t){var g;const{x:n,y:i}=e,{axes:r,rootGroup:s,_contextNodeData:o}=this;if(!o)return;const a=r.x,l=r.y,c=[a,l].filter(v=>v instanceof Bo).map(v=>v.direction);if(t&&c.length===0)return;const[u="x"]=c,d=s.transformPoint(n,i),h=u==="x"?[d.x,d.y]:[d.y,d.x],p=[1/0,1/0];let f;for(const v of o.nodeData){const{x:y=NaN,y:m=NaN}=v.point??v.midPoint??{};if(isNaN(y)||isNaN(m)||v.missing===!0||!((a==null?void 0:a.inRange(y))&&(l==null?void 0:l.inRange(m))))continue;const S=u==="x"?[y,m]:[m,y];let D=!0;for(let M=0;M<S.length;M++){const C=Math.abs(S[M]-h[M]);if(C>p[M]){D=!1;break}C<p[M]&&(p[M]=C,p.fill(1/0,M+1,p.length))}D&&(f=v)}if(f){let v=Math.max(p[0]**2+p[1]**2-(((g=f.point)==null?void 0:g.size)??0),0);for(const y of this.moduleMap.modules()){const m=y.pickNodeMainAxisFirst(e);if(m!==void 0&&m.distanceSquared<v){f=m.datum,v=m.distanceSquared;break}}return{datum:f,distance:Math.sqrt(v)}}}onLegendItemClick(e){const{legendItemName:t}=this.properties,{enabled:n,itemId:i,series:r}=e,s=t!=null&&t===e.legendItemName;(r.id===this.id||s)&&this.toggleSeriesItem(i,n)}onLegendItemDoubleClick(e){const{enabled:t,itemId:n,series:i,numVisibleItems:r}=e,{legendItemName:s}=this.properties,o=s!=null&&s===e.legendItemName;i.id===this.id||o?this.toggleSeriesItem(n,!0):t&&r===1?this.toggleSeriesItem(n,!0):this.toggleSeriesItem(n,!1)}isPathOrSelectionDirty(){return!1}getLabelData(){return[]}shouldFlipXY(){return!1}getMinRects(e,t){const{dirtyNodeData:n,sizeCache:i,minRect:r,minVisibleRect:s}=this.minRectsCache,o=JSON.stringify({width:e,height:t});if(!(o!==i)&&!n&&r&&s)return{minRect:r,minVisibleRect:s};const l=this.computeMinRects(e,t);return this.minRectsCache={dirtyNodeData:!1,sizeCache:o,minRect:l==null?void 0:l.minRect,minVisibleRect:l==null?void 0:l.minVisibleRect},l}computeMinRects(e,t){const n=this._contextNodeData;if(!(n!=null&&n.nodeData.length))return;const{nodeData:i}=n,r=Array(i.length),s=Array(i.length);for(const[m,{midPoint:x}]of i.entries())r[m]=(x==null?void 0:x.x)??0,s[m]=(x==null?void 0:x.y)??0;r.sort((m,x)=>m-x),s.sort((m,x)=>m-x);let o,a,l,c,u=0,d=0;for(let m=1;m<i.length;m++)r[m]>=0&&(o??(o=m)),r[m]>e&&(a??(a=m)),s[m]>=0&&(l??(l=m)),s[m]>t&&(c??(c=m)),u=Math.max(u,r[m]-r[m-1]),d=Math.max(d,s[m]-s[m-1]);a??(a=i.length),c??(c=i.length);const h=o!=null&&a!=null?r.slice(o,a):[],p=l!=null&&c!=null?s.slice(l,c):[];let f=0,g=0;for(let m=1;m<Math.max(h.length,p.length);m++){const x=h[m],S=h[m-1],D=p[m],M=p[m-1];x!=null&&S!=null&&(f=Math.max(f,x-S)),D!=null&&M!=null&&(g=Math.max(g,D-M))}const v=new re(0,0,u,d),y=new re(0,0,f,g);return{minRect:v,minVisibleRect:y}}updateHighlightSelectionItem(e){const{opts:{hasMarkers:t}}=this,{items:n,highlightSelection:i}=e,r=n??[];if(t){const s=i;return this.updateMarkerSelection({nodeData:r,markerSelection:s})}else return this.updateDatumSelection({nodeData:r,datumSelection:i})}updateHighlightSelectionLabel(e){return this.updateLabelSelection({labelData:e.items??[],labelSelection:e.highlightLabelSelection})}async updateDatumSelection(e){return e.datumSelection}async updateDatumNodes(e){}async updateMarkerSelection(e){return e.markerSelection}async updateMarkerNodes(e){}async updatePaths(e){e.paths.forEach(t=>t.visible=!1)}async updatePathNodes(e){const{paths:t,opacity:n,visible:i}=e;for(const r of t)r.opacity=n,r.visible=i}resetAllAnimation(e){var s,o;const{path:t,datum:n,label:i,marker:r}=((s=this.opts)==null?void 0:s.animationResetFns)??{};this.ctx.animationManager.stopByAnimationGroupId(this.id),t&&e.paths.forEach(a=>{zt([a],t)}),n&&zt([e.datumSelection],n),i&&zt([e.labelSelection],i),r&&this.opts.hasMarkers&&zt([e.markerSelection],r),((o=e.contextData)==null?void 0:o.animationValid)===!1&&this.ctx.animationManager.skipCurrentBatch()}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateReadyHighlight(e){var n;const{datum:t}=((n=this.opts)==null?void 0:n.animationResetFns)??{};t&&zt([e],t)}animateReadyHighlightMarkers(e){var n;const{marker:t}=((n=this.opts)==null?void 0:n.animationResetFns)??{};t&&zt([e],t)}animateReadyResize(e){this.resetAllAnimation(e)}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animationTransitionClear(){const e=this.getAnimationData();e&&this.animationState.transition("clear",e)}getAnimationData(e,t){const{_contextNodeData:n}=this;return n?{datumSelection:this.datumSelection,markerSelection:this.markerSelection,labelSelection:this.labelSelection,annotationSelections:[...this.annotationSelections],contextData:n,previousContextData:t,paths:this.paths,seriesRect:e}:void 0}calculateScaling(){const e={};for(const t of Object.values(Cx)){const n=this.axes[t];if(n){if(n.scale instanceof Nx){const{range:i,domain:r}=n.scale;e[t]={type:"log",convert:s=>n.scale.convert(s),domain:[r[0],r[1]],range:[i[0],i[1]]}}else if(n.scale instanceof Ve){const{range:i}=n.scale,r=n.scale.getDomain();e[t]={type:"continuous",domain:[r[0],r[1]],range:[i[0],i[1]]}}else if(n.scale){const{domain:i}=n.scale;e[t]={type:"category",domain:i,range:i.map(r=>n.scale.convert(r))}}}}return e}},NY=["top","right","bottom","left"],rb=class extends kc{constructor(e,t){super(e,t),this.paired=!0,this.firstSeriesTranslation=!0,this._lastCrossLineIds=void 0,this._lastAxisAreaWidths=new Map,this._lastClipSeries=!1,this._lastVisibility={crossLines:!0,series:!0}}onAxisChange(e,t){super.onAxisChange(e,t),this.zoomManager.updateAxes(e)}destroySeries(e){super.destroySeries(e),this.firstSeriesTranslation=!0}async performLayout(){const e=await super.performLayout(),{firstSeriesTranslation:t,seriesRoot:n,annotationRoot:i,highlightRoot:r}=this,{animationRect:s,seriesRect:o,visibility:a,clipSeries:l}=this.updateAxes(e);this.seriesRoot.visible=a.series,this.seriesRect=o,this.animationRect=s;const{x:c,y:u}=o;if(t){for(const f of[n,i,r])f.translationX=Math.floor(c),f.translationY=Math.floor(u);this.firstSeriesTranslation=!1}else{const{translationX:f,translationY:g}=n;Ur(this.id,"seriesRect",this.ctx.animationManager,[n,r,i],{translationX:f,translationY:g},{translationX:Math.floor(c),translationY:Math.floor(u)},{phase:"update"})}const d=o.clone().grow(this.seriesArea.padding);this.hoverRect=d;const h=this.seriesArea.clip||l?d:void 0;n.setClipRectInGroupCoordinateSpace(h),r.setClipRectInGroupCoordinateSpace(h),i.setClipRectInGroupCoordinateSpace(h),this.ctx.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.ctx.scene.width,height:this.ctx.scene.height},clipSeries:l,series:{rect:o,paddedRect:d,visible:a.series,shouldFlipXY:this.shouldFlipXY()},axes:this.axes.map(f=>({id:f.id,...f.getLayoutState()}))});const p=this.modulesManager.mapModules(f=>{var g;return(g=f.performCartesianLayout)==null?void 0:g.call(f,{seriesRect:o})});return await Promise.all(p),e}updateAxes(e){var v;const t=this.axes.flatMap(y=>y.crossLines??[]).map(y=>y.id),n=this._lastCrossLineIds!=null&&this._lastCrossLineIds.length===t.length&&this._lastCrossLineIds.every((y,m)=>t[m]===y);let i,r,s;n?(i=new Map(this._lastAxisAreaWidths.entries()),r=this._lastClipSeries,s={...this._lastVisibility}):(i=new Map,r=!1,s={crossLines:!0,series:!0},this._lastCrossLineIds=t);const o=new Set(this.axes.map(y=>y.position));for(const y of i.keys())o.has(y)||i.delete(y);const a=(y,m,x)=>[...y.keys()].some(S=>!i.has(S))||s.crossLines!==x.crossLines||s.series!==x.series||r!==m?!1:[...i.entries()].every(([S,D])=>{const M=y.get(S);return D!=null||M!=null?D===M:!0}),l=y=>{for(const[m,x]of y.entries()){if(x&&Math.abs(x)===1/0){y.set(m,0);continue}y.set(m,x!=null?Math.ceil(x):x)}return y};let c=new Map,u={},d=!1,h=(v=this.seriesRect)==null?void 0:v.clone(),p=0,f={};do{i=new Map(c.entries()),r=d,Object.assign(s,u);const y=this.updateAxesPass(i,e.clone(),h);if(c=l(y.axisAreaWidths),u=y.visibility,d=y.clipSeries,{seriesRect:h,primaryTickCounts:f}=y,p++>10){$.warn("unable to find stable axis layout.");break}}while(!a(c,d,u));this.axes.forEach(y=>{y.update(f[y.direction])});const g=5;return this.axes.forEach(y=>{if(y.setCrossLinesVisible(s.crossLines),!!h)switch(y.clipGrid(h.x,h.y,h.width+g,h.height+g),y.position){case"left":case"right":y.clipTickLines(e.x,h.y,e.width+g,h.height+g);break;case"top":case"bottom":y.clipTickLines(h.x,e.y,h.width+g,e.height+g);break}}),this._lastAxisAreaWidths=i,this._lastVisibility=s,this._lastClipSeries=r,{seriesRect:h,animationRect:e,visibility:s,clipSeries:r}}updateAxesPass(e,t,n){var f;const i=new Map,r=new Map,s={series:!0,crossLines:!0};let o=!1;const a={},l=this.applySeriesPadding(t),c=n?this.buildCrossLinePadding(e):{},u=this.buildAxisBound(l,e,c,s),d=this.buildSeriesRect(u,e);for(const g of this.axes){const{position:v="left"}=g,{clipSeries:y,axisThickness:m}=this.calculateAxisDimensions({axis:g,seriesRect:d,paddedBounds:l,primaryTickCounts:a,clipSeries:o});i.set(g.id,m),r.has(v)||r.set(v,[]),(f=r.get(v))==null||f.push(g),o=o||y}const h=new Map,p=new Map;for(const[g,v]of r.entries())h.set(g,this.calculateAxisArea(v,i,p));for(const[g,v]of r.entries())this.positionAxes({axes:v,position:g,axisWidths:i,axisOffsets:p,axisAreaWidths:h,axisBound:u,seriesRect:d});return{clipSeries:o,seriesRect:d,axisAreaWidths:h,visibility:s,primaryTickCounts:a}}buildCrossLinePadding(e){const t={};this.axes.forEach(n=>{var i;(i=n.crossLines)==null||i.forEach(r=>{var s;(s=r.calculatePadding)==null||s.call(r,t)})});for(const[n,i=0]of Object.entries(t))t[n]=Math.max(i-(e.get(n)??0),0);return t}applySeriesPadding(e){const t=e.clone(),n=this.axes.slice().reverse();return NY.forEach(i=>{const r=this.seriesArea.padding[i],s=n.find(o=>o.position===i);s?s.seriesAreaPadding=r:t.shrink(r,i)}),t}buildAxisBound(e,t,n,i){const r=e.clone(),{top:s=0,right:o=0,bottom:a=0,left:l=0}=n,c=l+o,u=s+a,d=(t.get("left")??0)+(t.get("right")??0)+c,h=(t.get("top")??0)+(t.get("bottom")??0)+u;return r.width<=d||r.height<=h?(i.crossLines=!1,i.series=!1,r):(r.x+=l,r.y+=s,r.width-=c,r.height-=u,r)}buildSeriesRect(e,t){const n=e.clone();return n.x+=t.get("left")??0,n.y+=t.get("top")??0,n.width-=(t.get("left")??0)+(t.get("right")??0),n.height-=(t.get("top")??0)+(t.get("bottom")??0),n.width=Math.max(0,n.width),n.height=Math.max(0,n.height),n}clampToOutsideSeriesRect(e,t,n,i){const{x:r,y:s,width:o,height:a}=e,c=[r,s,r+o,s+a][(n==="x"?0:1)+(i===1?0:2)];return(i===1?Math.min:Math.max)(t,c)}calculateAxisDimensions(e){const{axis:t,seriesRect:n,paddedBounds:i,primaryTickCounts:r}=e;let{clipSeries:s}=e;const{position:o="left",direction:a}=t;this.sizeAxis(t,n,o);let l=t.nice?r[a]:void 0;const c=a==="y",u=.3;t.thickness?t.maxThickness=t.thickness:t.maxThickness=(c?i.width:i.height)*u;const d=t.calculateLayout(l);l=d.primaryTickCount,r[a]??(r[a]=l),s||(s=t.dataDomain.clipped||t.visibleRange[0]>0||t.visibleRange[1]<1);let h;return t.thickness!=null&&t.thickness>0?h=t.thickness:h=c?d.bbox.width:d.bbox.height,h=Math.ceil(h),{clipSeries:s,axisThickness:h,primaryTickCount:l}}sizeAxis(e,t,n){const i=e instanceof Bo||e instanceof Do,r=n==="left"||n==="right";let{min:s=0,max:o=1}=e.disableZoom?{}:this.ctx.zoomManager.getAxisZoom(e.id);const{width:a,height:l}=t,c=0,u=r?l:a;let d=c,h=u;const{width:p,unit:f,align:g}=e.layoutConstraints;f==="px"?h=d+p:h=h*p/100,g==="end"&&(d=u-(h-d),h=u),i&&r?[s,o]=[1-o,1-s]:r&&([d,h]=[h,d]),e.range=[d,h],e.visibleRange=[s,o],e.gridLength=r?a:l}calculateAxisArea(e,t,n){let i=0,r=0;for(const s of e){n.set(s.id,r);const o=t.get(s.id)??0;i=Math.max(i,r+o),s.layoutConstraints.stacked&&(r+=o+15)}return i}positionAxes(e){const{axes:t,axisBound:n,axisWidths:i,axisOffsets:r,axisAreaWidths:s,seriesRect:o,position:a}=e,l=s.get(a)??0;let c="x",u="y",d=1,h=0;(a==="top"||a==="bottom")&&(c="y",u="x",h+=1),h+=n[c],(a==="right"||a==="bottom")&&(d=-1,h+=c==="x"?n.width:n.height);for(const p of t){const f=s.get(u==="x"?"left":"top")??0;p.translation[u]=n[u]+f;const g=i.get(p.id)??0,v=r.get(p.id)??0;p.translation[c]=this.clampToOutsideSeriesRect(o,h+d*(v+g),c,d),p.gridPadding=l-v-g,p.updatePosition()}}shouldFlipXY(){return!this.series.some(e=>!(e instanceof Go&&e.shouldFlipXY()))}};rb.className="CartesianChart";rb.type="cartesian";var Gu=class FT{constructor(t,n){this.factoryApi=n,this.chart=t}static isInstance(t){var n;return t instanceof FT||((n=t.constructor)==null?void 0:n.name)==="AgChartInstanceProxy"&&t.chart!=null?!0:t.chart!=null&&this.validateImplementation(t)}static validateImplementation(t){const n=["getOptions","destroy"],i=Object.keys(Object.getPrototypeOf(t)??{});return n.every(r=>i.includes(r))}async update(t){this.factoryApi.createOrUpdate(t,this),await this.chart.waitForUpdate()}async updateDelta(t){this.factoryApi.updateUserDelta(this,t),await this.chart.waitForUpdate()}getOptions(){const t=cn(this.chart.getOptions());for(const n in t)n.startsWith("_")&&delete t[n];return t}waitForUpdate(){return this.chart.waitForUpdate()}async download(t){const n=await this.prepareResizedChart(this,t);try{n.chart.download(t==null?void 0:t.fileName,t==null?void 0:t.fileFormat)}finally{n.destroy()}}async getImageDataURL(t){const n=await this.prepareResizedChart(this,t);try{return n.chart.getCanvasDataURL(t==null?void 0:t.fileFormat)}finally{n.destroy()}}getState(){return this.factoryApi.caretaker.save(this.chart.ctx.annotationManager)}async setState(t){this.factoryApi.caretaker.restore(t,this.chart.ctx.annotationManager),await this.chart.waitForUpdate()}resetAnimations(){this.chart.resetAnimations()}skipAnimations(){this.chart.skipAnimations()}destroy(){this.chart.destroy()}async prepareResizedChart({chart:t},n={}){const i=n.width??t.width??t.ctx.scene.canvas.width,r=n.height??t.height??t.ctx.scene.canvas.height,s=Ie({container:document.createElement("div"),overrideDevicePixelRatio:1,width:i,height:r},po.hasEnterpriseModules()&&{animation:{enabled:!1}},t.getOptions()),o=await this.factoryApi.createOrUpdate(s);return o.chart.ctx.zoomManager.updateZoom("agChartV2",t.ctx.zoomManager.getZoom()),t.series.forEach((a,l)=>{a.visible||(o.chart.series[l].visible=!1)}),t.update(0,{forceNodeDataRefresh:!0}),await o.waitForUpdate(),o}};Gu.chartInstances=new WeakMap;b([Fn({oldValue(e){Gu.chartInstances.delete(e)},newValue(e){Gu.chartInstances.set(e,this)}})],Gu.prototype,"chart",2);var tD=Gu,Fr=class extends Ve{constructor(){super([0,1],[0,1]),this.type="number"}toDomain(e){return e}ticks(){const e=this.tickCount??Ve.defaultTickCount;if(!this.domain||this.domain.length<2||e<1||!this.domain.every(isFinite))return[];this.refresh();const[t,n]=this.getDomain();if(this.interval){const i=Math.abs(this.interval);if(!Sd((n-t)/i,this.getPixelRange()))return wd(t,n,i)}return Tg(t,n,e,this.minTickCount,this.maxTickCount)}update(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()}getTickStep(e,t){return this.interval??tc(e,t,this.tickCount,this.minTickCount,this.maxTickCount)}updateNiceDomain(){const e=this.tickCount;if(e<1){this.niceDomain=[...this.domain];return}let[t,n]=this.domain;if(e===1)[t,n]=d3(t,n);else{const i=t>n?Math.ceil:Math.floor,r=n<t?Math.floor:Math.ceil,s=4;for(let o=0;o<s;o++){const a=t,l=n,c=this.getTickStep(t,n),[u,d]=this.domain;if(c>=1)t=i(u/c)*c,n=r(d/c)*c;else{const h=1/c;t=i(u*h)/h,n=r(d*h)/h}if(t===a&&n===l)break}}this.niceDomain=[t,n]}tickFormat({ticks:e,specifier:t}){return UL(e??this.ticks(),t)}};function RY(e,t,n){let[i,r]=Ai(e);i=AY(Math.floor(i),r,t);const s=OY(i,r,t),o=t-1;r=i+o*s;const a=n?[r,i]:[i,r],l=PY(i,s,t);return{domain:a,ticks:l}}function AY(e,t,n){const i=Math.abs(t-e)/(n-1),r=Math.floor(Math.log10(i)),s=Math.pow(10,r);return Math.floor(e/s)*s}function PY(e,t,n){const i=Math.floor(Math.log10(t)),r=t>0&&t<1?Math.abs(i):0,s=Math.pow(10,r),o=[];for(let a=0;a<n;a++){const l=e+t*a;o[a]=Math.round(l*s)/s}return o}function OY(e,t,n){const i=n-1,r=(t-e)/i;return _Y(r)}function _Y(e){const t=Math.floor(Math.log10(e)),n=Math.pow(10,t),i=e/n*10;return i>0&&i<=1?n/10:i>1&&i<=2?2*n/10:i>1&&i<=5?5*n/10:i>5&&i<=10?10*n/10:i>10&&i<=20?20*n/10:i>20&&i<=40?40*n/10:i>40&&i<=50?50*n/10:i>50&&i<=100?100*n/10:i}var Lo=class extends wc{constructor(e,t=new Fr){super(e,t),this.min=NaN,this.max=NaN}normaliseDataDomain(e){const{min:t,max:n}=this,{extent:i,clipped:r}=Jd(e,t,n);return{domain:i,clipped:r}}updateSecondaryAxisTicks(e){if(this.dataDomain==null)throw new Error("AG Charts - dataDomain not calculated, cannot perform tick calculation.");if(this.dataDomain.domain.length===0)return[];const{domain:t,ticks:n}=RY(this.dataDomain.domain,e??0,this.reverse);return this.scale.nice=!1,this.scale.domain=t,this.scale.update(),n}};Lo.className="NumberAxis";Lo.type="number";b([w(ji(fc,mc("max"))),Fo(NaN)],Lo.prototype,"min",2);b([w(ji(fc,yc("min"))),Fo(NaN)],Lo.prototype,"max",2);var BT=Qe(e=>ci(e)&&e!==0,"a non-zero number"),Ha=class extends Lo{constructor(e){super(e,new Nx),this.min=NaN,this.max=NaN}normaliseDataDomain(e){const{min:t,max:n}=this,{extent:i,clipped:r}=Jd(e,t,n),s=i[0]>i[1],o=i[0]<0&&i[1]>0,a=i[0]===0&&i[1]===0;return(s||o||a)&&(o?$.warn("the data domain crosses zero, the chart data cannot be rendered. See log axis documentation for more information."):a&&$.warn("the data domain has 0 extent, no data is rendered.")),i[0]===0&&(i[0]=1),i[1]===0&&(i[1]=-1),{domain:i,clipped:r}}set base(e){this.scale.base=e}get base(){return this.scale.base}};Ha.className="LogAxis";Ha.type="log";b([w(ji(fc,BT,mc("max"))),Fo(NaN)],Ha.prototype,"min",2);b([w(ji(fc,BT,yc("min"))),Fo(NaN)],Ha.prototype,"max",2);var Cc=class extends wc{constructor(e){super(e,new Ig),this.min=void 0,this.max=void 0}normaliseDataDomain(e){let{min:t,max:n}=this,i=!1;return typeof t=="number"&&(t=new Date(t)),typeof n=="number"&&(n=new Date(n)),e.length>2&&(e=(Kr(e)??[0,1e3]).map(r=>new Date(r))),t instanceof Date&&(i||(i=t>e[0]),e=[t,e[1]]),n instanceof Date&&(i||(i=n<e[1]),e=[e[0],n]),e[0]>e[1]&&(e=[]),{domain:e,clipped:i}}onFormatChange(e,t,n,i){i?super.onFormatChange(e,t,n,i):(this.labelFormatter=this.scale.tickFormat({ticks:e,domain:n}),this.datumFormatter=this.scale.tickFormat({ticks:e,domain:n,formatOffset:1}))}calculatePadding(){return[0,0]}};Cc.className="TimeAxis";Cc.type="time";b([w(ji(Mx,mc("max")),{optional:!0})],Cc.prototype,"min",2);b([w(ji(Mx,yc("min")),{optional:!0})],Cc.prototype,"max",2);var nD=1e-6,$h=(e,t,n,i,r)=>{let s=!1,o=!1,a=i-Math.sqrt(Math.max(r**2-n**2,0)),l=0,c=0,u=n-Math.sqrt(Math.max(r**2-i**2,0));return a>e?(s=!0,a=e,l=n-Math.sqrt(Math.max(r**2-(i-e)**2))):a<nD&&(a=0),u>t?(o=!0,c=i-Math.sqrt(Math.max(r**2-(n-t)**2)),u=t):u<nD&&(u=0),{leading0:a,leading1:l,trailing0:c,trailing1:u,leadingClipped:s,trailingClipped:o}},Xh=(e,{x0:t,y0:n,x1:i,y1:r,cx:s,cy:o},a,l)=>{if(l&&e.moveTo(t,n),t!==i||n!==r){const c=Math.atan2(n-o,t-s),u=Math.atan2(r-o,i-s);e.arc(s,o,a,c,u)}else e.lineTo(t,n)},Um=(e,t,n,i,r,s,o)=>{let{topLeft:a,topRight:l,bottomRight:c,bottomLeft:u}=s;const d=Math.max(a+u,l+c),h=Math.max(a+l,u+c);if(d<=0&&h<=0){o==null?e.rect(t,n,i,r):e.rect(o.x,o.y,o.width,o.height);return}else if(o==null&&a===l&&a===c&&a===u){e.roundRect(t,n,i,r,a);return}if(i<0&&(t+=i,i=Math.abs(i)),r<0&&(n+=r,r=Math.abs(r)),i<=0||r<=0)return;if(o==null)o=new re(t,n,i,r);else{const C=Math.max(t,o.x),k=Math.min(t+i,o.x+o.width),L=Math.max(n,o.y),T=Math.min(n+r,o.y+o.height);o=new re(C,L,k-C,T-L)}const p=Math.max(d/r,h/i,1);p>1&&(a/=p,l/=p,c/=p,u/=p);let f=!0,g=!0,v=!0,y=!0,m,x,S,D;if(f){const C=$h(o.height,o.width,Math.max(t+a-o.x,0),Math.max(n+a-o.y,0),a);C.leadingClipped&&(y=!1),C.trailingClipped&&(g=!1);const k=Math.max(o.x+C.leading1,o.x),L=Math.max(o.y+C.leading0,o.y),T=Math.max(o.x+C.trailing1,o.x),O=Math.max(o.y+C.trailing0,o.y),Y=t+a,E=n+a;m={x0:k,y0:L,x1:T,y1:O,cx:Y,cy:E}}if(g){const C=$h(o.width,o.height,Math.max(n+l-o.y,0),Math.max(o.x+o.width-(t+i-l),0),l);C.leadingClipped&&(f=!1),C.trailingClipped&&(v=!1);const k=Math.min(o.x+o.width-C.leading0,o.x+o.width),L=Math.max(o.y+C.leading1,o.y),T=Math.min(o.x+o.width-C.trailing0,o.x+o.width),O=Math.max(o.y+C.trailing1,o.y),Y=t+i-l,E=n+l;x={x0:k,y0:L,x1:T,y1:O,cx:Y,cy:E}}if(v){const C=$h(o.height,o.width,Math.max(o.x+o.width-(t+i-c),0),Math.max(o.y+o.height-(n+r-c),0),c);C.leadingClipped&&(g=!1),C.trailingClipped&&(y=!1);const k=Math.min(o.x+o.width-C.leading1,o.x+o.width),L=Math.min(o.y+o.height-C.leading0,o.y+o.height),T=Math.min(o.x+o.width-C.trailing1,o.x+o.width),O=Math.min(o.y+o.height-C.trailing0,o.y+o.height),Y=t+i-c,E=n+r-c;S={x0:k,y0:L,x1:T,y1:O,cx:Y,cy:E}}if(y){const C=$h(o.width,o.height,Math.max(o.y+o.height-(n+r-u),0),Math.max(t+u-o.x,0),u);C.leadingClipped&&(v=!1),C.trailingClipped&&(f=!1);const k=Math.max(o.x+C.leading0,o.x),L=Math.min(o.y+o.height-C.leading1,o.y+o.height),T=Math.max(o.x+C.trailing0,o.x),O=Math.min(o.y+o.height-C.trailing1,o.y+o.height),Y=t+u,E=n+r-u;D={x0:k,y0:L,x1:T,y1:O,cx:Y,cy:E}}let M=!1;f&&m!=null&&(Xh(e,m,a,!M),M||(M=!0)),g&&x!=null&&(Xh(e,x,l,!M),M||(M=!0)),v&&S!=null&&(Xh(e,S,c,!M),M||(M=!0)),y&&D!=null&&(Xh(e,D,u,!M),M||(M=!0)),e.closePath()},Yn=class extends zn{constructor(){super(...arguments),this.borderPath=new Cd,this.x=0,this.y=0,this.width=10,this.height=10,this.topLeftCornerRadius=0,this.topRightCornerRadius=0,this.bottomRightCornerRadius=0,this.bottomLeftCornerRadius=0,this.clipBBox=void 0,this.crisp=!1,this.lastUpdatePathStrokeWidth=Gi.defaultStyles.strokeWidth,this.effectiveStrokeWidth=Gi.defaultStyles.strokeWidth,this.hittester=super.isPointInPath,this.distanceCalculator=super.distanceSquaredTransformedPoint,this.microPixelEffectOpacity=1}set cornerRadius(e){this.topLeftCornerRadius=e,this.topRightCornerRadius=e,this.bottomRightCornerRadius=e,this.bottomLeftCornerRadius=e}isDirtyPath(){return this.lastUpdatePathStrokeWidth!==this.strokeWidth||!!(this.path.isDirty()||this.borderPath.isDirty())}updatePath(){var v;const{path:e,borderPath:t,crisp:n,topLeftCornerRadius:i,topRightCornerRadius:r,bottomRightCornerRadius:s,bottomLeftCornerRadius:o}=this;let{x:a,y:l,width:c,height:u,strokeWidth:d,clipBBox:h}=this;const f=1/(((v=this.layerManager)==null?void 0:v.canvas.pixelRatio)??1);let g=1;if(e.clear(!0),t.clear(!0),n&&(c<=f&&(g*=c/f),u<=f&&(g*=u/f),c=this.align(a,c),u=this.align(l,u),a=this.align(a),l=this.align(l),h=h!=null?new re(this.align(h.x),this.align(h.y),this.align(h.x,h.width),this.align(h.y,h.height)):void 0),d)if(c<f){const y=a+f/2;t.moveTo(y,l),t.lineTo(y,l+u),d=f,this.borderClipPath=void 0}else if(u<f){const y=l+f/2;t.moveTo(a,y),t.lineTo(a+c,y),d=f,this.borderClipPath=void 0}else if(d<c&&d<u){const y=d/2;a+=y,l+=y,c-=d,u-=d;const m=h==null?void 0:h.clone().shrink(y),x={topLeft:i>0?i-d:0,topRight:r>0?r-d:0,bottomRight:s>0?s-d:0,bottomLeft:o>0?o-d:0};this.borderClipPath=void 0,c>0&&u>0&&(m==null||(m==null?void 0:m.width)>0&&(m==null?void 0:m.height)>0)&&(Um(e,a,l,c,u,x,m),Um(t,a,l,c,u,x,m))}else this.borderClipPath=this.borderClipPath??new Cd,this.borderClipPath.clear(!0),this.borderClipPath.rect(a,l,c,u),t.rect(a,l,c,u);else{const y={topLeft:i,topRight:r,bottomRight:s,bottomLeft:o};this.borderClipPath=void 0,Um(e,a,l,c,u,y,h)}[i,r,s,o].every(y=>y===0)?(this.hittester=(y,m)=>{const x=this.transformPoint(y,m);return this.getCachedBBox().containsPoint(x.x,x.y)},this.distanceSquared=(y,m)=>this.getCachedBBox().distanceSquared(y,m)):(this.hittester=super.isPointInPath,this.distanceCalculator=super.distanceSquaredTransformedPoint),this.effectiveStrokeWidth=d,this.lastUpdatePathStrokeWidth=d,this.microPixelEffectOpacity=g}computeBBox(){const{x:e,y:t,width:n,height:i,clipBBox:r}=this;return(r==null?void 0:r.clone())??new re(e,t,n,i)}isPointInPath(e,t){return this.hittester(e,t)}get midPoint(){return{x:this.x+this.width/2,y:this.y+this.height/2}}distanceSquared(e,t){return this.distanceCalculator(e,t)}applyFillAlpha(e){const{fillOpacity:t,microPixelEffectOpacity:n,opacity:i}=this;e.globalAlpha*=i*t*n}renderStroke(e){const{stroke:t,effectiveStrokeWidth:n}=this;if(t&&n){const{globalAlpha:i}=e,{strokeOpacity:r,lineDash:s,lineDashOffset:o,lineCap:a,lineJoin:l,borderPath:c,borderClipPath:u,opacity:d,microPixelEffectOpacity:h}=this;u&&e.clip(u.getPath2D()),e.strokeStyle=t,e.globalAlpha*=d*r*h,e.lineWidth=n,s&&e.setLineDash(s),o&&(e.lineDashOffset=o),a&&(e.lineCap=a),l&&(e.lineJoin=l),e.stroke(c.getPath2D()),e.globalAlpha=i}}};Yn.className="Rect";b([we()],Yn.prototype,"x",2);b([we()],Yn.prototype,"y",2);b([we()],Yn.prototype,"width",2);b([we()],Yn.prototype,"height",2);b([we()],Yn.prototype,"topLeftCornerRadius",2);b([we()],Yn.prototype,"topRightCornerRadius",2);b([we()],Yn.prototype,"bottomRightCornerRadius",2);b([we()],Yn.prototype,"bottomLeftCornerRadius",2);b([we()],Yn.prototype,"clipBBox",2);b([we()],Yn.prototype,"crisp",2);var lh=class extends ih{constructor(e){super(),this.node=new ge({name:"background",zIndex:0}),this.rectNode=new Yn,this.visible=!0,this.fill="white",this.node.appendChild(this.rectNode),this.destroyFns.push(e.scene.attachNode(this.node),e.layoutService.addListener("layout-complete",t=>this.onLayoutComplete(t)))}onLayoutComplete(e){const{width:t,height:n}=e.chart;this.rectNode.width=t,this.rectNode.height=n}};b([w(me),Sn("node","visible")],lh.prototype,"visible",2);b([w(ze,{optional:!0}),Sn("rectNode","fill")],lh.prototype,"fill",2);b([w(le,{optional:!0})],lh.prototype,"image",2);var zT={type:"root",optionsKey:"background",packageType:"community",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"],instanceConstructor:lh};function ba(e,t,n,i){t.addEventListener(n,i),e.push(()=>t.removeEventListener(n,i))}function Fv(e,t,n){ba(e,t,"keydown",i=>{i.key==="Escape"&&n(i)})}function YT(e,t,...n){return!(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey)&&(e.key===t||n.some(i=>e.key===i))}function iD(e,t,n,i){n&&ba(e,t,"keydown",r=>{YT(r,i)&&n.focus()})}function GT(e,t,n,i,r,s){iD(e,t,r,s),iD(e,t,n,i),ba(e,t,"keydown",o=>{YT(o,i,s)&&o.preventDefault()})}var jT={horizontal:{nextKey:"ArrowRight",prevKey:"ArrowLeft"},vertical:{nextKey:"ArrowDown",prevKey:"ArrowUp"}};function zg(e){const{orientation:t,toolbar:n,buttons:i,onEscape:r,onFocus:s,onBlur:o}=e,{nextKey:a,prevKey:l}=jT[t],c=i.length===0;n.role="toolbar",n.ariaOrientation=t,n.ariaHidden=c.toString();const u=h=>{h.target&&"tabIndex"in h.target&&(i.forEach(p=>p.tabIndex=-1),h.target.tabIndex=0)},d=[];for(let h=0;h<i.length;h++){const p=i[h-1],f=i[h],g=i[h+1];ba(d,f,"focus",u),s&&ba(d,f,"focus",s),o&&ba(d,f,"blur",o),r&&Fv(d,f,r),GT(d,f,p,l,g,a),f.tabIndex=h===0?0:-1}return d}function FY(e){const{orientation:t,menu:n,buttons:i,onEscape:r}=e,{nextKey:s,prevKey:o}=jT[t];n.role="menu",n.ariaOrientation=t;const a=[];for(let l=0;l<i.length;l++){const c=i[(i.length+l-1)%i.length],u=i[l],d=i[(i.length+l+1)%i.length];r&&Fv(a,u,r),GT(a,u,c,o,d,s),u.tabIndex=-1}return n.tabIndex=-1,r&&Fv(a,n,r),ba(a,n,"keydown",l=>{var c;l.target===n&&(l.key===s||l.key===o)&&(l.preventDefault(),(c=i[0])==null||c.focus())}),a}function WT(e,t){return n=>{if(e.ariaDisabled==="true")return n.preventDefault();t(n)}}function BY({orientation:e,bboxes:t,maxHeight:n,maxWidth:i,itemPaddingY:r=0,itemPaddingX:s=0,forceResult:o=!1}){const a=e==="horizontal",l={max:a?i:n,fn:a?h=>h.width:h=>h.height,padding:a?s:r},c={max:a?n:i,fn:a?h=>h.height:h=>h.width,padding:a?r:s};let u=0;const d=[];for(;u<t.length;){const h=t.slice(u),p=zY(h,u,l,c,o);if(!p)return;u+=p.processedBBoxCount,d.push(p.pageIndices)}return GY(d,e,t,r,s)}function zY(e,t,n,i,r){let o=WY(e,n);if(o<1){if(!r)return;o=1}let a=o;for(;a>=1;){const l=YY(e,t,a,n,i,r);if(l==null&&a<=1)return;if(l==null){a--;continue}if(typeof l=="number"){if(l<=1)return;a=l<a&&l>1?l:a,a--;continue}return{processedBBoxCount:l.length*l[0].length,pageIndices:l}}}function YY(e,t,n,i,r,s){const o=[];let a=0,l=0,c=[];const u=[];for(let d=0;d<e.length;d++){const h=(d+n)%n;h===0&&(a+=l,l=0,c.length>0&&o.push(c),c=[]);const p=i.fn(e[d])+i.padding;u[h]=Math.max(u[h]??0,p),l=Math.max(l,r.fn(e[d])+r.padding);const f=a+l,g=!s||o.length>0;if(f>r.max&&g){c=[];break}if(u.reduce((y,m)=>y+m,0)>i.max&&!s)return u.length<n?u.length:void 0;c.push(d+t)}return c.length>0&&o.push(c),o.length>0?o:void 0}function GY(e,t,n,i,r){let s=0,o=0;return{pages:e.map(l=>{t==="horizontal"&&(l=jY(l));let c=0;const u=l.map(p=>{const f=p.map(y=>(c=Math.max(y,c),n[y]));let g=0,v=0;return f.forEach(y=>{g+=y.height+i,v=Math.max(v,y.width+r)}),{indices:p,bboxes:f,columnHeight:Math.ceil(g),columnWidth:Math.ceil(v)}});let d=0,h=0;return u.forEach(p=>{d+=p.columnWidth,h=Math.max(h,p.columnHeight)}),s=Math.max(d,s),o=Math.max(h,o),{columns:u,startIndex:l[0][0],endIndex:c,pageWidth:d,pageHeight:h}}),maxPageWidth:s,maxPageHeight:o}}function jY(e){const t=[];for(const n of e[0])t.push([]);return e.forEach((n,i)=>{n.forEach((r,s)=>{t[s][i]=r})}),t}function WY(e,t){const n=e.length;let i=0;for(let r=0;r<n;r++)if(i+=t.fn(e[r])+t.padding,i>t.max)return n/r<2?Math.ceil(n/2):r;return n}var Ms=class extends ge{constructor(){super({name:"markerLabelGroup"}),this.label=new Ye,this.symbolsGroup=new ge({name:"legend-markerLabel-symbols"}),this.pageIndex=NaN,this._markers=[],this._lines=[];const{markers:e,label:t,lines:n}=this;t.textBaseline="middle",t.fontSize=12,t.fontFamily="Verdana, sans-serif",t.fill="black",t.y=1,this.symbolsGroup.append([...n,...e]),this.append([this.symbolsGroup,t])}destroy(){var e;super.destroy(),(e=this.proxyButton)==null||e.remove()}set markers(e){va(this._markers,e)||(this._markers.forEach(t=>{this.removeChild(t)}),this._markers=e,this._markers.forEach(t=>{this.symbolsGroup.appendChild(t)}))}get markers(){return this._markers}set lines(e){va(this._lines,e)||(this._lines.forEach(t=>{this.removeChild(t)}),this._lines=e,this._lines.forEach(t=>{this.symbolsGroup.appendChild(t)}))}get lines(){return this._lines}update(e){const{markers:t,lines:n}=this;let i=0;for(let h=0;h<Math.max(t.length,n.length);h++){const{length:p,spacing:f}=e[h]??0,g=t[h],v=n[h],y=(g==null?void 0:g.size)??0;if(g){const m=g.constructor.center;g.x=(m.x-.5)*y+p/2+i,g.y=(m.y-.5)*y}v&&(v.x1=i,v.x2=i+p,v.y1=0,v.y2=0,v.markDirtyTransform()),i+=f+Math.max(p,y)}const r=e.at(-1),s=this.lines.at(-1),o=this.markers.at(-1),a=s!=null&&s.visible?s.x2:-1/0,l=((o==null?void 0:o.x)??0)+((o==null?void 0:o.size)??0)/2;if(this.label.x=Math.max(a,l)+((r==null?void 0:r.spacing)??0),e.length<2)return;const c=this.symbolsGroup.computeBBox(),u=Math.max((o==null?void 0:o.size)??0,(r==null?void 0:r.length)??0),d=new re(c.x+u/2,c.y,u,c.height);this.symbolsGroup.setClipRectInGroupCoordinateSpace(d)}render(e){this.markers.forEach(t=>{t.opacity=this.opacity}),this.lines.forEach(t=>{t.opacity=this.opacity}),this.label.opacity=this.opacity,super.render(e)}};Ms.className="MarkerLabel";b([Sn("label")],Ms.prototype,"text",2);b([Sn("label")],Ms.prototype,"fontStyle",2);b([Sn("label")],Ms.prototype,"fontWeight",2);b([Sn("label")],Ms.prototype,"fontSize",2);b([Sn("label")],Ms.prototype,"fontFamily",2);b([Sn("label","fill")],Ms.prototype,"color",2);var Lc=class extends Ce{constructor(){super(...arguments),this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};b([w(ze)],Lc.prototype,"color",2);b([w(Po,{optional:!0})],Lc.prototype,"fontStyle",2);b([w(Oo,{optional:!0})],Lc.prototype,"fontWeight",2);b([w(X)],Lc.prototype,"fontSize",2);b([w(q)],Lc.prototype,"fontFamily",2);var ms=class extends Ce{constructor(){super(...arguments),this.size=15,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=1,this.strokeOpacity=1}};b([w(X)],ms.prototype,"size",2);b([w(ze,{optional:!0})],ms.prototype,"fill",2);b([w(Ge,{optional:!0})],ms.prototype,"fillOpacity",2);b([w(ze,{optional:!0})],ms.prototype,"stroke",2);b([w(X)],ms.prototype,"strokeWidth",2);b([w(Ge)],ms.prototype,"strokeOpacity",2);var Yg=class extends Ce{constructor(e){super(),this.parent=e,this.shape=Bl,this.size=15,this.padding=8}};b([Fn({changeValue(){this.parent.marker===this&&this.parent.onMarkerShapeChange()}})],Yg.prototype,"shape",2);b([w(X)],Yg.prototype,"size",2);b([w(X)],Yg.prototype,"padding",2);var Ua=class extends Ce{constructor(e,t,n,i){super(),this.chartUpdateCallback=e,this.pageUpdateCallback=t,this.regionManager=n,this.cursorManager=i,this.id=Hr(this),this.marker=new Yg(this),this.activeStyle=new ms,this.inactiveStyle=new ms,this.highlightStyle=new ms,this.label=new Lc,this.group=new ge({name:"pagination"}),this.labelNode=new Ye,this.destroyFns=[],this.totalPages=0,this.currentPage=0,this.translationX=0,this.translationY=0,this.nextButtonDisabled=!1,this.previousButtonDisabled=!1,this._visible=!0,this._enabled=!0,this._orientation="vertical",this._nextButton=new Bl,this._previousButton=new Bl,this.labelNode.setProperties({textBaseline:"middle",fontSize:12,fontFamily:"Verdana, sans-serif",fill:"black",y:1}),this.group.append([this.nextButton,this.previousButton,this.labelNode]);const r=this.regionManager.addRegion("pagination",this.group);this.destroyFns.push(r.addListener("click",s=>this.onPaginationClick(s)),r.addListener("hover",s=>this.onPaginationMouseMove(s))),this.update(),this.updateMarkers()}destroy(){this.destroyFns.forEach(e=>e())}set visible(e){this._visible=e,this.updateGroupVisibility()}get visible(){return this._visible}set enabled(e){this._enabled=e,this.updateGroupVisibility()}get enabled(){return this._enabled}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible}set orientation(e){switch(this._orientation=e,e){case"horizontal":{this.previousButton.rotation=-Math.PI/2,this.nextButton.rotation=Math.PI/2;break}case"vertical":default:this.previousButton.rotation=0,this.nextButton.rotation=Math.PI}}get orientation(){return this._orientation}set nextButton(e){this._nextButton!==e&&(this.group.removeChild(this._nextButton),this._nextButton=e,this.group.appendChild(e))}get nextButton(){return this._nextButton}set previousButton(e){this._previousButton!==e&&(this.group.removeChild(this._previousButton),this._previousButton=e,this.group.appendChild(e))}get previousButton(){return this._previousButton}update(){this.updateLabel(),this.updatePositions(),this.enableOrDisableButtons()}updatePositions(){this.group.translationX=this.translationX,this.group.translationY=this.translationY,this.updateLabelPosition(),this.updateNextButtonPosition()}updateLabelPosition(){const{size:e,padding:t}=this.marker;this.nextButton.size=e,this.previousButton.size=e,this.labelNode.x=e/2+t}updateNextButtonPosition(){const e=this.labelNode.computeBBox();this.nextButton.translationX=e.x+e.width+this.marker.size/2+this.marker.padding}updateLabel(){const{currentPage:e,totalPages:t,labelNode:n,label:{color:i,fontStyle:r,fontWeight:s,fontSize:o,fontFamily:a}}=this;n.text=`${e+1} / ${t}`,n.fill=i,n.fontStyle=r,n.fontWeight=s,n.fontSize=o,n.fontFamily=a}updateMarkers(){const{nextButton:e,previousButton:t,nextButtonDisabled:n,previousButtonDisabled:i,activeStyle:r,inactiveStyle:s,highlightStyle:o,highlightActive:a}=this,l=(c,u)=>u?s:c===a?o:r;this.updateMarker(e,l("next",n)),this.updateMarker(t,l("previous",i))}updateMarker(e,t){const{size:n}=this.marker;e.size=n,e.fill=t.fill,e.fillOpacity=t.fillOpacity??1,e.stroke=t.stroke,e.strokeWidth=t.strokeWidth,e.strokeOpacity=t.strokeOpacity}enableOrDisableButtons(){const{currentPage:e,totalPages:t}=this,n=t===0,i=e===t-1,r=e===0;this.nextButtonDisabled=i||n,this.previousButtonDisabled=r||n}nextButtonContainsPoint(e,t){return!this.nextButtonDisabled&&this.nextButton.containsPoint(e,t)}previousButtonContainsPoint(e,t){return!this.previousButtonDisabled&&this.previousButton.containsPoint(e,t)}clickNext(){this.incrementPage(),this.onPaginationChanged()}clickPrevious(){this.decrementPage(),this.onPaginationChanged()}setPage(e){e=ke(0,e,this.totalPages-1),this.currentPage!==e&&(this.currentPage=e,this.onPaginationChanged())}onPaginationClick(e){const{offsetX:t,offsetY:n}=e;e.preventDefault(),this.nextButtonContainsPoint(t,n)?this.clickNext():this.previousButtonContainsPoint(t,n)&&this.clickPrevious()}onPaginationMouseMove(e){const{offsetX:t,offsetY:n}=e;this.nextButtonContainsPoint(t,n)?(this.cursorManager.updateCursor(this.id,"pointer"),this.highlightActive="next"):this.previousButtonContainsPoint(t,n)?(this.cursorManager.updateCursor(this.id,"pointer"),this.highlightActive="previous"):(this.cursorManager.updateCursor(this.id),this.highlightActive=void 0),this.updateMarkers(),this.chartUpdateCallback(6)}onPaginationChanged(){this.pageUpdateCallback(this.currentPage)}incrementPage(){this.currentPage=Math.min(this.currentPage+1,this.totalPages-1)}decrementPage(){this.currentPage=Math.max(this.currentPage-1,0)}onMarkerShapeChange(){const e=jr(this.marker.shape||Bl);this.previousButton=new e,this.nextButton=new e,this.updatePositions(),this.updateMarkers(),this.chartUpdateCallback(6)}attachPagination(e){e.append(this.group)}computeBBox(){return this.group.computeBBox()}computeCSSBounds(){const e=this.group.computeTransformedBBox(),t=this._previousButton.computeTransformedBBox(),n=this._nextButton.computeTransformedBBox();return t.x-=e.x,t.y-=e.y,n.x-=e.x,n.y-=e.y,{group:e,prev:t,next:n}}};Ua.className="Pagination";b([w(le)],Ua.prototype,"marker",2);b([w(le)],Ua.prototype,"activeStyle",2);b([w(le)],Ua.prototype,"inactiveStyle",2);b([w(le)],Ua.prototype,"highlightStyle",2);b([w(le)],Ua.prototype,"label",2);var jo=class extends Ce{constructor(){super(...arguments),this.maxLength=void 0,this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};b([w(X,{optional:!0})],jo.prototype,"maxLength",2);b([w(ze)],jo.prototype,"color",2);b([w(Po,{optional:!0})],jo.prototype,"fontStyle",2);b([w(Oo,{optional:!0})],jo.prototype,"fontWeight",2);b([w(X)],jo.prototype,"fontSize",2);b([w(q)],jo.prototype,"fontFamily",2);b([w(Jn,{optional:!0})],jo.prototype,"formatter",2);var Ec=class extends Ce{constructor(){super(...arguments),this.size=15,this.padding=8}};b([Bn(e=>{var t;return(t=e.parent)==null?void 0:t.onMarkerShapeChange()})],Ec.prototype,"shape",2);b([w(X)],Ec.prototype,"size",2);b([w(X)],Ec.prototype,"padding",2);b([w(X,{optional:!0})],Ec.prototype,"strokeWidth",2);b([w(me)],Ec.prototype,"enabled",2);var sb=class extends Ce{};b([w(X,{optional:!0})],sb.prototype,"strokeWidth",2);b([w(X,{optional:!0})],sb.prototype,"length",2);var Wo=class extends Ce{constructor(){super(...arguments),this.paddingX=16,this.paddingY=8,this.showSeriesStroke=!1,this.marker=new Ec,this.label=new jo,this.line=new sb}};b([w(X,{optional:!0})],Wo.prototype,"maxWidth",2);b([w(X)],Wo.prototype,"paddingX",2);b([w(X)],Wo.prototype,"paddingY",2);b([w(me)],Wo.prototype,"showSeriesStroke",2);b([w(le)],Wo.prototype,"marker",2);b([w(le)],Wo.prototype,"label",2);b([w(le)],Wo.prototype,"line",2);var ob=class extends Ce{};b([w(Jn,{optional:!0})],ob.prototype,"legendItemClick",2);b([w(Jn,{optional:!0})],ob.prototype,"legendItemDoubleClick",2);var Zh="legend-visibility",rD="legend-other-series",ti=class extends Ce{constructor(e){super(),this.ctx=e,this.id=Hr(this),this.group=new ge({name:"legend",layer:!0,zIndex:11}),this.itemSelection=Tt.select(this.group,Ms),this.oldSize=[0,0],this.pages=[],this.maxPageSize=[0,0],this.paginationTrackingIndex=0,this.truncatedItems=new Set,this._data=[],this.toggleSeries=!0,this.item=new Wo,this.listeners=new ob,this.enabled=!0,this.position="bottom",this.spacing=20,this.characterWidths=new Map,this.destroyFns=[],this.size=[0,0],this._visible=!0,this.item.marker.parent=this,this.pagination=new Ua(a=>e.updateService.update(a),a=>this.updatePageNumber(a),e.regionManager,e.cursorManager),this.pagination.attachPagination(this.group),e.contextMenuRegistry.registerDefaultAction({id:Zh,type:"legend",label:"contextMenuToggleSeriesVisibility",action:a=>this.contextToggleVisibility(a)}),e.contextMenuRegistry.registerDefaultAction({id:rD,type:"legend",label:"contextMenuToggleOtherSeries",action:a=>this.contextToggleOtherSeries(a)});const{Default:t,Animation:n,ContextMenu:i}=ic,r=t|n,s=t|n|i,o=e.regionManager.addRegion("legend",this.group);this.destroyFns.push(o.addListener("contextmenu",a=>this.checkContextClick(a),s),o.addListener("click",a=>this.checkLegendClick(a),r),o.addListener("dblclick",a=>this.checkLegendDoubleClick(a),r),o.addListener("hover",a=>this.handleLegendMouseMove(a)),o.addListener("leave",a=>this.handleLegendMouseExit(a),r),o.addListener("enter",a=>this.handleLegendMouseEnter(a),r),e.layoutService.addListener("start-layout",a=>this.positionLegend(a)),()=>this.detachLegend(),e.localeManager.addListener("locale-changed",()=>this.onLocaleChanged())),this.proxyLegendToolbar=this.ctx.proxyInteractionService.createProxyContainer({type:"toolbar",id:`${this.id}-toolbar`,classList:["ag-charts-proxy-legend-toolbar"],ariaLabel:{id:"ariaLabelLegend"},ariaOrientation:"horizontal"}),this.proxyLegendPagination=this.ctx.proxyInteractionService.createProxyContainer({type:"group",id:`${this.id}-pagination`,classList:["ag-charts-proxy-legend-pagination"],ariaLabel:{id:"ariaLabelLegendPagination"},ariaOrientation:"horizontal"})}set data(e){this._data=e,this.updateGroupVisibility()}get data(){return this._data}destroy(){this.ctx.domManager.removeChild("canvas-overlay",`${this.id}-toolbar`),this.ctx.domManager.removeChild("canvas-overlay",`${this.id}-pagination`),this.destroyFns.forEach(e=>e()),this.pagination.destroy(),this.itemSelection.clear()}initLegendItemToolbar(){this.itemSelection.each((t,n,i)=>{t.proxyButton??(t.proxyButton=this.ctx.proxyInteractionService.createProxyElement({type:"button",id:`ag-charts-legend-item-${i}`,textContent:this.getItemAriaText(i),parent:this.proxyLegendToolbar,focusable:t,onclick:()=>{this.doClick(t.datum),t.proxyButton.textContent=this.getItemAriaText(i,!t.datum.enabled)},onblur:()=>this.doMouseExit(),onfocus:()=>{const r=t==null?void 0:t.computeTransformedBBox(),s=uT(this.ctx.focusIndicator,{bounds:r,showFocusBox:!0});this.doHover(s,t.datum),this.pagination.setPage(t.pageIndex)}}))});const e=this.itemSelection.nodes().map(t=>t.proxyButton).filter(t=>!!t);zg({orientation:this.getOrientation(),buttons:e,toolbar:this.proxyLegendToolbar})}onMarkerShapeChange(){this.itemSelection.clear(),this.group.markDirty(this.group,2)}getOrientation(){if(this.orientation!==void 0)return this.orientation;switch(this.position){case"right":case"left":return"vertical";case"bottom":case"top":return"horizontal"}}getCharacterWidths(e){const{characterWidths:t}=this;if(t.has(e))return t.get(e);const n={"...":Ye.getTextSize("...",e).width};return t.set(e,n),n}set visible(e){this._visible=e,this.updateGroupVisibility()}get visible(){return this._visible}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible&&this.data.length>0}attachLegend(e){e.appendChild(this.group)}detachLegend(){var e;(e=this.group.parent)==null||e.removeChild(this.group)}getItemLabel(e){const{ctx:{callbackCache:t}}=this,{formatter:n}=this.item.label;return n?t.call(n,{itemId:e.itemId,value:e.label.text,seriesId:e.seriesId}):e.label.text}calcLayout(e,t){const{paddingX:n,paddingY:i,label:r,maxWidth:s,label:{maxLength:o=1/0,fontStyle:a,fontWeight:l,fontSize:c,fontFamily:u}}=this.item,d=[...this.data];this.reverseOrder&&d.reverse();const h=this.itemSelection.nodes().length===0;this.itemSelection.update(d),h&&this.initLegendItemToolbar();const p=[],f=xa(r),v=s??e*.8;if(this.itemSelection.each((L,T)=>{L.fontStyle=a,L.fontWeight=l,L.fontSize=c,L.fontFamily=u;const O=this.updateMarkerLabel(L,T,this.calcMarkerWidth()),Y=T.itemId??T.id,_=(this.getItemLabel(T)??"<unknown>").replace(/\r?\n/g," ");L.text=this.truncate(_,o,v,O,f,Y),p.push(L.computeBBox())}),e=Math.max(1,e),t=Math.max(1,t),!isFinite(e))return{};const y=this.size,m=this.oldSize;y[0]=e,y[1]=t,(y[0]!==m[0]||y[1]!==m[1])&&(m[0]=y[0],m[1]=y[1]);const{pages:x,maxPageHeight:S,maxPageWidth:D}=this.updatePagination(p,e,t),M=this.pages;this.pages=x,this.maxPageSize=[D-n,S-i];const C=this.pagination.currentPage,k=this.pages[C];return this.pages.length<1||!k?(this.visible=!1,{oldPages:M}):(this.visible=!0,this.updatePositions(C),this.update(),{oldPages:M})}calcSymbolsLengths(e){const{showSeriesStroke:t,marker:n,line:i}=this.item,r=n.enabled??(t&&(e.marker.enabled??!0)),s=r?n.size:0,o=!!(e.line&&t),a=o?i.length??25:0;return{markerEnabled:r,markerLength:s,lineEnabled:o,lineLength:a}}calcMarkerWidth(){let e=0;return this.itemSelection.each((t,n)=>{n.symbols.forEach(i=>{const{lineLength:r,markerLength:s}=this.calcSymbolsLengths(i);e=Math.max(e,r,s)})}),e}updateMarkerLabel(e,t,n){const{marker:i,paddingX:r}=this.item,s=[];let o=r;if(e.markers.length!==t.symbols.length&&e.lines.length!==t.symbols.length){const a=[],l=[];t.symbols.forEach(c=>{const{shape:u=c.marker.shape}=i,d=jr(u);l.push(new Qt),a.push(new d)}),e.markers=a,e.lines=l}return t.symbols.forEach((a,l)=>{const c=a.marker.padding??i.padding,{markerEnabled:u,lineEnabled:d}=this.calcSymbolsLengths(a);e.markers[l].size=u||!d?i.size:0,s.push({length:n,spacing:c}),(u||d)&&(o+=c+n)}),e.update(s),o}truncate(e,t,n,i,r,s){const o="...",a=e.split("");let l=!1;if(e.length>t&&(e=`${e.substring(0,t)}`,l=!0),Math.floor(i+Ye.getTextSize(e,r).width)>n){let u="";const d=this.getCharacterWidths(r);let h=i+d[o];for(const p of a){if(d[p]||(d[p]=Ye.getTextSize(p,r).width),h+=d[p],h>n)break;u+=p}e=u,l=!0}return l?(e+=o,this.truncatedItems.add(s)):this.truncatedItems.delete(s),e}updatePagination(e,t,n){const i=this.getOrientation(),r=Math.min(this.paginationTrackingIndex,e.length);this.pagination.orientation=i,this.pagination.translationX=0,this.pagination.translationY=0;const{pages:s,maxPageHeight:o,maxPageWidth:a,paginationBBox:l,paginationVertical:c}=this.calculatePagination(e,t,n),u=s.findIndex(x=>x.endIndex>=r);this.pagination.currentPage=ke(0,u,s.length-1);const{paddingX:d,paddingY:h}=this.item,p=8,f=a-d,g=o-h;let v=0,y=-l.y-this.item.marker.size/2;c?y+=g+p:(v+=-l.x+f+p,y+=(g-l.height)/2),this.pagination.translationX=v,this.pagination.translationY=y,this.pagination.update(),this.pagination.updateMarkers();let m=0;return this.itemSelection.each((x,S,D)=>{var M;D>(((M=s[m])==null?void 0:M.endIndex)??1/0)&&m++,x.pageIndex=m}),{maxPageHeight:o,maxPageWidth:a,pages:s}}updatePaginationProxyButtons(e){var i,r;this.proxyLegendPagination.style.display=this.pagination.visible?"absolute":"none";const t=((e==null?void 0:e.length)??this.pages.length)>1,n=this.pages.length>1;if(t!==n)if(n){this.proxyPrevButton=this.ctx.proxyInteractionService.createProxyElement({type:"button",id:`${this.id}-prev-page`,textContent:{id:"ariaLabelLegendPagePrevious"},tabIndex:0,parent:this.proxyLegendPagination,focusable:this.pagination.previousButton,onclick:()=>this.pagination.clickPrevious()}),this.proxyNextButton??(this.proxyNextButton=this.ctx.proxyInteractionService.createProxyElement({type:"button",id:`${this.id}-next-page`,textContent:{id:"ariaLabelLegendPageNext"},tabIndex:0,parent:this.proxyLegendPagination,focusable:this.pagination.nextButton,onclick:()=>this.pagination.clickNext()}));const{group:s,prev:o,next:a}=this.pagination.computeCSSBounds();is(this.proxyLegendPagination,s),is(this.proxyPrevButton,o),is(this.proxyNextButton,a)}else(i=this.proxyNextButton)==null||i.remove(),(r=this.proxyPrevButton)==null||r.remove(),[this.proxyNextButton,this.proxyPrevButton]=[void 0,void 0]}calculatePagination(e,t,n){const{paddingX:i,paddingY:r}=this.item,s=this.getOrientation(),o=["left","right"].includes(this.position);let a=this.pagination.computeBBox(),l=new re(0,0,0,0),c=[],u=0,d=0,h=0;const p=g=>g.width===a.width&&g.height===a.height,f=this.maxWidth!==void 0&&this.maxHeight!==void 0;do{if(h++>10){$.warn("unable to find stable legend layout.");break}a=l;const g=t-(o?0:a.width),v=n-(o?a.height:0),y=BY({orientation:s,bboxes:e,maxHeight:v,maxWidth:g,itemPaddingY:r,itemPaddingX:i,forceResult:f});c=(y==null?void 0:y.pages)??[],u=(y==null?void 0:y.maxPageWidth)??0,d=(y==null?void 0:y.maxPageHeight)??0;const m=c.length;if(this.pagination.visible=m>1,this.pagination.totalPages=m,this.pagination.update(),l=this.pagination.computeBBox(),!this.pagination.visible)break}while(!p(l));return{maxPageWidth:u,maxPageHeight:d,pages:c,paginationBBox:a,paginationVertical:o}}updatePositions(e=0){const{item:{paddingY:t},itemSelection:n,pages:i}=this;if(i.length<1||!i[e])return;const{columns:r,startIndex:s,endIndex:o}=i[e];let a=0,l=0;const c=r.length,u=r[0].indices.length,d=this.getOrientation()==="horizontal",h=r[0].bboxes[0].height+t,p=[];n.each((f,g,v)=>{if(v<s||v>o){f.visible=!1;return}const y=v-s;let m=0,x=0;d?(m=y%c,x=Math.floor(y/c)):(m=Math.floor(y/u),x=y%u),f.visible=!0;const S=r[m];if(!S)return;l=Math.floor(h*x),a=Math.floor(p[x]??0),p[x]=(p[x]??0)+S.columnWidth,f.translationX=a,f.translationY=l;const{width:D,height:M}=f.computeBBox();is(f.proxyButton,{x:a,y:l,width:D,height:M})})}updatePageNumber(e){const{pages:t}=this,{startIndex:n,endIndex:i}=t[e];n===0?this.paginationTrackingIndex=0:e===t.length-1?this.paginationTrackingIndex=i:this.paginationTrackingIndex=Math.floor((n+i)/2),this.pagination.update(),this.pagination.updateMarkers(),this.updatePositions(e),this.ctx.updateService.update(6)}update(){const{label:{color:e}}=this.item;this.itemSelection.each((t,n)=>{n.symbols.forEach((i,r)=>{const s=t.markers[r],o=t.lines[r];if(s){const{strokeWidth:a,fill:l,stroke:c,fillOpacity:u,strokeOpacity:d}=this.getMarkerStyles(i);s.fill=l,s.stroke=c,s.strokeWidth=a,s.fillOpacity=u,s.strokeOpacity=d}if(o){const a=this.getLineStyles(i);o.stroke=a.stroke,o.strokeOpacity=a.strokeOpacity,o.strokeWidth=a.strokeWidth,o.lineDash=a.lineDash}}),t.opacity=n.enabled?1:.5,t.color=e}),this.updateContextMenu()}updateContextMenu(){const{toggleSeries:e}=this;this.ctx.contextMenuRegistry.setActionVisiblity(Zh,e),this.ctx.contextMenuRegistry.setActionVisiblity(rD,e)}getLineStyles(e){const{stroke:t,strokeOpacity:n=1,strokeWidth:i,lineDash:r}=e.line??{},s=Math.min(2,i??1);return{stroke:t,strokeOpacity:n,strokeWidth:this.item.line.strokeWidth??s,lineDash:r}}getMarkerStyles(e){const{fill:t,stroke:n,strokeOpacity:i=1,fillOpacity:r=1,strokeWidth:s}=e.marker,o=Math.min(2,s??1);return{fill:t,stroke:n,strokeOpacity:i,fillOpacity:r,strokeWidth:this.item.marker.strokeWidth??o}}getDatumForPoint(e,t){const n=[],i={dist:1/0,datum:void 0};for(const s of this.group.children){if(!s.visible||!(s instanceof Ms))continue;const o=s.computeBBox();if(o.grow(this.item.paddingX/2,"horizontal"),o.grow(this.item.paddingY/2,"vertical"),o.containsPoint(e,t))return s.datum;const a=e-o.x-this.item.paddingX/2,l=t-o.y-this.item.paddingY/2,c=a**2+l**2;a>=0&&l>=0&&c<i.dist&&(i.dist=c,i.datum=s.datum),n.push(o)}if(re.merge(n).containsPoint(e,t))return i.datum}computePagedBBox(){const e=this.group.computeBBox();if(this.pages.length<=1)return e;const[t,n]=this.maxPageSize;return e.height=Math.max(n,e.height),e.width=Math.max(t,e.width),e}contextToggleVisibility(e){const t=this.data.find(n=>n.itemId===e.itemId);this.doClick(t)}contextToggleOtherSeries(e){const t=this.data.find(n=>n.itemId===e.itemId);this.doDoubleClick(t)}checkContextClick(e){var n;const t=this.getDatumForPoint(e.offsetX,e.offsetY);this.preventHidingAll&&((n=this.contextMenuDatum)!=null&&n.enabled)&&this.getVisibleItemCount()<=1?this.ctx.contextMenuRegistry.disableAction(Zh):this.ctx.contextMenuRegistry.enableAction(Zh),this.ctx.contextMenuRegistry.dispatchContext("legend",e,{legendItem:t})}checkLegendClick(e){const t=this.getDatumForPoint(e.offsetX,e.offsetY);this.doClick(t)&&e.preventDefault()}getVisibleItemCount(){return this.ctx.chartService.series.flatMap(e=>e.getLegendData("category")).filter(e=>e.enabled).length}doClick(e){const{listeners:{legendItemClick:t},ctx:{chartService:n,highlightManager:i},preventHidingAll:r,toggleSeries:s}=this;if(!e)return!1;const{id:o,itemId:a,enabled:l}=e,c=n.series.find(d=>d.id===o);if(!c)return!1;let u=l;if(s){u=!l,r&&!u&&this.getVisibleItemCount()<2&&(u=!0);const d=u?"ariaAnnounceVisible":"ariaAnnounceHidden";this.ctx.ariaAnnouncementService.announceValue(d),this.ctx.chartEventManager.legendItemClick(c,a,u,e.legendItemName)}return u?i.updateHighlight(this.id,{series:c,itemId:a,datum:void 0}):i.updateHighlight(this.id),this.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),t==null||t({type:"click",enabled:u,itemId:a,seriesId:c.id}),!0}checkLegendDoubleClick(e){const t=this.getDatumForPoint(e.offsetX,e.offsetY);this.doDoubleClick(t)&&e.preventDefault()}doDoubleClick(e){const{listeners:{legendItemDoubleClick:t},ctx:{chartService:n},toggleSeries:i}=this;if(n.mode==="integrated"||!e)return!1;const{id:r,itemId:s,seriesId:o}=e,a=n.series.find(l=>l.id===r);if(!a)return!1;if(i){const l=n.series.flatMap(d=>d.getLegendData("category")),c=l.filter(d=>d.enabled).length,u=l.find(d=>d.itemId===s&&d.seriesId===o);this.ctx.chartEventManager.legendItemDoubleClick(a,s,(u==null?void 0:u.enabled)??!1,c,u==null?void 0:u.legendItemName)}return this.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),t==null||t({type:"dblclick",enabled:!0,itemId:s,seriesId:a.id}),!0}handleLegendMouseMove(e){if(!this.enabled)return;const{offsetX:t,offsetY:n}=e;e.preventDefault();const i=this.getDatumForPoint(t,n);this.doHover(e,i)}doHover(e,t){const{toggleSeries:n,listeners:i}=this;if(e===void 0||t===void 0){this.ctx.cursorManager.updateCursor(this.id),this.ctx.highlightManager.updateHighlight(this.id);return}const r=t?this.ctx.chartService.series.find(s=>s.id===(t==null?void 0:t.id)):void 0;if(t&&this.truncatedItems.has(t.itemId??t.id)){const{offsetX:s,offsetY:o}=e;this.ctx.tooltipManager.updateTooltip(this.id,{offsetX:s,offsetY:o,lastPointerEvent:e,showArrow:!1},nc({content:this.getItemLabel(t)}))}else this.ctx.tooltipManager.removeTooltip(this.id);(n||i.legendItemClick!=null||i.legendItemDoubleClick!=null)&&this.ctx.cursorManager.updateCursor(this.id,"pointer"),t!=null&&t.enabled&&r?this.ctx.highlightManager.updateHighlight(this.id,{series:r,itemId:t==null?void 0:t.itemId,datum:void 0}):this.ctx.highlightManager.updateHighlight(this.id)}handleLegendMouseExit(e){this.doMouseExit()}doMouseExit(){this.ctx.cursorManager.updateCursor(this.id),this.ctx.tooltipManager.removeTooltip(this.id),this.ctx.interactionManager.getState()===16&&this.ctx.highlightManager.updateHighlight(this.id)}handleLegendMouseEnter(e){const{enabled:t,toggleSeries:n,listeners:{legendItemClick:i,legendItemDoubleClick:r}}=this,s=this.getDatumForPoint(e.offsetX,e.offsetY);t&&s!==void 0&&(n||i!=null||r!=null)&&this.ctx.cursorManager.updateCursor(this.id,"pointer")}onLocaleChanged(){this.itemSelection.each(({proxyButton:e},t,n)=>{e!=null&&(e.textContent=this.getItemAriaText(n))})}getItemAriaText(e,t){const n=this.data[e],i=n&&this.getItemLabel(n);t??(t=n.enabled);const r=this.ctx.localeManager;if(e>=0&&i){const s=e+1,o=this.data.length,a=r.t("ariaLabelLegendItem",{label:i,index:s,count:o}),l=r.t(t?"ariaAnnounceVisible":"ariaAnnounceHidden");return[a,l].join("")}return r.t("ariaLabelLegendItemUnknown")}positionLegend(e){const{shrinkRect:t}=e,n=t.clone();if(!this.enabled||!this.data.length)return{...e,shrinkRect:n};const[i,r]=this.calculateLegendDimensions(t);this.group.translationX=0,this.group.translationY=0;const{oldPages:s}=this.calcLayout(i,r),o=this.computePagedBBox(),a=()=>{switch(this.position){case"top":case"left":return 0;case"bottom":return t.height-o.height;case"right":default:return t.width-o.width}};if(this.visible){let l,c;switch(this.position){case"top":case"bottom":l=(t.width-o.width)/2,c=a(),n.shrink(o.height,this.position);break;case"left":case"right":default:l=a(),c=(t.height-o.height)/2,n.shrink(o.width,this.position)}this.group.translationX=Math.floor(-o.x+t.x+l),this.group.translationY=Math.floor(-o.y+t.y+c);const u=this.group.computeTransformedBBox();u&&(is(this.proxyLegendToolbar,u),this.proxyLegendToolbar.style.removeProperty("display")),this.proxyLegendToolbar.ariaOrientation=this.getOrientation()}else this.proxyLegendToolbar.style.display="none";if(this.updatePaginationProxyButtons(s),this.visible&&this.enabled&&this.data.length){const l=this.spacing;n.shrink(l,this.position);const c=o.clone();c.x+=this.group.translationX,c.y+=this.group.translationY}return{...e,shrinkRect:n}}calculateLegendDimensions(e){const{width:t,height:n}=e,i=t/n,r=.5,s=.2,o=.25;let a,l;switch(this.position){case"top":case"bottom":const c=i<1?Math.min(r,s*(1/i)):s;a=this.maxWidth?Math.min(this.maxWidth,t):t,l=this.maxHeight?Math.min(this.maxHeight,n):Math.round(n*c);break;case"left":case"right":default:const u=i>1?Math.min(r,o*i):o;a=this.maxWidth?Math.min(this.maxWidth,t):Math.round(t*u),l=this.maxHeight?Math.min(this.maxHeight,n):n}return[a,l]}};ti.className="Legend";b([w(me)],ti.prototype,"toggleSeries",2);b([w(le)],ti.prototype,"pagination",2);b([w(le)],ti.prototype,"item",2);b([w(le)],ti.prototype,"listeners",2);b([Bn(e=>e.updateGroupVisibility()),w(me)],ti.prototype,"enabled",2);b([w(Dx)],ti.prototype,"position",2);b([w(X,{optional:!0})],ti.prototype,"maxWidth",2);b([w(X,{optional:!0})],ti.prototype,"maxHeight",2);b([w(me,{optional:!0})],ti.prototype,"reverseOrder",2);b([w(st(["horizontal","vertical"],"an orientation"),{optional:!0})],ti.prototype,"orientation",2);b([w(me,{optional:!0})],ti.prototype,"preventHidingAll",2);b([w(X)],ti.prototype,"spacing",2);var HY={type:"legend",optionsKey:"legend",identifier:"category",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"],instanceConstructor:ti,packageType:"community"},ab=class extends ih{constructor(e){super(),this.ctx=e,this.localeText=void 0}};b([Bn(e=>{e.ctx.localeManager.setLocaleText(e.localeText)}),w(DL,{optional:!0})],ab.prototype,"localeText",2);b([Bn(e=>{e.ctx.localeManager.setLocaleTextFormatter(e.getLocaleText)}),w(Jn,{optional:!0})],ab.prototype,"getLocaleText",2);var UY={type:"root",optionsKey:"locale",packageType:"community",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"],instanceConstructor:ab},_i=class extends zn{constructor(){super(...arguments),this.zIndex=3,this._fill="#f2f2f2",this._stroke="#999999",this._strokeWidth=1,this._lineCap="square",this._centerX=0,this._centerY=0,this._width=8,this._gripLineGap=2,this._gripLineLength=8,this._height=16}set centerX(e){this._centerX!==e&&(this._centerX=e,this.dirtyPath=!0)}get centerX(){return this._centerX}set centerY(e){this._centerY!==e&&(this._centerY=e,this.dirtyPath=!0)}get centerY(){return this._centerY}set width(e){this._width!==e&&(this._width=e,this.dirtyPath=!0)}get width(){return this._width}set gripLineGap(e){this._gripLineGap!==e&&(this._gripLineGap=e,this.dirtyPath=!0)}get gripLineGap(){return this._gripLineGap}set gripLineLength(e){this._gripLineLength!==e&&(this._gripLineLength=e,this.dirtyPath=!0)}get gripLineLength(){return this._gripLineLength}set height(e){this._height!==e&&(this._height=e,this.dirtyPath=!0)}get height(){return this._height}layout(e,t){this.centerX=e,this.centerY=t}static align(e,t,n,i,r,s,o,a){const l=e.strokeWidth/2,c=e.align(n+r*o)+l,u=c+e.align(n+r*o,r*(a-o))-2*l,d=e.align(i+s/2)+l;e.layout(c,d),t.layout(u,d)}computeBBox(){const{centerX:e,centerY:t,width:n,height:i}=this,r=e-n/2,s=t-i/2;return new re(r,s,n,i)}computeTransformedBBox(){return super.computeTransformedBBox()}isPointInPath(e,t){const n=this.transformPoint(e,t);return this.computeBBox().containsPoint(n.x,n.y)}updatePath(){var d,h;const{centerX:e,centerY:t,path:n,strokeWidth:i,gripLineGap:r,gripLineLength:s}=this,o=((h=(d=this.layerManager)==null?void 0:d.canvas)==null?void 0:h.pixelRatio)??1;n.clear();const a=Math.floor(this.width/2*o)/o,l=Math.floor(this.height/2*o)/o;n.moveTo(e-a,t-l),n.lineTo(e+a,t-l),n.lineTo(e+a,t+l),n.lineTo(e-a,t+l),n.closePath();const c=Math.floor((r+i)/2*o)/o,u=Math.floor(s/2*o)/o;n.moveTo(e-c,t-u),n.lineTo(e-c,t+u),n.moveTo(e+c,t-u),n.lineTo(e+c,t+u)}};_i.className="RangeHandle";b([w(ze)],_i.prototype,"_fill",2);b([w(ze)],_i.prototype,"_stroke",2);b([w(X)],_i.prototype,"_strokeWidth",2);b([w(EL)],_i.prototype,"_lineCap",2);b([w(X)],_i.prototype,"_width",2);b([w(X)],_i.prototype,"_gripLineGap",2);b([w(X)],_i.prototype,"_gripLineLength",2);b([w(X)],_i.prototype,"_height",2);var HT=class extends zn{constructor(){super(...arguments),this.zIndex=2,this.x=0,this.y=0,this.width=200,this.height=30,this.min=0,this.max=1}layout(e,t,n,i){this.x=e,this.y=t,this.width=n,this.height=i,this.dirtyPath=!0}update(e,t){this.min=isNaN(e)?this.min:e,this.max=isNaN(t)?this.max:t,this.dirtyPath=!0}computeBBox(){const{x:e,y:t,width:n,height:i}=this;return new re(e,t,n,i)}computeVisibleRangeBBox(){const{x:e,y:t,width:n,height:i,min:r,max:s}=this,o=e+n*r,a=e+n*s;return new re(o,t,a-o,i)}updatePath(){const{path:e,x:t,y:n,width:i,height:r,min:s,max:o,strokeWidth:a}=this,l=a/2;e.clear();const c=this.align(t)+l,u=this.align(n)+l,d=c+this.align(t,i)-2*l,h=u+this.align(n,r)-2*l;e.moveTo(c,u),e.lineTo(d,u),e.lineTo(d,h),e.lineTo(c,h),e.closePath();const p=this.align(t+i*s)+l,f=p+this.align(t+i*s,i*(o-s))-2*l;e.moveTo(p,u),e.lineTo(p,h),e.lineTo(f,h),e.lineTo(f,u),e.closePath()}};HT.className="RangeMask";var VY=class extends ge{constructor(e){super({name:"rangeSelectorGroup",layer:!0,zIndex:12}),this.x=0,this.y=0,this.width=200,this.height=30,this.lOffset=0,this.rOffset=0,this.isContainerNode=!0,this.background=new ge({name:"navigator-background"}),this.background.zIndex=1,this.appendChild(this.background),this.append(e)}layout(e,t,n,i,r,s){this.x=e,this.y=t,this.width=n,this.height=i,this.lOffset=r,this.rOffset=s,this.background.translationX=e,this.background.translationY=t}updateBackground(e,t){e!=null&&this.background.removeChild(e),t!=null&&this.background.appendChild(t)}computeBBox(){const{x:e,y:t,width:n,height:i,lOffset:r,rOffset:s}=this;return new re(e-r,t,n+(r+s),i)}},Ho=class extends ih{constructor(e){super(),this.ctx=e,this.miniChart=void 0,this.enabled=!1,this.mask=new HT,this.minHandle=new _i,this.maxHandle=new _i,this.maskVisibleRange={computeBBox:()=>this.mask.computeVisibleRangeBBox(),computeTransformedBBox:()=>this.mask.computeVisibleRangeBBox()},this.height=30,this.spacing=10,this.x=0,this.y=0,this.width=0,this.rangeSelector=new VY([this.mask,this.minHandle,this.maxHandle]),this._min=0,this._max=1,this.minRange=.001;const t=e.regionManager.addRegion("navigator",this.rangeSelector),n=25;this.destroyFns.push(e.scene.attachNode(this.rangeSelector),t.addListener("hover",i=>this.onHover(i),n),t.addListener("drag-start",i=>this.onDragStart(i),n),t.addListener("drag",i=>this.onDrag(i),n),t.addListener("drag-end",()=>this.onDragEnd(),n),t.addListener("leave",i=>this.onLeave(i),n),this.ctx.localeManager.addListener("locale-changed",()=>this.updateZoom()),e.zoomManager.addListener("zoom-change",i=>this.onZoomChange(i))),this.proxyNavigatorToolbar=this.ctx.proxyInteractionService.createProxyContainer({type:"toolbar",id:"navigator-toolbar",classList:["ag-charts-proxy-navigator-toolbar"],ariaOrientation:"vertical",ariaLabel:{id:"ariaLabelNavigator"}}),this.updateGroupVisibility(),this.proxyNavigatorElements=[this.ctx.proxyInteractionService.createProxyElement({type:"slider",id:"ag-charts-navigator-min",ariaLabel:{id:"ariaLabelNavigatorMinimum"},ariaOrientation:"horizontal",parent:this.proxyNavigatorToolbar,focusable:this.minHandle,onchange:i=>this.onMinSliderChange(i)}),this.ctx.proxyInteractionService.createProxyElement({type:"slider",id:"ag-charts-navigator-pan",ariaLabel:{id:"ariaLabelNavigatorRange"},ariaOrientation:"horizontal",parent:this.proxyNavigatorToolbar,focusable:this.maskVisibleRange,onchange:i=>this.onPanSliderChange(i)}),this.ctx.proxyInteractionService.createProxyElement({type:"slider",id:"ag-charts-navigator-max",ariaLabel:{id:"ariaLabelNavigatorMaximum"},ariaOrientation:"horizontal",parent:this.proxyNavigatorToolbar,focusable:this.maxHandle,onchange:i=>this.onMaxSliderChange(i)})],zg({orientation:"vertical",toolbar:this.proxyNavigatorToolbar,buttons:this.proxyNavigatorElements}),this.destroyFns.push(()=>{this.proxyNavigatorElements.forEach(i=>i.remove()),this.proxyNavigatorToolbar.remove()})}updateBackground(e,t){var n;(n=this.rangeSelector)==null||n.updateBackground(e,t)}updateGroupVisibility(){const{enabled:e}=this;this.rangeSelector==null||e===this.rangeSelector.visible||(this.rangeSelector.visible=e,e?this.updateZoom():this.ctx.zoomManager.updateZoom("navigator"))}async performLayout(e){const{shrinkRect:t}=e;if(this.enabled){const n=this.height+this.spacing;t.shrink(n,"bottom"),this.y=t.y+t.height+this.spacing}else this.y=0;return{...e,shrinkRect:t}}async performCartesianLayout(e){const{x:t,width:n}=e.seriesRect;if(this.enabled){const{y:i,height:r}=this;this.layoutNodes(t,i,n,r),is(this.proxyNavigatorToolbar,{x:t,y:i,width:n,height:r}),this.proxyNavigatorToolbar.style.removeProperty("display")}else this.proxyNavigatorToolbar.style.display="none";this.x=t,this.width=n}onHover(e){if(!this.enabled)return;const{mask:t,minHandle:n,maxHandle:i}=this,{offsetX:r,offsetY:s}=e;n.containsPoint(r,s)||i.containsPoint(r,s)?this.ctx.cursorManager.updateCursor("navigator","ew-resize"):t.computeVisibleRangeBBox().containsPoint(r,s)?this.ctx.cursorManager.updateCursor("navigator","grab"):this.ctx.cursorManager.updateCursor("navigator")}onDragStart(e){if(!this.enabled)return;const{mask:t,minHandle:n,maxHandle:i,x:r,width:s,_min:o}=this,{offsetX:a,offsetY:l}=e;n.zIndex<i.zIndex?i.containsPoint(a,l)?this.dragging="max":n.containsPoint(a,l)&&(this.dragging="min"):n.containsPoint(a,l)?this.dragging="min":i.containsPoint(a,l)&&(this.dragging="max"),this.dragging==null&&t.computeVisibleRangeBBox().containsPoint(a,l)&&(this.dragging="pan",this.panStart=(a-r)/s-o),this.dragging!=null&&this.ctx.zoomManager.fireZoomPanStartEvent("navigator")}onDrag(e){if(!this.enabled||this.dragging==null)return;const{dragging:t,minRange:n,panStart:i,x:r,width:s}=this;let{_min:o,_max:a}=this;const{offsetX:l}=e,c=(l-r)/s;if(t==="min")o=ke(0,c,a-n);else if(t==="max")a=ke(o+n,c,1);else if(t==="pan"&&i!=null){const u=a-o;o=ke(0,c-i,1-u),a=o+u}this._min=o,this._max=a,this.updateZoom()}onDragEnd(){this.dragging=void 0}onLeave(e){this.ctx.cursorManager.updateCursor("navigator")}onZoomChange(e){const{x:t}=e;t&&(this._min=t.min,this._max=t.max,this.updateNodes(t.min,t.max))}onPanSliderChange(e){const t=this.getSliderRatio(this.proxyNavigatorElements[1]),n=this._max-this._min;this._min=ke(0,t,1-n),this._max=this._min+n,this.updateZoom()}onMinSliderChange(e){const t=this.proxyNavigatorElements[0];this._min=this.setSliderRatioClamped(t,0,this._max-this.minRange),this.updateZoom()}onMaxSliderChange(e){const t=this.proxyNavigatorElements[2];this._max=this.setSliderRatioClamped(t,this._min+this.minRange,1),this.updateZoom()}setPanSliderValue(e,t){this.proxyNavigatorElements[1].value=`${Math.round(e*100)}`,this.proxyNavigatorElements[1].ariaValueText=this.ctx.localeManager.t("ariaValuePanRange",{min:e,max:t})}setSliderRatioClamped(e,t,n){const i=this.getSliderRatio(e),r=ke(t,i,n);return r!==i&&this.setSliderRatio(e,r),r}setSliderRatio(e,t){const n=Math.round(t*100);e.value=`${n}`,e.ariaValueText=fx(n)}getSliderRatio(e){return parseFloat(e.value)/100}layoutNodes(e,t,n,i){const{rangeSelector:r,mask:s,minHandle:o,maxHandle:a,_min:l,_max:c}=this;r.layout(e,t,n,i,o.width/2,a.width/2),s.layout(e,t,n,i),_i.align(o,a,e,t,n,i,l,c),l+(c-l)/2<.5?(o.zIndex=3,a.zIndex=4):(o.zIndex=4,a.zIndex=3),[o,this.maskVisibleRange,a].forEach((u,d)=>{const h=u.computeBBox(),p={x:h.x-e,y:h.y-t,height:h.height,width:h.width};is(this.proxyNavigatorElements[d],p)})}updateNodes(e,t){this.mask.update(e,t)}updateZoom(){if(!this.enabled)return;const{_min:e,_max:t}=this,n=this.ctx.zoomManager.getZoom();if(e==null||t==null)return;const i=r=>{this.min==null&&this.max==null||$.warnOnce(`Could not apply [navigator.min] or [navigator.max] as [${r}] has modified the initial zoom state.`)};return this.setPanSliderValue(e,t),this.setSliderRatio(this.proxyNavigatorElements[0],e),this.setSliderRatio(this.proxyNavigatorElements[2],t),this.ctx.zoomManager.updateZoom("navigator",{x:{min:e,max:t},y:n==null?void 0:n.y},!1,i)}};b([w(le,{optional:!0})],Ho.prototype,"miniChart",2);b([w(me),Bn(e=>e.updateGroupVisibility())],Ho.prototype,"enabled",2);b([w(X)],Ho.prototype,"height",2);b([w(X)],Ho.prototype,"spacing",2);b([Fn({newValue(e){this._min=e,this.updateZoom()}}),w(ji(Ge,mc("max")),{optional:!0})],Ho.prototype,"min",2);b([Fn({newValue(e){this._max=e,this.updateZoom()}}),w(ji(Ge,yc("min")),{optional:!0})],Ho.prototype,"max",2);var UT={type:"root",optionsKey:"navigator",packageType:"community",chartTypes:["cartesian"],instanceConstructor:Ho,themeTemplate:{navigator:{enabled:!1,height:30,mask:{fill:"#999999",stroke:"#999999",strokeWidth:1,fillOpacity:.2},minHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:9,height:16,gripLineGap:1,gripLineLength:8},maxHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:9,height:16,gripLineGap:1,gripLineLength:8}}}};function Tc({takeColors:e}){const{fills:[t],strokes:[n]}=e(1);return{fill:t,stroke:n}}function Gg(e){return{marker:Tc(e)}}var VT=(e=>(e[e.SMALL=12]="SMALL",e[e.MEDIUM=13]="MEDIUM",e[e.LARGE=17]="LARGE",e))(VT||{}),KT=(e=>(e.NORMAL="normal",e.BOLD="bold",e.BOLDER="bolder",e.LIGHTER="lighter",e))(KT||{}),$T=(e=>(e.TOP="top",e.RIGHT="right",e.BOTTOM="bottom",e.LEFT="left",e))($T||{}),XT=(e=>(e.CATEGORY="category",e.ORDINAL_TIME="ordinal-time",e.NUMBER="number",e.TIME="time",e.LOG="log",e))(XT||{}),ZT=(e=>(e.ANGLE_CATEGORY="angle-category",e.ANGLE_NUMBER="angle-number",e.RADIUS_CATEGORY="radius-category",e.RADIUS_NUMBER="radius-number",e))(ZT||{}),qT=(e=>(e.CIRCLE="circle",e.POLYGON="polygon",e))(qT||{}),ju=Symbol("is-dark-theme"),Lt=Symbol("default-font"),Zt=Symbol("default-label-colour"),QT=Symbol("default-inverted-label-colour"),Va=Symbol("default-inside-series-label-colour"),go=Symbol("default-muted-label-colour"),sc=Symbol("default-axis-grid-colour"),Pp=Symbol("default-axis-line-colour"),Wu=Symbol("default-cross-lines-colour"),Af=Symbol("default-background-colour"),Ka=Symbol("default-shadow-colour"),KY=Symbol("default-colours"),Us=Symbol("default-padding"),ca=Symbol("default-caption-layout-style"),ua=Symbol("default-caption-alignment"),Pf=Symbol("palette-up-stroke"),Of=Symbol("palette-down-stroke"),JT=Symbol("palette-up-fill"),eI=Symbol("palette-down-fill"),_f=Symbol("palette-neutral-stroke"),tI=Symbol("palette-neutral-fill"),lb=Symbol("default-polar-series-stroke"),yi=Symbol("default-diverging-series-colour-range"),cb=Symbol("default-hierarchy-fills"),ub=Symbol("default-hierarchy-strokes"),vi=Symbol("default-annotation-stroke"),xi=Symbol("default-annotation-background-fill"),db=Symbol("default-annotation-handle-fill"),ch=Symbol("default-toolbar-position"),rs=Symbol("default-gridline-enabled");function nI(e,t,n,i,r){const{addPhaseFn:s,updatePhaseFn:o,removePhaseFn:a}=r,l=(c,u,d)=>{n.animate({id:`${e}_${t}_${u.id}_${c}`,groupId:e,from:0,to:1,ease:xd,collapsable:!1,onUpdate(h,p){p&&c!=="removed"||(u.path.clear(!0),d(h,u),u.checkPathDirty())},onStop(){c==="added"&&(u.path.clear(!0),d(1,u),u.checkPathDirty())},phase:Nn[c]})};for(const c of i)n.isSkipped()||(l("removed",c,a),l("updated",c,o)),l("added",c,s)}var qh=null;function ht(e){if(e!=null)return e===""?"":(qh??(qh=un("div")),qh.textContent=String(e),qh.innerHTML)}function Fe({id:e},t,n,...i){Ur(e,t,n,i,{opacity:0},{opacity:1},{phase:"trailing"})}function Qs({id:e},t,n,...i){Ur(e,t,n,i,{opacity:1},{opacity:0},{phase:"remove"})}function Rs(e){return{opacity:1}}var hb=class extends Ce{constructor(){super(...arguments),this._dirty=3}markDirty(e,t=1){this._dirty<t&&(this._dirty=t)}markClean(e){this._dirty=0}isDirty(){return this._dirty>0}},ur=class extends hb{constructor(){super(...arguments),this.enabled=!0,this.color="rgba(0, 0, 0, 0.5)",this.xOffset=0,this.yOffset=0,this.blur=5}};b([w(me),ne({redraw:3})],ur.prototype,"enabled",2);b([w(ze),ne({redraw:3})],ur.prototype,"color",2);b([w(tt),ne({redraw:3})],ur.prototype,"xOffset",2);b([w(tt),ne({redraw:3})],ur.prototype,"yOffset",2);b([w(X),ne({redraw:3})],ur.prototype,"blur",2);var iI=Qe(e=>OT(e)||typeof e=="function"&&Object.create(e.prototype)instanceof Mn,"a marker shape keyword such as 'circle', 'diamond' or 'square' or an object extending the Marker class"),ni=class extends hb{constructor(){super(...arguments),this.enabled=!0,this.shape=fo,this.size=6,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1}getStyle(){const{size:e,shape:t,fill:n,fillOpacity:i,stroke:r,strokeWidth:s,strokeOpacity:o}=this;return{size:e,shape:t,fill:n,fillOpacity:i,stroke:r,strokeWidth:s,strokeOpacity:o}}getDiameter(){return this.size+this.strokeWidth}};b([w(me),ne({redraw:3})],ni.prototype,"enabled",2);b([w(iI),ne({redraw:3})],ni.prototype,"shape",2);b([w(X),ne({redraw:3})],ni.prototype,"size",2);b([w(ze,{optional:!0}),ne({redraw:3})],ni.prototype,"fill",2);b([w(Ge),ne({redraw:3})],ni.prototype,"fillOpacity",2);b([w(ze,{optional:!0}),ne({redraw:3})],ni.prototype,"stroke",2);b([w(X),ne({redraw:3})],ni.prototype,"strokeWidth",2);b([w(Ge),ne({redraw:3})],ni.prototype,"strokeOpacity",2);b([w(Jn,{optional:!0}),ne({redraw:3})],ni.prototype,"itemStyler",2);var rI=class extends Ce{constructor(){super(...arguments),this.enabled=!1}};b([w(me)],rI.prototype,"enabled",2);var Gn=class extends Ce{constructor(){super(...arguments),this.enabled=!0,this.interaction=new rI,this.position=new vc,this.range=void 0}toTooltipHtml(e,t){return this.renderer?nc(this.renderer(t),e):nc(e)}};b([w(me)],Gn.prototype,"enabled",2);b([w(me,{optional:!0})],Gn.prototype,"showArrow",2);b([w(Jn,{optional:!0})],Gn.prototype,"renderer",2);b([w(le)],Gn.prototype,"interaction",2);b([w(le)],Gn.prototype,"position",2);b([w(Lg,{optional:!0})],Gn.prototype,"range",2);var sI=st(["linear","smooth","step"],"a line style"),oI=st(["start","middle","end"]),Ic=class extends Ce{constructor(){super(...arguments),this.type="linear",this.tension=1,this.position="end"}};b([w(sI)],Ic.prototype,"type",2);b([w(Ge)],Ic.prototype,"tension",2);b([w(oI)],Ic.prototype,"position",2);var Xt=class extends Yo{constructor(){super(...arguments),this.xName=void 0,this.fill="#c16068",this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new Ic,this.shadow=new ur,this.marker=new ni,this.label=new Kt,this.tooltip=new Gn,this.connectMissingData=!1}};b([w(q)],Xt.prototype,"xKey",2);b([w(q,{optional:!0})],Xt.prototype,"xName",2);b([w(q)],Xt.prototype,"yKey",2);b([w(q,{optional:!0})],Xt.prototype,"yName",2);b([w(X,{optional:!0})],Xt.prototype,"normalizedTo",2);b([w(ze)],Xt.prototype,"fill",2);b([w(Ge)],Xt.prototype,"fillOpacity",2);b([w(ze)],Xt.prototype,"stroke",2);b([w(X)],Xt.prototype,"strokeWidth",2);b([w(Ge)],Xt.prototype,"strokeOpacity",2);b([w(Es)],Xt.prototype,"lineDash",2);b([w(X)],Xt.prototype,"lineDashOffset",2);b([w(le)],Xt.prototype,"interpolation",2);b([w(le)],Xt.prototype,"shadow",2);b([w(le)],Xt.prototype,"marker",2);b([w(le)],Xt.prototype,"label",2);b([w(le)],Xt.prototype,"tooltip",2);b([w(me)],Xt.prototype,"connectMissingData",2);function Id({id:e},t,n,...i){const r={phase:n?Nn[n]:"trailing"};Ur(e,"markers",t,i,{opacity:0},{opacity:1},r),i.forEach(s=>s.cleanup())}function pb({id:e},t,...n){Ur(e,"markers",t,n,{scalingX:0,scalingY:0},{scalingX:1,scalingY:1},{phase:"initial"}),n.forEach(i=>i.cleanup())}function fb({id:e,nodeDataDependencies:t},n,...i){const r=t.seriesRectWidth;Et(e,"markers",n,i,{fromFn:(a,l)=>{var d;const c=((d=l.midPoint)==null?void 0:d.x)??r;let u=ke(0,yL(c/r),1);return isNaN(u)&&(u=0),{scalingX:0,scalingY:0,delay:u,duration:Ef,phase:"initial"}},toFn:()=>({scalingX:1,scalingY:1})})}function uh(e){return{opacity:1,scalingX:1,scalingY:1}}function Nd(e,t){var n,i;return{translationX:((n=t.point)==null?void 0:n.x)??NaN,translationY:((i=t.point)==null?void 0:i.y)??NaN}}function gb(e,t){const n=(o,a)=>{const l=e[a][o];return Array.isArray(l)?l[0]:l},i=o=>{const{xValue:a}=o;return e.moved[a]?{point:n(a,"moved"),status:"updated"}:e.removed[a]?{point:n(a,"removed"),status:"removed"}:e.added[a]?{point:n(a,"added"),status:"added"}:{status:"unknown"}};return{fromFn:(o,a)=>{var d,h,p,f;const{status:l,point:c}=i(a);if(l==="unknown")return{opacity:0};const u={translationX:((d=c==null?void 0:c.from)==null?void 0:d.x)??o.translationX,translationY:((h=c==null?void 0:c.from)==null?void 0:h.y)??o.translationY,opacity:o.opacity,phase:Nn[l]};return t==="added"?{...u,opacity:0,translationX:(p=c==null?void 0:c.to)==null?void 0:p.x,translationY:(f=c==null?void 0:c.to)==null?void 0:f.y,phase:Nn.added}:(l==="added"&&(u.opacity=0),u)},toFn:(o,a)=>{var d,h;const{status:l,point:c}=i(a);if(l==="unknown")return{opacity:0};const u={translationX:a.point.x,translationY:a.point.y,opacity:1,phase:Nn[l]};return l==="removed"||t==="removed"?{...u,translationX:(d=c==null?void 0:c.to)==null?void 0:d.x,translationY:(h=c==null?void 0:c.to)==null?void 0:h.y,opacity:0,phase:Nn.removed}:u}}}function dh(e,{datumIndex:t}){const n=e.getNodeData();if(n===void 0)return;const i=n[t];if(i===void 0||i.point===void 0)return;const r=e.getFormattedMarkerStyle(i).size,s=r/2,{x:o,y:a}=e.contentGroup.inverseTransformPoint(i.point.x-s,i.point.y-s);return new re(o,a,r,r)}function $Y(e,t,n){let i=n;for(const{x:r,y:s}of t)i?e.lineTo(r,s):(e.moveTo(r,s),i=!0)}var Qh=.05;function XY(e,t,n,i){const r=Array.isArray(t)?t:Array.from(t);if(r.length===0||(i?e.lineTo(r[0].x,r[0].y):e.moveTo(r[0].x,r[0].y),r.length<=1))return;const s=r.map((o,a)=>{const l=a===0?o:r[a-1],c=a===r.length-1?o:r[a+1],u=a===0||a===r.length-1;if(Math.sign(l.y-o.y)===Math.sign(c.y-o.y))return 0;if(!u){const d=Math.abs(l.y-c.y),h=Math.abs(o.y-l.y)/d,p=Math.abs(o.y-c.y)/d;if(h<=Qh||1-h<=Qh||p<=Qh||1-p<=Qh)return 0}return(c.y-l.y)/(c.x-l.x)});s[1]===0&&(s[0]*=2),s[s.length-2]===0&&(s[s.length-1]*=2);for(let o=1;o<r.length;o+=1){const a=r[o-1],l=s[o-1],c=r[o],u=s[o],d=c.x-a.x,h=c.y-a.y;let p=d*n/3,f=d*l*n/3,g=d*n/3,v=d*u*n/3;u===0&&Math.abs(f)>Math.abs(h)&&(p*=Math.abs(h/f),f=Math.sign(f)*Math.abs(h)),l===0&&Math.abs(v)>Math.abs(h)&&(g*=Math.abs(h/v),v=Math.sign(v)*Math.abs(h)),e.cubicCurveTo(a.x+p,a.y+f,c.x-g,c.y-v,c.x,c.y)}}function ZY(e,t,n,i){let r;for(const s of t){if(r!=null){const o=r.x<s.x?n:1-n,a=(s.x-r.x)*o+r.x;e.lineTo(a,(r==null?void 0:r.y)??s.y),e.lineTo(a,s.y),e.lineTo(s.x,s.y)}else i?e.lineTo(s.x,s.y):e.moveTo(s.x,s.y);r=s}}function Bv(e){return e.reduce(({min:t,max:n},i)=>((t==null||t.point.x>i.point.x)&&(t=i),(n==null||n.point.x<i.point.x)&&(n=i),{min:t,max:n}),{})}function sD(e,t,n){const i=(t.y-e.y)/(t.x-e.x),r=(n-e.x)*i+e.y;return{x:n,y:r}}function oD(e,t,n,i){let r=-1,s=0;const o=[];for(;s<e.length;){if(e[s].change===t){o.push(e[s]),s++;continue}if(e[s].change===n){s++;continue}o.length>0&&(i(o,r,s),o.length=0),r=s,s++}o.length>0&&i(o,r,s)}function mb(e,t){oD(e,"out","in",(n,i,r)=>{var s,o;i===-1&&e[r]?n.forEach(a=>a.to=e[r].from):r===e.length&&e[i]?n.forEach(a=>a.to=e[i].from):t==="intersect"&&((s=e[i])!=null&&s.from)&&((o=e[r])!=null&&o.from)?n.forEach(a=>a.to=sD(e[i].from,e[r].from,a.from.x)):n.forEach(a=>a.to=a.from)}),oD(e,"in","out",(n,i,r)=>{var s,o;i===-1&&e[r]?n.forEach(a=>a.from=e[r].to):r===e.length&&e[i]?n.forEach(a=>a.from=e[i].to):t==="intersect"&&((s=e[i])!=null&&s.to)&&((o=e[r])!=null&&o.to)?n.forEach(a=>a.from=sD(e[i].to,e[r].to,a.to.x)):n.forEach(a=>a.from=a.to)})}function aD(e,t,n){const i=isNaN(e.x)?t.x:e.x,r=isNaN(e.y)?t.y:e.y,s=t.x-e.x,o=t.y-e.y,a=isNaN(s)?0:s*n,l=isNaN(o)?0:o*n;return{x:i+a,y:r+l}}var qY={start:0,middle:.5,end:1};function mo(e,t,n,i=!1){const{path:r}=t;(n==null?void 0:n.type)==="smooth"?XY(r,e,n.tension??1,i):(n==null?void 0:n.type)==="step"?ZY(r,e,qY[n.position??"end"],i):$Y(r,e,i)}function Ff(e,t){let n,i;const r=[],s=()=>{i!=null&&(r.push(i),i=void 0)};for(const o of e){const{from:a,to:l}=o,c=t[o.change];if(c==null||a==null||l==null)continue;const u=aD(a,l,c);if(o.moveTo===!1)i??(i=[]),i.push(u);else if(o.moveTo===!0||!n)s(),i=[u];else if(n){const d=o.moveTo==="in"?c:1-c,{x:h,y:p}=aD(n,u,d);i??(i=[]),i.push({x:h,y:p}),s(),i=[u]}n=u}return s(),r}function aI(e,t,n,i){Ff(e,t).forEach(r=>{mo(r,n,i)})}function yb({id:e,visible:t,nodeDataDependencies:n},i,...r){const{seriesRectWidth:s,seriesRectHeight:o}=n;Ur(e,"path_properties",i,r,{clipX:0},{clipX:s},{phase:"initial",start:{clipMode:"normal",clipY:o,visible:t},finish:{clipMode:void 0,visible:t}})}function Hu({id:e},t,n,i="add",...r){Ur(e,t,n,r,{opacity:0},{opacity:1},{phase:i})}function QY({id:e},t,n,...i){Ur(e,t,n,i,{opacity:1},{opacity:0},{phase:"remove"})}function vb(e){return t=>({opacity:e.getOpacity(),clipScalingX:1,clipMode:void 0})}function Bf({nodeDataDependencies:e},t){const n=i=>isFinite(i)?i:0;t.clipX=n(e.seriesRectWidth),t.clipY=n(e.seriesRectHeight)}function lD(e){return e.type==="continuous"||e.type==="log"}function cD(e){return e.type==="category"}function uD(e,t){return e.domain.length===t.domain.length&&e.range.length===t.range.length&&e.domain.every((n,i)=>n===t.domain[i])&&e.range.every((n,i)=>n===t.range[i])}function dD(e,t){return e===void 0||t===void 0?e!==void 0||t!==void 0:lD(e)&&lD(t)?e.type===t.type&&uD(e,t):cD(e)&&cD(t)?uD(e,t):!1}function*zf(e){let t=-1,n=0;for(const{point:i}of e){if(i.moveTo){const r=t>=0?{start:t,end:n}:void 0;t=n,n=t,r!==void 0&&(yield r)}n+=1}t!==-1&&(yield{start:t,end:n})}function*Yf(e,{start:t,end:n}){for(let i=t;i<n;i+=1)yield e[i].point}function*lI(e,{start:t,end:n}){for(let i=n-1;i>=t;i-=1)yield e[i].point}function Jh(e,t){if(!t)return NaN;if(e instanceof Date&&(e=e.getTime()),t.type==="continuous"&&typeof e=="number")return(e-t.domain[0])/(t.domain[1]-t.domain[0])*(t.range[1]-t.range[0])+t.range[0];if(t.type==="log"&&typeof e=="number")return t.convert(e);const n=t.domain.findIndex(i=>i===e);return n>=0?t.range[n]:NaN}function JY(e,t){return!dD(e.scales.x,t.scales.x)||!dD(e.scales.y,t.scales.y)}function eG(e,t){const n=Number(e),i=Number(t);return!isNaN(n)&&!isNaN(i)?Math.abs(i-n)<.25:e===t}function cI(e=!1,t=!1){return e===t?!!e:e?"in":"out"}function Rd(e,t,n={}){const{backfillSplitMode:i="intersect"}=n,r=g=>({x:Jh(g.xValue??NaN,e.scales.x),y:Jh(g.yValue??NaN,e.scales.y)}),s=g=>({x:Jh(g.xValue??NaN,t.scales.x),y:Jh(g.yValue??NaN,t.scales.y)}),o=[],a={added:{},moved:{},removed:{}},l=(g,v,y,m="move")=>{g&&(isNaN(g.point.x)||isNaN(g.point.y))&&(g=v);const x={from:g==null?void 0:g.point,to:v==null?void 0:v.point,moveTo:cI(g==null?void 0:g.point.moveTo,v==null?void 0:v.point.moveTo),change:m};m==="move"?(a.moved[y]=x,p++,f++):m==="in"?(a.added[y]=x,f++):m==="out"&&(a.removed[y]=x,p++),o.push(x)},{min:c,max:u}=Bv(t.nodeData),{min:d,max:h}=Bv(e.nodeData);let p=0,f=0;for(;p<t.nodeData.length||f<e.nodeData.length;){const g=t.nodeData[p],v=e.nodeData[f],y=g?r(g):void 0,m=v?s(v):void 0,x=void 0;if(y&&eG(y.x,v==null?void 0:v.point.x))l(g,v,v.xValue,"move");else if(y&&y.x<((d==null?void 0:d.point.x)??-1/0))l(g,x,g.xValue,"out");else if(y&&y.x>((h==null?void 0:h.point.x)??1/0))l(g,x,g.xValue,"out");else if(m&&m.x<((c==null?void 0:c.point.x)??-1/0))l(x,v,v.xValue,"in");else if(m&&m.x>((u==null?void 0:u.point.x)??1/0))l(x,v,v.xValue,"in");else if(y&&y.x<(v==null?void 0:v.point.x))l(g,x,g.xValue,"out");else if(m&&m.x<(g==null?void 0:g.point.x))l(x,v,v.xValue,"in");else if(g)l(g,x,g.xValue,"out");else if(v)l(x,v,v.xValue,"in");else throw new Error("Unable to process points")}return mb(o,i),{result:o,resultMap:a}}function Ad(e,t,n,i={}){const{backfillSplitMode:r="intersect",multiDatum:s=!1}=i,o=[],a={added:{},moved:{},removed:{}},l={added:{},moved:{},removed:{}},c={in:"added",move:"moved",out:"removed"};let u,d;const h=(y,m)=>{var x;const S=c[m.change];s?((x=l[S])[y]??(x[y]=[]),l[S][y].push(m)):a[S][y]=m,u=m,d=_l(y)};let p=0,f=0,g=!1;for(;p<t.nodeData.length||f<e.nodeData.length;){const y=t.nodeData[p],m=e.nodeData[f],x=_l(y==null?void 0:y.xValue),S=_l(m==null?void 0:m.xValue);let D;if(x===S)D={change:"move",moveTo:cI(y.point.moveTo??!1,m.point.moveTo),from:y.point,to:m.point},h(y==null?void 0:y.xValue,D),p++,f++;else if(n!=null&&n.removed.has(String(x)))D={change:"out",moveTo:y.point.moveTo??!1,from:y.point},h(y==null?void 0:y.xValue,D),p++;else if(n!=null&&n.added.has(String(S)))D={change:"in",moveTo:m.point.moveTo??!1,to:m.point},h(m==null?void 0:m.xValue,D),f++;else if(s&&u&&d===x)D={...u},h(y==null?void 0:y.xValue,D),p++;else if(s&&u&&d===S)D={...u},h(m==null?void 0:m.xValue,D),f++;else{g=!0;break}o.push(D)}let v=-1/0;return g||(g=o.some(y=>{const{change:m,to:{x=-1/0}={}}=y;if(m==="out")return;const S=x<v;return v=x,S})),g?{result:void 0,resultMap:void 0}:(mb(o,r),{result:o,resultMap:s?l:a})}function xb(e,t,n){var s,o,a,l;let i="updated";const r=c=>c.visible;if(!r(t)&&r(e))i="added";else if(r(t)&&!r(e))i="removed";else for(let c=0;c<n.length&&!(n[c].change!=="move"||((s=n[c].from)==null?void 0:s.x)!==((o=n[c].to)==null?void 0:o.x)||((a=n[c].from)==null?void 0:a.y)!==((l=n[c].to)==null?void 0:l.y));c++)if(c===n.length-1)return"no-op";return i}function bb(e,t){const n=t==="none"?"updated":e,i={fromFn:r=>{let s;return e==="removed"?s={finish:{visible:!1}}:e==="added"?s={start:{visible:!0}}:s={},{phase:Nn[n],...s}},toFn:r=>({phase:Nn[n]})};return t==="fade"?{fromFn:r=>({opacity:e==="added"?0:r.opacity,...i.fromFn(r)}),toFn:r=>({opacity:e==="removed"?0:1,...i.toFn(r)})}:i}function uI(e,t,n,i,r,s){const o=xb(e,t,n),a=(d,h)=>{s(n,{move:0,out:d},h,r)},l=(d,h)=>{s(n,{move:d},h,r)},c=(d,h)=>{s(n,{move:1,in:d},h,r)},u=bb(o,i);return{status:o,path:{addPhaseFn:c,updatePhaseFn:l,removePhaseFn:a},pathProperties:u}}function dI(e,t,n,i){var h,p;const r=((h=e.scales.x)==null?void 0:h.type)==="category",s=((p=t.scales.x)==null?void 0:p.type)==="category";if(r!==s)return;const{result:o,resultMap:a}=r?Ad(e,t,n):Rd(e,t);let l="updated";if(t.visible&&!e.visible?l="removed":!t.visible&&e.visible&&(l="added"),o===void 0||a===void 0)return;const c=((n==null?void 0:n.changed)??!0)||JY(e,t)||l!=="updated",u=uI(e,t,o,"fade",i,aI),d=gb(a,l);return{...u,marker:d,hasMotion:c}}var hI=(e=>(e[e.Fill=0]="Fill",e[e.Stroke=1]="Stroke",e[e.Marker=2]="Marker",e[e.Label=3]="Label",e))(hI||{});function Gf(e){const{points:t,phantomPoints:n}=e.fillData;return{top:t,bottom:n}}function Js(e,t,n){return{scales:t.scales,nodeData:n[e],visible:t.visible}}function tG(e,t,n){const i=Gf(t),r=Gf(e),s={multiDatum:!0};return{top:Ad(Js("top",e,r),Js("top",t,i),n,s),bottom:Ad(Js("bottom",e,r),Js("bottom",t,i),n,s)}}function nG(e,t){const n=Gf(t),i=Gf(e);return{top:Rd(Js("top",e,i),Js("top",t,n)),bottom:Rd(Js("bottom",e,i),Js("bottom",t,n))}}function Vm(e,t,n,i,r){const s=Ff(e,n),o=Ff(t,n);if(s.length===o.length)for(let a=0;a<s.length;a+=1){const l=s[a],c=o[a].reverse();mo(l,i,r,!1),mo(c,i,r,!0),i.path.closePath()}}function pI(e,t,n,i,r,s){const o=xb(e,t,n),a=(d,h)=>{Vm(n,i,{move:0,out:d},h,s)},l=(d,h)=>{Vm(n,i,{move:d},h,s)},c=(d,h)=>{Vm(n,i,{move:1,in:d},h,s)},u=bb(o,r);return{status:o,path:{addPhaseFn:c,updatePhaseFn:l,removePhaseFn:a},pathProperties:u}}function fI(e,t,n,i){var m,x;const r=((m=e.scales.x)==null?void 0:m.type)==="category",s=((x=t.scales.x)==null?void 0:x.type)==="category";if(r!==s)return;let o="updated";t.visible&&!e.visible?o="removed":!t.visible&&e.visible&&(o="added");const a=()=>r?Ad(e,t,n,{backfillSplitMode:"static",multiDatum:!0}):Rd(e,t,{backfillSplitMode:"static"}),l=()=>r?tG(e,t,n):nG(e,t),{resultMap:c}=a(),{top:u,bottom:d}=l();if(c===void 0||u.result===void 0||d.result===void 0)return;const h=u.result,p=d.result,g=(t.stackVisible?e.stackVisible:!1)?"none":"fade",v=pI(e,t,h,p,g,i),y=gb(c,o);return{status:v.status,fill:v,marker:y}}var wb=class extends Go{constructor(e){super({moduleCtx:e,directionKeys:ja,directionNames:Wa,pathsPerSeries:2,pathsZIndexSubOrderOffset:[0,1e3],hasMarkers:!0,markerSelectionGarbageCollection:!1,pickModes:[1,0],animationResetFns:{path:vb({getOpacity:()=>this.getOpacity()}),label:Rs,marker:(t,n)=>({...uh(),...Nd(t,n)})}}),this.properties=new Xt}async processData(e){var x,S;if(this.data==null||!this.properties.isValid())return;const{data:t,visible:n,seriesGrouping:{groupIndex:i=this.id,stackCount:r=1}={}}=this,{xKey:s,yKey:o,connectMissingData:a,normalizedTo:l}=this.properties,c=!this.ctx.animationManager.isSkipped(),u=(x=this.axes.x)==null?void 0:x.scale,d=(S=this.axes.y)==null?void 0:S.scale,{isContinuousX:h,xScaleType:p,yScaleType:f}=this.getScaleInformation({xScale:u,yScale:d}),g={value:`area-stack-${i}-yValue`,values:`area-stack-${i}-yValues`,valuesTrailing:`area-stack-${i}-yValues-trailing`,marker:`area-stack-${i}-yValues-marker`},v={values:`area-stack-${i}-yValues-prev`,valuesTrailing:`area-stack-${i}-yValues-trailing-prev`},y=[];vd(l)&&(y.push(Ld(Object.values(g),l,"range")),y.push(Ld(Object.values(v),l,"range"))),!h&&c&&this.processedData&&y.push(Ga(this.processedData)),c&&y.push(Mc());const m={invalidValue:null};a&&r>1&&(m.invalidValue=0),n||(m.forceValue=0),await this.requestDataModel(e,t,{props:[pn(s,p,{id:"xValue"}),Ke(o,f,{id:"yValueRaw",...m}),...kT(o,{id:"yValueContinuity",...m,groupId:`area-stack-${i}-yValues-continuity`}),Ke(o,f,{id:"yValue",...m,groupId:g.value}),...nr(o,"window-trailing","current",{id:"yValueStart",...m,groupId:g.valuesTrailing},f),...nr(o,"window","current",{id:"yValueEnd",...m,groupId:g.values},f),...nr(o,"normal","current",{id:"yValueCumulative",...m,groupId:g.marker},f),...nr(o,"window","last",{id:"yValuePreviousEnd",...m,groupId:v.values},f),...nr(o,"window-trailing","last",{id:"yValuePreviousStart",...m,groupId:v.valuesTrailing},f),...y],groupByKeys:!0,groupByData:!1}),this.animationState.transition("updateData")}getSeriesDomain(e){const{processedData:t,dataModel:n,axes:i}=this;if(!t||!n||t.data.length===0)return[];const r=i.x,s=i.y,o=n.resolveProcessedDataDefById(this,"xValue"),a=n.getDomain(this,"xValue","key",t),l=n.getDomain(this,"yValueEnd","value",t);if(e==="x")return(o==null?void 0:o.def.type)==="key"&&o.def.valueType==="category"?a:qn(Kr(a),r);if(s instanceof Ha||s instanceof Cc)return qn(l,s);{const c=[l[0]>0?0:l[0],l[1]<0?0:l[1]];return qn(c,s)}}async createNodeData(){const{axes:e,data:t,processedData:{data:n}={},dataModel:i}=this,r=e.x,s=e.y;if(!r||!s||!t||!i||!this.properties.isValid())return;const{yKey:o,xKey:a,marker:l,label:c,fill:u,stroke:d,connectMissingData:h}=this.properties,{scale:p}=r,{scale:f}=s,{isContinuousY:g}=this.getScaleInformation({xScale:p,yScale:f}),v=(p.bandwidth??0)/2,y=i.resolveProcessedDataDefsByIds(this,["yValueStart","yValueEnd","yValueRaw","yValuePreviousStart","yValuePreviousEnd","yValueCumulative","yValueContinuity","yValue"]),m=(R,z,P)=>{let F;return(vd(this.properties.normalizedTo)?g&&Ag(P):!isNaN(P))&&(F=z),{x:p.convert(R)+v,y:f.convert(F),size:l.size}},x=o,S=[],D=[],{visibleSameStackCount:M}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this),C={itemId:x,fillData:{itemId:x,points:[],phantomPoints:[]},strokeData:{itemId:x,points:[]},labelData:S,nodeData:D,scales:this.calculateScaling(),visible:this.visible,stackVisible:M>0},k=C.fillData.points,L=C.fillData.phantomPoints,T=C.strokeData.points;let O=-1,Y,E,_=!0;return n==null||n.forEach(R=>{const{keys:z,keys:[P],datum:F,values:G}=R;G.forEach((H,Z)=>{O++;const J=F[Z],he=i.resolveProcessedDataDefsValues(y,{keys:z,values:H}),{yValueRaw:pe,yValueCumulative:Te,yValueContinuity:V}=he,{yValueStart:ue,yValueEnd:oe,yValuePreviousStart:de,yValuePreviousEnd:Se,yValue:Oe}=he,ce=pe!=null,be=m(P,+Te,pe);if(ce&&l&&D.push({index:O,series:this,itemId:x,datum:J,midPoint:{x:be.x,y:be.y},cumulativeValue:oe,yValue:pe,xValue:P,yKey:o,xKey:a,point:be,fill:l.fill??u,stroke:l.stroke??d,strokeWidth:l.strokeWidth??this.getStrokeWidth(this.properties.strokeWidth)}),ce&&c){const ut=this.getLabelText(c,{value:pe,datum:J,xKey:a,yKey:o,xName:this.properties.xName,yName:this.properties.yName},Dn=>Pe(Dn)?Dn.toFixed(2):String(Dn));S.push({index:O,series:this,itemId:o,datum:J,x:be.x,y:be.y,label:ut?{text:ut,fontStyle:c.fontStyle,fontWeight:c.fontWeight,fontSize:c.fontSize,fontFamily:c.fontFamily,textAlign:"center",textBaseline:"bottom",fill:c.color}:void 0})}if(ce||!h){ce||(_=!0);const ut=!_&&!h;ut&&E===!1&&V===!0?(k.push({point:{x:be.x,y:f.convert(oe),moveTo:!1},yValue:pe,xValue:P}),L.push({point:{x:be.x,y:f.convert(ue),moveTo:!1},yValue:pe,xValue:P}),T.push({point:{x:be.x,y:f.convert(oe),moveTo:!1},yValue:pe,xValue:P}),_=!0):ut&&E===!0&&V===!1&&(k.push({point:{x:p.convert(Y)+v,y:f.convert(Se),moveTo:!0},yValue:pe,xValue:P}),L.push({point:{x:p.convert(Y)+v,y:f.convert(de),moveTo:!0},yValue:pe,xValue:P}),T.push({point:{x:p.convert(Y)+v,y:f.convert(Se),moveTo:!0},yValue:pe,xValue:P}),_=!1),k.push({point:{x:be.x,y:f.convert(Te),moveTo:_},yValue:pe,xValue:P}),L.push({point:{x:be.x,y:f.convert(Te-Oe),moveTo:_},yValue:pe,xValue:P}),T.push({point:{x:be.x,y:f.convert(Te),moveTo:_},yValue:pe,xValue:P}),_=!ce}Y=P,E=V})}),C}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}markerFactory(){const{shape:e}=this.properties.marker,t=jr(e);return new t}async updatePathNodes(e){const{opacity:t,visible:n,animationEnabled:i}=e,[r,s]=e.paths,o=this.getStrokeWidth(this.properties.strokeWidth);s.setProperties({tag:1,fill:void 0,lineJoin:s.lineCap="round",pointerEvents:1,stroke:this.properties.stroke,strokeWidth:o,strokeOpacity:this.properties.strokeOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,opacity:t,visible:n}),r.setProperties({tag:0,stroke:void 0,lineJoin:"round",pointerEvents:1,fill:this.properties.fill,fillOpacity:this.properties.fillOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,strokeOpacity:this.properties.strokeOpacity,fillShadow:this.properties.shadow,opacity:t,visible:n||i,strokeWidth:o}),Bf(this,s),Bf(this,r)}async updatePaths(e){this.updateAreaPaths(e.paths,e.contextData)}updateAreaPaths(e,t){this.updateFillPath(e,t),this.updateStrokePath(e,t)}updateFillPath(e,t){const{points:n,phantomPoints:i}=t.fillData,[r]=e,{interpolation:s}=this.properties;r.path.clear(!0);for(const o of zf(n))mo(Yf(n,o),r,s,!1),mo(lI(i,o),r,s,!0),r.path.closePath();r.checkPathDirty()}updateStrokePath(e,t){const{points:n}=t.strokeData,[,i]=e,{path:r}=i,{interpolation:s}=this.properties;r.clear(!0);for(const o of zf(n))mo(Yf(n,o),i,s);i.checkPathDirty()}async updateMarkerSelection(e){const{nodeData:t,markerSelection:n}=e;return this.properties.marker.isDirty()&&(n.clear(),n.cleanup()),n.update(this.properties.marker.enabled?t:[])}async updateMarkerNodes(e){const{markerSelection:t,isHighlight:n}=e,{xKey:i,yKey:r,marker:s,fill:o,stroke:a,strokeWidth:l,fillOpacity:c,strokeOpacity:u,highlightStyle:d}=this.properties,h=Ie(n&&d.item,s.getStyle(),{fill:o,stroke:a,strokeWidth:l,fillOpacity:c,strokeOpacity:u});t.each((p,f)=>{this.updateMarkerStyle(p,s,{datum:f,highlighted:n,xKey:i,yKey:r},h)}),n||this.properties.marker.markClean()}async updateLabelSelection(e){const{labelData:t,labelSelection:n}=e;return n.update(t,i=>{i.tag=3})}async updateLabelNodes(e){const{labelSelection:t}=e,{enabled:n,fontStyle:i,fontWeight:r,fontSize:s,fontFamily:o,color:a}=this.properties.label;t.each((l,c)=>{const{x:u,y:d,label:h}=c;h&&n&&this.visible?(l.fontStyle=i,l.fontWeight=r,l.fontSize=s,l.fontFamily=o,l.textAlign=h.textAlign,l.textBaseline=h.textBaseline,l.text=h.text,l.x=u,l.y=d-10,l.fill=a,l.visible=!0):l.visible=!1})}getTooltipHtml(e){const{id:t,axes:n,dataModel:i}=this,{xKey:r,xName:s,yName:o,tooltip:a,marker:l}=this.properties,{yKey:c,xValue:u,yValue:d,datum:h,itemId:p}=e,f=n.x,g=n.y;if(!this.properties.isValid()||!(f&&g&&Pe(d))||!i)return Ts;const v=f.formatDatum(u),y=g.formatDatum(d),m=ht(o),x=ht(v+": "+y),S=Ie({fill:this.properties.fill},l.getStyle(),{stroke:this.properties.stroke,strokeWidth:this.properties.strokeWidth}),{fill:D}=this.getMarkerStyle(l,{datum:e,xKey:r,yKey:c,highlighted:!1},S);return a.toTooltipHtml({title:m,content:x,backgroundColor:D},{datum:h,itemId:p,xKey:r,xName:s,yKey:c,yName:o,color:D,title:m,seriesId:t})}getLegendData(e){var p;if(!((p=this.data)!=null&&p.length)||!this.properties.isValid()||!this.properties.showInLegend||e!=="category")return[];const{yKey:t,yName:n,fill:i,stroke:r,fillOpacity:s,strokeOpacity:o,strokeWidth:a,lineDash:l,marker:c,visible:u,legendItemName:d}=this.properties,h=!c.enabled||c.fill===void 0;return[{legendType:e,id:this.id,itemId:t,seriesId:this.id,enabled:u,label:{text:d??n??t},symbols:[{marker:{shape:c.shape,fill:h?i:c.fill,fillOpacity:h?s:c.fillOpacity,stroke:c.stroke??r,strokeOpacity:c.strokeOpacity??o,strokeWidth:c.strokeWidth??0,enabled:c.enabled||a<=0},line:{stroke:r,strokeOpacity:o,strokeWidth:a,lineDash:l}}],legendItemName:d}]}animateEmptyUpdateReady(e){const{markerSelection:t,labelSelection:n,contextData:i,paths:r}=e,{animationManager:s}=this.ctx;this.updateAreaPaths(r,i),yb(this,s,...r),zt([t],Nd),fb(this,s,t),Fe(this,"labels",s,n)}animateReadyResize(e){const{contextData:t,paths:n}=e;this.updateAreaPaths(n,t),super.animateReadyResize(e)}animateWaitingUpdateReady(e){var h,p;const{animationManager:t}=this.ctx,{markerSelection:n,labelSelection:i,contextData:r,paths:s,previousContextData:o}=e,[a,l]=s;if(a==null&&l==null)return;super.resetAllAnimation(e);const c=()=>{this.updateAreaPaths(s,r),this.updateStrokePath(s,r)},u=()=>{t.skipCurrentBatch(),c()};if(r==null||o==null){c(),Id(this,t,"added",n),Hu(this,"fill_path_properties",t,"add",a),Hu(this,"stroke",t,"trailing",l),Fe(this,"labels",t,i);return}const d=fI(r,o,(p=(h=this.processedData)==null?void 0:h.reduced)==null?void 0:p.diff,this.properties.interpolation);if(d===void 0){u();return}else if(d.status==="no-op")return;Id(this,t,void 0,n),Et(this.id,"fill_path_properties",t,[a],d.fill.pathProperties),nI(this.id,"fill_path_update",t,[a],d.fill.path),this.updateStrokePath(s,r),Hu(this,"stroke",t,"trailing",l),Fe(this,"labels",t,i)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new ge}getFormattedMarkerStyle(e){const{xKey:t,yKey:n}=e;return this.getMarkerStyle(this.properties.marker,{datum:e,xKey:t,yKey:n,highlighted:!0})}computeFocusBounds(e){return dh(this,e)}};wb.className="AreaSeries";wb.type="area";var iG={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"area",instanceConstructor:wb,stackable:!0,tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{nodeClickRange:"nearest",tooltip:{position:{type:"node"}},fillOpacity:.8,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,shadow:{enabled:!1,color:Ka,xOffset:3,yOffset:3,blur:5},interpolation:{type:"linear",tension:1,position:"end"},marker:{enabled:!1,shape:"circle",size:7,strokeWidth:0},label:{enabled:!1,fontSize:12,fontFamily:Lt,color:Zt}}},paletteFactory:e=>{const{marker:t}=Gg(e);return{fill:t.fill,stroke:t.stroke,marker:t}}};function*gI(e){for(const t of e.children)yield t}function Sb(e,t){for(const n of t){const i=n.datum;i===void 0?$.error("undefined datum"):e.addValue(n,i)}}function Mb(e,t){const{x:n,y:i}=e.contentGroup.transformPoint(t.x,t.y),{nearest:r,distanceSquared:s}=e.getQuadTree().find(n,i);if(r!==void 0)return{datum:r.value,distance:Math.sqrt(s)}}var Db=class extends Yo{constructor(){super(...arguments),this.direction="vertical"}};b([w(IL)],Db.prototype,"direction",2);var mI=class extends Go{constructor(){super(...arguments),this.groupScale=new Mo,this.smallestDataInterval=void 0,this.largestDataInterval=void 0}getBandScalePadding(){return{inner:.3,outer:.15}}shouldFlipXY(){return!this.isVertical()}isVertical(){return this.properties.direction==="vertical"}getBarDirection(){return this.shouldFlipXY()?"x":"y"}getCategoryDirection(){return this.shouldFlipXY()?"y":"x"}getValueAxis(){const e=this.getBarDirection();return this.axes[e]}getCategoryAxis(){const e=this.getCategoryDirection();return this.axes[e]}updateGroupScale(e){const{groupScale:t,smallestDataInterval:n,ctx:{seriesStateManager:i}}=this,r=e.scale,s=Ve.is(r)?r.calcBandwidth(n):r.bandwidth,o=[],{index:a,visibleGroupCount:l}=i.getVisiblePeerGroupIndex(this);for(let u=0;u<l;u++)o.push(String(u));return t.domain=o,t.range=[0,s??0],e instanceof Bo?t.paddingInner=e.groupPaddingInner:e instanceof Do?t.padding=.1:t.padding=0,t.round=t.padding!==0,{barWidth:t.bandwidth>=1?t.bandwidth:t.rawBandwidth,groupIndex:a}}resolveKeyDirection(e){return this.getBarDirection()==="x"?e==="x"?"y":"x":e}initQuadTree(e){Sb(e,this.datumNodesIter())}pickNodeClosestDatum(e){return Mb(this,e)}},yI=class extends Kt{constructor(){super(...arguments),this.placement="inside"}};b([w(NL)],yI.prototype,"placement",2);var Gt=class extends Db{constructor(){super(...arguments),this.fill="#c16068",this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.crisp=void 0,this.shadow=new ur,this.label=new yI,this.tooltip=new Gn}};b([w(q)],Gt.prototype,"xKey",2);b([w(q,{optional:!0})],Gt.prototype,"xName",2);b([w(q)],Gt.prototype,"yKey",2);b([w(q,{optional:!0})],Gt.prototype,"yName",2);b([w(q,{optional:!0})],Gt.prototype,"stackGroup",2);b([w(tt,{optional:!0})],Gt.prototype,"normalizedTo",2);b([w(ze)],Gt.prototype,"fill",2);b([w(Ge)],Gt.prototype,"fillOpacity",2);b([w(ze)],Gt.prototype,"stroke",2);b([w(X)],Gt.prototype,"strokeWidth",2);b([w(Ge)],Gt.prototype,"strokeOpacity",2);b([w(Es)],Gt.prototype,"lineDash",2);b([w(X)],Gt.prototype,"lineDashOffset",2);b([w(X)],Gt.prototype,"cornerRadius",2);b([w(me,{optional:!0})],Gt.prototype,"crisp",2);b([w(Jn,{optional:!0})],Gt.prototype,"itemStyler",2);b([w(le,{optional:!0})],Gt.prototype,"shadow",2);b([w(le)],Gt.prototype,"label",2);b([w(le)],Gt.prototype,"tooltip",2);function vI({rect:e,config:t}){const{crisp:n=!0,fill:i,stroke:r,strokeWidth:s,fillOpacity:o,strokeOpacity:a,lineDash:l,lineDashOffset:c,fillShadow:u,cornerRadius:d=0,topLeftCornerRadius:h=!0,topRightCornerRadius:p=!0,bottomRightCornerRadius:f=!0,bottomLeftCornerRadius:g=!0,visible:v=!0}=t;e.crisp=n,e.fill=i,e.stroke=r,e.strokeWidth=s,e.fillOpacity=o,e.strokeOpacity=a,e.lineDash=l,e.lineDashOffset=c,e.fillShadow=u,e.topLeftCornerRadius=h?d:0,e.topRightCornerRadius=p?d:0,e.bottomRightCornerRadius=f?d:0,e.bottomLeftCornerRadius=g?d:0,e.visible=v}function xI({datum:e,isHighlighted:t,style:n,highlightStyle:i,itemStyler:r,seriesId:s,ctx:{callbackCache:o},...a}){const{fill:l,fillOpacity:c,stroke:u,strokeWidth:d,strokeOpacity:h,lineDash:p,lineDashOffset:f,cornerRadius:g=0}=Ie(t&&i,n),{fillShadow:v,topLeftCornerRadius:y=!0,topRightCornerRadius:m=!0,bottomRightCornerRadius:x=!0,bottomLeftCornerRadius:S=!0}=n;let D;return r&&(D=o.call(r,{datum:e.datum,xKey:e.xKey,fill:l,fillOpacity:c,stroke:u,strokeWidth:d,strokeOpacity:h,lineDash:p,lineDashOffset:f,cornerRadius:g,highlighted:t,seriesId:s,...a})),{fill:(D==null?void 0:D.fill)??l,fillOpacity:(D==null?void 0:D.fillOpacity)??c,stroke:(D==null?void 0:D.stroke)??u,strokeWidth:(D==null?void 0:D.strokeWidth)??d,strokeOpacity:(D==null?void 0:D.strokeOpacity)??h,lineDash:(D==null?void 0:D.lineDash)??p,lineDashOffset:(D==null?void 0:D.lineDashOffset)??f,cornerRadius:(D==null?void 0:D.cornerRadius)??g,topLeftCornerRadius:y,topRightCornerRadius:m,bottomRightCornerRadius:x,bottomLeftCornerRadius:S,fillShadow:v}}function bI(e,t,n,i){if(t!=null){const[r,s]=t;if(r!==0||s!==1)return!1}if(Ve.is(e)){const r=e.calcBandwidth(i)-e.calcBandwidth(n);if(r>0&&r<1)return!1}return!0}var Km=e=>dc(e.yValue??0);function Pd(e,t,n){const{startingX:i,startingY:r}=sG(e,t);return{isVertical:e,calculate:(o,a)=>{let l=e?o.x:i,c=e?r:o.y,u=e?o.width:0,d=e?0:o.height;const{opacity:h}=o;a&&(isNaN(l)||isNaN(c))&&({x:l,y:c}=a,u=e?a.width:0,d=e?0:a.height,e&&!Km(a)?c+=a.height:!e&&Km(a)&&(l+=a.width));let p;return o.clipBBox==null?p=void 0:Km(o)?p=e?new re(l,c-d,u,d):new re(l-u,c,u,d):p=new re(l,c,u,d),{x:l,y:c,width:u,height:d,clipBBox:p,opacity:h}},mode:n}}function rG(e,t){return{isVertical:e,calculate:n=>({x:e?n.x:n.x+n.width/2,y:e?n.y+n.height/2:n.y,width:e?n.width:0,height:e?0:n.height,clipBBox:n.clipBBox,opacity:n.opacity}),mode:t}}function Od(e){const t=r=>r==null||isNaN(r.x)||isNaN(r.y);return{toFn:(r,s,o)=>{let a;return o==="removed"&&r.datum==null&&e.mode==="fade"?a={..._d(r,s),opacity:0}:o==="removed"||t(s)?a=e.calculate(s,r.previousDatum):a={x:s.x,y:s.y,width:s.width,height:s.height,clipBBox:s.clipBBox,opacity:s.opacity},a},fromFn:(r,s,o)=>{o==="updated"&&t(s)?o="removed":o==="updated"&&t(r.previousDatum)&&(o="added");let a;o==="added"&&r.previousDatum==null&&e.mode==="fade"?a={..._d(r,s),opacity:0}:o==="unknown"||o==="added"?a=e.calculate(s,r.previousDatum):a={x:r.x,y:r.y,width:r.width,height:r.height,clipBBox:r.clipBBox,opacity:r.opacity};const l=Nn[o];return{...a,phase:l}}}}function sG(e,t){const n=t[e?"y":"x"];let i=1/0,r=0;return n?(e?r=n.scale.convert(Ve.is(n.scale)?0:Math.max(...n.range)):i=n.scale.convert(Ve.is(n.scale)?0:Math.min(...n.range)),{startingX:i,startingY:r}):{startingX:i,startingY:r}}function _d(e,{x:t,y:n,width:i,height:r,clipBBox:s,opacity:o}){return{x:t,y:n,width:i,height:r,clipBBox:s,opacity:o}}function kb(e,t,n){if(e===void 0)return;const{x:i,y:r,width:s,height:o}=e;return t.inverseTransformBBox(new re(i,r,s,o)).clip(n)}function wI(e,t,n){if(t.enabled&&n){const{x:i,y:r,text:s,textAlign:o,textBaseline:a}=n,{color:l,fontStyle:c,fontWeight:u,fontSize:d,fontFamily:h}=t;e.setProperties({visible:!0,x:i,y:r,text:s,fill:l,fontStyle:c,fontWeight:u,fontSize:d,fontFamily:h,textAlign:o,textBaseline:a})}else e.visible=!1}function SI({isPositive:e,isVertical:t,placement:n,padding:i=0,rect:r}){let s=r.x+r.width/2,o=r.y+r.height/2,a="center",l="middle";switch(n){case"start":{t?(o=e?r.y+r.height+i:r.y-i,l=e?"top":"bottom"):(s=e?r.x-i:r.x+r.width+i,a=e?"start":"end");break}case"outside":case"end":{t?(o=e?r.y-i:r.y+r.height+i,l=e?"bottom":"top"):(s=e?r.x+r.width+i:r.x-i,a=e?"start":"end");break}}return{x:s,y:o,textAlign:a,textBaseline:l}}var Cb=class extends mI{constructor(e){super({moduleCtx:e,directionKeys:ja,directionNames:Wa,pickModes:[3,0],pathsPerSeries:0,hasHighlightedLabels:!0,datumSelectionGarbageCollection:!1,animationAlwaysUpdateSelections:!0,animationResetFns:{datum:_d,label:Rs}}),this.properties=new Gt}async processData(e){var y,m,x,S;if(!this.properties.isValid()||!this.data)return;const{seriesGrouping:{groupIndex:t=this.id}={},data:n=[]}=this,{xKey:i,yKey:r,normalizedTo:s}=this.properties,o=!this.ctx.animationManager.isSkipped(),a=(y=this.getCategoryAxis())==null?void 0:y.scale,l=(m=this.getValueAxis())==null?void 0:m.scale,{isContinuousX:c,xScaleType:u,yScaleType:d}=this.getScaleInformation({xScale:a,yScale:l}),h=`bar-stack-${t}-yValues`,p=`${h}-trailing`,f=[];Pe(s)&&f.push(Ld([h,p],Math.abs(s),"range")),o&&this.processedData&&f.push(Ga(this.processedData)),o&&f.push(Mc());const g=this.visible?{}:{forceValue:0},{processedData:v}=await this.requestDataModel(e,n,{props:[pn(i,u,{id:"xValue"}),Ke(r,d,{id:"yValue-raw",invalidValue:null,...g}),...nr(r,"normal","current",{id:"yValue-end",rangeId:"yValue-range",invalidValue:null,missingValue:0,groupId:h,separateNegative:!0,...g},d),...nr(r,"trailing","current",{id:"yValue-start",invalidValue:null,missingValue:0,groupId:p,separateNegative:!0,...g},d),...c?[yT,vT]:[],...f],groupByKeys:!0,groupByData:!1});this.smallestDataInterval=(x=v.reduced)==null?void 0:x.smallestKeyInterval,this.largestDataInterval=(S=v.reduced)==null?void 0:S.largestKeyInterval,this.animationState.transition("updateData")}getSeriesDomain(e){const{processedData:t,dataModel:n,smallestDataInterval:i}=this;if(!t||!n||t.data.length===0)return[];const r=this.getCategoryAxis(),s=this.getValueAxis(),o=n.resolveProcessedDataDefById(this,"xValue"),a=n.getDomain(this,"xValue","key",t),l=n.getDomain(this,"yValue-end","value",t);if(e===this.getCategoryDirection()){if((o==null?void 0:o.def.type)==="key"&&o.def.valueType==="category")return a;const c=Pe(i)?i*.5:0,u=Kr(a)??[NaN,NaN],d=u[0]+-c,h=u[1]+c;return qn([d,h],r)}else{if(this.getValueAxis()instanceof Ha)return qn(l,s);{const c=[Math.min(0,l[0]),Math.max(0,l[1])];return qn(c,s)}}}async createNodeData(){const{dataModel:e}=this,t=this.getCategoryAxis(),n=this.getValueAxis();if(!e||!t||!n||!this.properties.isValid())return;const i=t.scale,r=n.scale,{xKey:s,yKey:o,xName:a,yName:l,fill:c,stroke:u,strokeWidth:d,cornerRadius:h,legendItemName:p,label:f}=this.properties,g=n.isReversed(),{barWidth:v,groupIndex:y}=this.updateGroupScale(t),m=Ve.is(i)?v*-.5:0,x=e.resolveProcessedDataIndexById(this,"xValue"),S=e.resolveProcessedDataIndexById(this,"yValue-raw"),D=e.resolveProcessedDataIndexById(this,"yValue-start"),M=e.resolveProcessedDataIndexById(this,"yValue-end"),C=e.resolveProcessedDataIndexById(this,"yValue-range"),k=!this.ctx.animationManager.isSkipped(),L={itemId:o,nodeData:[],labelData:[],scales:this.calculateScaling(),visible:this.visible||k},{groupScale:T,processedData:O}=this;return O==null||O.data.forEach(({keys:Y,datum:E,values:_,aggValues:R})=>{_.forEach((z,P)=>{const F=Y[x],G=i.convert(F),H=+z[M],Z=+z[D],J=z[S],he=J>=0&&!Object.is(J,-0),pe=he!==g,Te=(R==null?void 0:R[C][he?1:0])??0,V=G+T.convert(String(y))+m;if(isNaN(H))return;const ue=r.convert(H),oe=r.convert(Z),de=this.getBarDirection()==="x",Se=r.convert(Te),Oe=r.convert(0),ce={x:de?Math.min(ue,oe):V,y:de?V:Math.min(ue,oe),width:de?Math.abs(oe-ue):v,height:de?v:Math.abs(oe-ue)},be=new re(ce.x,ce.y,ce.width,ce.height),ut={x:de?Math.min(Oe,Se):V,y:de?V:Math.min(Oe,Se),width:de?Math.abs(Oe-Se):v,height:de?v:Math.abs(Oe-Se),clipBBox:be},{fontStyle:Dn,fontWeight:Vi,fontSize:Xa,fontFamily:Za,color:qa,placement:Oc}=f,Vo=this.getLabelText(this.properties.label,{datum:E[P],value:J,xKey:s,yKey:o,xName:a,yName:l,legendItemName:p},vt=>Pe(vt)?vt.toFixed(2):String(vt)),Ko=Vo?{text:Vo,fill:qa,fontStyle:Dn,fontWeight:Vi,fontSize:Xa,fontFamily:Za,...SI({isPositive:he,isVertical:!de,placement:Oc,rect:ce})}:void 0,qr=this.shouldFlipXY()?ce.height:ce.width,mt={series:this,itemId:o,datum:E[P],valueIndex:P,cumulativeValue:H,xValue:F,yValue:J,yKey:o,xKey:s,capDefaults:{lengthRatioMultiplier:qr,lengthMax:qr},x:ut.x,y:ut.y,width:ut.width,height:ut.height,midPoint:{x:ce.x+ce.width/2,y:ce.y+ce.height/2},fill:c,stroke:u,opacity:1,strokeWidth:d,cornerRadius:h,topLeftCornerRadius:de!==pe,topRightCornerRadius:pe,bottomRightCornerRadius:de===pe,bottomLeftCornerRadius:!pe,clipBBox:be,label:Ko,missing:J==null};L.nodeData.push(mt),L.labelData.push(mt)})}),L}nodeFactory(){return new Yn}async updateDatumSelection(e){return e.datumSelection.update(e.nodeData,t=>{t.tag=0},t=>Co(t.xValue,t.valueIndex))}async updateDatumNodes(e){if(!this.properties.isValid())return;const{yKey:t,stackGroup:n,fill:i,fillOpacity:r,stroke:s,strokeWidth:o,strokeOpacity:a,lineDash:l,lineDashOffset:c,itemStyler:u,shadow:d,highlightStyle:{item:h}}=this.properties,p=this.axes.x,f=this.properties.crisp??bI(p==null?void 0:p.scale,p==null?void 0:p.visibleRange,this.smallestDataInterval,this.largestDataInterval),g=this.getCategoryDirection()==="x";e.datumSelection.each((v,y)=>{var D,M;const m={fill:i,stroke:s,fillOpacity:r,strokeOpacity:a,lineDash:l,lineDashOffset:c,fillShadow:d,strokeWidth:this.getStrokeWidth(o),cornerRadius:y.cornerRadius,topLeftCornerRadius:y.topLeftCornerRadius,topRightCornerRadius:y.topRightCornerRadius,bottomRightCornerRadius:y.bottomRightCornerRadius,bottomLeftCornerRadius:y.bottomLeftCornerRadius},x=g?(((D=y.clipBBox)==null?void 0:D.width)??y.width)>0:(((M=y.clipBBox)==null?void 0:M.height)??y.height)>0,S=xI({datum:y,ctx:this.ctx,seriesId:this.id,isHighlighted:e.isHighlight,highlightStyle:h,yKey:t,style:m,itemStyler:u,stackGroup:n});S.crisp=f,S.visible=x,vI({rect:v,config:S})})}async updateLabelSelection(e){const t=this.isLabelEnabled()?e.labelData:[];return e.labelSelection.update(t,n=>{n.tag=1,n.pointerEvents=1})}async updateLabelNodes(e){e.labelSelection.each((t,n)=>{wI(t,this.properties.label,n.label)})}getTooltipHtml(e){const{id:t,processedData:n,ctx:{callbackCache:i}}=this,r=this.getCategoryAxis(),s=this.getValueAxis();if(!n||!this.properties.isValid()||!r||!s)return Ts;const{xKey:o,yKey:a,xName:l,yName:c,fill:u,stroke:d,strokeWidth:h,tooltip:p,itemStyler:f,stackGroup:g,legendItemName:v}=this.properties,{xValue:y,yValue:m,datum:x,itemId:S}=e,D=r.formatDatum(y),M=s.formatDatum(m),C=ht(c),k=ht(D+": "+M);let L;f&&(L=i.call(f,{seriesId:t,datum:x,xKey:o,yKey:a,stackGroup:g,fill:u,stroke:d,strokeWidth:this.getStrokeWidth(h),highlighted:!1,cornerRadius:this.properties.cornerRadius,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,lineDash:this.properties.lineDash??[],lineDashOffset:this.properties.lineDashOffset}));const T=(L==null?void 0:L.fill)??u;return p.toTooltipHtml({title:C,content:k,backgroundColor:T},{seriesId:t,itemId:S,datum:x,xKey:o,yKey:a,xName:l,yName:c,stackGroup:g,title:C,color:T,legendItemName:v,...this.getModuleTooltipParams()})}getLegendData(e){var d;const{showInLegend:t}=this.properties;if(e!=="category"||!((d=this.data)!=null&&d.length)||!this.properties.isValid()||!t)return[];const{yKey:n,yName:i,fill:r,stroke:s,strokeWidth:o,fillOpacity:a,strokeOpacity:l,legendItemName:c,visible:u}=this.properties;return[{legendType:"category",id:this.id,itemId:n,seriesId:this.id,enabled:u,label:{text:c??i??n},symbols:[{marker:{fill:r,fillOpacity:a,stroke:s,strokeWidth:o,strokeOpacity:l}}],legendItemName:c}]}animateEmptyUpdateReady({datumSelection:e,labelSelection:t,annotationSelections:n}){const i=Od(Pd(this.isVertical(),this.axes,"normal"));Et(this.id,"nodes",this.ctx.animationManager,[e],i),Fe(this,"labels",this.ctx.animationManager,t),Fe(this,"annotations",this.ctx.animationManager,...n)}animateWaitingUpdateReady(e){var c,u;const{datumSelection:t,labelSelection:n,annotationSelections:i,previousContextData:r}=e;this.ctx.animationManager.stopByAnimationGroupId(this.id);const s=(u=(c=this.processedData)==null?void 0:c.reduced)==null?void 0:u.diff,o=r==null?"fade":"normal",a=Od(Pd(this.isVertical(),this.axes,o));Et(this.id,"nodes",this.ctx.animationManager,[t],a,(d,h)=>Co(h.xValue,h.valueIndex),s),((s==null?void 0:s.changed)??!0)&&(Fe(this,"labels",this.ctx.animationManager,n),Fe(this,"annotations",this.ctx.animationManager,...i))}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds({datumIndex:e,seriesRect:t}){var i;const n=(i=this.contextNodeData)==null?void 0:i.nodeData[e].clipBBox;return kb(n,this.contentGroup,t)}};Cb.className="BarSeries";Cb.type="bar";var oG={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bar",instanceConstructor:Cb,stackable:!0,groupable:!0,tooltipDefaults:{range:"exact"},defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],swapDefaultAxesCondition:e=>(e==null?void 0:e.direction)==="horizontal",themeTemplate:{series:{direction:"vertical",fillOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontWeight:"normal",fontSize:12,fontFamily:Lt,color:Va,placement:"inside"},shadow:{enabled:!1,color:Ka,xOffset:3,yOffset:3,blur:5}}},enterpriseThemeTemplate:{series:{errorBar:{cap:{lengthRatio:.3}}}},paletteFactory:Tc},hD=e=>{const t=Tr.fromString(e),[n,i,r]=Tr.RGBtoOKLCH(t.r,t.g,t.b);return{l:n,c:i,h:r,a:t.a}},$m=1e-6,pD=e=>e.c<$m||e.l<$m||e.l>1-$m,aG=(e,t,n)=>{n=ke(0,n,1);let i;if(pD(e))i=t.h;else if(pD(t))i=e.h;else{const a=e.h;let l=t.h;const c=t.h-e.h;c>180?l-=360:c<-180&&(l+=360),i=a*(1-n)+l*n}const r=e.c*(1-n)+t.c*n,s=e.l*(1-n)+t.l*n,o=e.a*(1-n)+t.a*n;return Tr.fromOKLCH(s,r,i,o)},$a=class{constructor(){this.type="color",this.invalid=!0,this.domain=[0,1],this.range=["red","blue"],this.parsedRange=this.range.map(hD)}update(){const{domain:e,range:t}=this;e.length<2&&($.warnOnce("`colorDomain` should have at least 2 values."),e.length===0?e.push(0,1):e.length===1&&e.push(e[0]+1));for(let n=1;n<e.length;n++){const i=e[n-1],r=e[n];if(i>=r){$.warnOnce("`colorDomain` values should be supplied in ascending order."),e.sort((s,o)=>s-o);break}}if(t.length<e.length)for(let n=t.length;n<e.length;n++)t.push(t.length>0?t[0]:"black");this.parsedRange=this.range.map(hD)}convert(e){this.refresh();const{domain:t,range:n,parsedRange:i}=this,r=t[0],s=t.at(-1),o=n[0],a=n[n.length-1];if(e<=r)return o;if(e>=s)return a;let l,c;if(t.length===2){const h=(e-r)/(s-r),p=1/(n.length-1);l=n.length<=2?0:Math.min(Math.floor(h*(n.length-1)),n.length-2),c=(h-l*p)/p}else{for(l=0;l<t.length-2&&!(e<t[l+1]);l++);const h=t[l],p=t[l+1];c=(e-h)/(p-h)}const u=i[l],d=i[l+1];return aG(u,d,c).toRgbaString()}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&$.warnOnce("Expected update to not invalidate scale"))}};b([nn],$a.prototype,"domain",2);b([nn],$a.prototype,"range",2);var Lb=class extends ni{constructor(){super(...arguments),this.maxSize=30}};b([w(X),ne({redraw:3})],Lb.prototype,"maxSize",2);b([w(kg,{optional:!0}),ne({redraw:3})],Lb.prototype,"domain",2);var MI=class extends Kt{constructor(){super(...arguments),this.placement="top"}};b([w(kx)],MI.prototype,"placement",2);var ct=class extends Yo{constructor(){super(...arguments),this.colorRange=["#ffff00","#00ff00","#0000ff"],this.label=new MI,this.tooltip=new Gn,this.marker=new Lb}};b([w(q)],ct.prototype,"xKey",2);b([w(q)],ct.prototype,"yKey",2);b([w(q)],ct.prototype,"sizeKey",2);b([w(q,{optional:!0})],ct.prototype,"labelKey",2);b([w(q,{optional:!0})],ct.prototype,"colorKey",2);b([w(q,{optional:!0})],ct.prototype,"xName",2);b([w(q,{optional:!0})],ct.prototype,"yName",2);b([w(q,{optional:!0})],ct.prototype,"sizeName",2);b([w(q,{optional:!0})],ct.prototype,"labelName",2);b([w(q,{optional:!0})],ct.prototype,"colorName",2);b([w(kg,{optional:!0})],ct.prototype,"colorDomain",2);b([w(Wi)],ct.prototype,"colorRange",2);b([w(q,{optional:!0})],ct.prototype,"title",2);b([$t("marker.shape")],ct.prototype,"shape",2);b([$t("marker.size")],ct.prototype,"size",2);b([$t("marker.maxSize")],ct.prototype,"maxSize",2);b([$t("marker.domain",{optional:!0})],ct.prototype,"domain",2);b([$t("marker.fill",{optional:!0})],ct.prototype,"fill",2);b([$t("marker.fillOpacity")],ct.prototype,"fillOpacity",2);b([$t("marker.stroke",{optional:!0})],ct.prototype,"stroke",2);b([$t("marker.strokeWidth")],ct.prototype,"strokeWidth",2);b([$t("marker.strokeOpacity")],ct.prototype,"strokeOpacity",2);b([$t("marker.itemStyler",{optional:!0})],ct.prototype,"itemStyler",2);b([w(le)],ct.prototype,"label",2);b([w(le)],ct.prototype,"tooltip",2);var lG=class extends ib{constructor(e,t,n,i){super(e,t,n,i),this.sizeKey=i.properties.sizeKey}},Eb=class extends Go{constructor(e){super({moduleCtx:e,directionKeys:ja,directionNames:Wa,pickModes:[2,3,0],pathsPerSeries:0,hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{label:Rs,marker:uh}}),this.NodeEvent=lG,this.properties=new ct,this.sizeScale=new Fr,this.colorScale=new $a}async processData(e){var x,S;if(!this.properties.isValid()||this.data==null||!this.visible)return;const t=(x=this.axes.x)==null?void 0:x.scale,n=(S=this.axes.y)==null?void 0:S.scale,{xScaleType:i,yScaleType:r}=this.getScaleInformation({xScale:t,yScale:n}),s=this.colorScale.type,o=this.sizeScale.type,{xKey:a,yKey:l,sizeKey:c,labelKey:u,colorDomain:d,colorRange:h,colorKey:p,marker:f}=this.properties,{dataModel:g,processedData:v}=await this.requestDataModel(e,this.data,{props:[pn(a,i,{id:"xKey-raw"}),pn(l,r,{id:"yKey-raw"}),...u?[pn(u,"band",{id:"labelKey-raw"})]:[],Ke(a,i,{id:"xValue"}),Ke(l,r,{id:"yValue"}),Ke(c,o,{id:"sizeValue"}),...p?[Ke(p,s,{id:"colorValue"})]:[],...u?[Ke(u,"band",{id:"labelValue"})]:[]]}),y=g.resolveProcessedDataIndexById(this,"sizeValue"),m=v.domain.values[y]??[];if(this.sizeScale.domain=f.domain?f.domain:m,p){const D=g.resolveProcessedDataIndexById(this,"colorValue");this.colorScale.domain=d??v.domain.values[D]??[],this.colorScale.range=h,this.colorScale.update()}this.animationState.transition("updateData")}getSeriesDomain(e){const{dataModel:t,processedData:n}=this;if(!n||!t)return[];const i=e==="x"?"xValue":"yValue",r=t.resolveProcessedDataDefById(this,i),s=t.getDomain(this,i,"value",n);if((r==null?void 0:r.def.type)==="value"&&(r==null?void 0:r.def.valueType)==="category")return s;const o=this.axes[e];return qn(Kr(s),o)}async createNodeData(){const{axes:e,dataModel:t,processedData:n,colorScale:i,sizeScale:r}=this,{xKey:s,yKey:o,sizeKey:a,labelKey:l,xName:c,yName:u,sizeName:d,labelName:h,label:p,colorKey:f,marker:g,visible:v}=this.properties,y=jr(g.shape),{placement:m}=p,x=e.x,S=e.y;if(!(t&&n&&v&&x&&S))return;const D=t.resolveProcessedDataIndexById(this,"xValue"),M=t.resolveProcessedDataIndexById(this,"yValue"),C=a?t.resolveProcessedDataIndexById(this,"sizeValue"):-1,k=f?t.resolveProcessedDataIndexById(this,"colorValue"):-1,L=l?t.resolveProcessedDataIndexById(this,"labelValue"):-1,T=x.scale,O=S.scale,Y=(T.bandwidth??0)/2,E=(O.bandwidth??0)/2,_=[];r.range=[g.size,g.maxSize];const R=p.getFont();for(const{values:z,datum:P}of n.data??[]){const F=z[D],G=z[M],H=T.convert(F)+Y,Z=O.convert(G)+E,J=this.getLabelText(p,{value:l?z[L]:G,datum:P,xKey:s,yKey:o,sizeKey:a,labelKey:l,xName:c,yName:u,sizeName:d,labelName:h}),he=Ye.getTextSize(String(J),R),pe=a?r.convert(z[C]):g.size,Te=f?i.convert(z[k]):void 0;_.push({series:this,itemId:o,yKey:o,xKey:s,datum:P,xValue:F,yValue:G,sizeValue:z[C],point:{x:H,y:Z,size:pe},midPoint:{x:H,y:Z},fill:Te,label:{text:J,...he},marker:y,placement:m})}return{itemId:o,nodeData:_,labelData:_,scales:this.calculateScaling(),visible:this.visible}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){var e;return((e=this.contextNodeData)==null?void 0:e.labelData)??[]}markerFactory(){const{shape:e}=this.properties.marker,t=jr(e);return new t}async updateMarkerSelection(e){const{nodeData:t,markerSelection:n}=e;this.properties.marker.isDirty()&&(n.clear(),n.cleanup());const i=this.properties.marker.enabled?t:[];return n.update(i,void 0,r=>Co([r.xValue,r.yValue,r.label.text]))}async updateMarkerNodes(e){const{markerSelection:t,isHighlight:n}=e,{xKey:i,yKey:r,sizeKey:s,labelKey:o,marker:a}=this.properties,{size:l,shape:c,fill:u,fillOpacity:d,stroke:h,strokeWidth:p,strokeOpacity:f}=Ie(n&&this.properties.highlightStyle.item,a.getStyle()),g={size:l,shape:c,fill:u,fillOpacity:d,stroke:h,strokeWidth:p,strokeOpacity:f};this.sizeScale.range=[a.size,a.maxSize],t.each((v,y)=>{this.updateMarkerStyle(v,a,{datum:y,highlighted:n,xKey:i,yKey:r,sizeKey:s,labelKey:o},g)}),n||this.properties.marker.markClean()}async updateLabelSelection(e){var n;const t=this.properties.label.enabled?((n=this.chart)==null?void 0:n.placeLabels().get(this))??[]:[];return e.labelSelection.update(t.map(i=>({...i.datum,point:{x:i.x,y:i.y,size:i.datum.point.size}})))}async updateLabelNodes(e){const{label:t}=this.properties;e.labelSelection.each((n,i)=>{var r,s;n.text=i.label.text,n.fill=t.color,n.x=((r=i.point)==null?void 0:r.x)??0,n.y=((s=i.point)==null?void 0:s.y)??0,n.fontStyle=t.fontStyle,n.fontWeight=t.fontWeight,n.fontSize=t.fontSize,n.fontFamily=t.fontFamily,n.textAlign="left",n.textBaseline="top"})}getTooltipHtml(e){const t=this.axes.x,n=this.axes.y;if(!this.properties.isValid()||!t||!n)return Ts;const{xKey:i,yKey:r,sizeKey:s,labelKey:o,xName:a,yName:l,sizeName:c,labelName:u,marker:d,tooltip:h}=this.properties,p=this.properties.title??l,f=Ie({fill:e.fill,strokeWidth:this.getStrokeWidth(d.strokeWidth)},d.getStyle()),{fill:g="gray"}=this.getMarkerStyle(d,{datum:e,highlighted:!1,xKey:i,yKey:r,sizeKey:s,labelKey:o},f),{datum:v,xValue:y,yValue:m,sizeValue:x,label:{text:S},itemId:D}=e,M=ht(t.formatDatum(y)),C=ht(n.formatDatum(m));let k=`<b>${ht(a??i)}</b>: ${M}<br><b>${ht(l??r)}</b>: ${C}`;return s&&(k+=`<br><b>${ht(c??s)}</b>: ${ht(String(x))}`),o&&(k=`<b>${ht(u??o)}</b>: ${ht(S)}<br>`+k),h.toTooltipHtml({title:p,content:k,backgroundColor:g},{datum:v,itemId:D,xKey:i,xName:a,yKey:r,yName:l,sizeKey:s,sizeName:c,labelKey:o,labelName:u,title:p,color:g,seriesId:this.id})}getLegendData(){var d;if(!((d=this.data)!=null&&d.length)||!this.properties.isValid())return[];const{yKey:e,yName:t,title:n,marker:i,visible:r}=this.properties,{shape:s,fill:o,stroke:a,fillOpacity:l,strokeOpacity:c,strokeWidth:u}=i;return[{legendType:"category",id:this.id,itemId:e,seriesId:this.id,enabled:r,label:{text:n??t??e},symbols:[{marker:{shape:s,fill:o??"rgba(0, 0, 0, 0)",stroke:a??"rgba(0, 0, 0, 0)",fillOpacity:l??1,strokeOpacity:c??1,strokeWidth:u??0}}]}]}animateEmptyUpdateReady({markerSelection:e,labelSelection:t}){pb(this,this.ctx.animationManager,e),Fe(this,"labels",this.ctx.animationManager,t)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new ge}getFormattedMarkerStyle(e){const{xKey:t,yKey:n,sizeKey:i,labelKey:r}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:e,xKey:t,yKey:n,sizeKey:i,labelKey:r,highlighted:!1})}computeFocusBounds(e){return dh(this,e)}};Eb.className="BubbleSeries";Eb.type="bubble";var cG={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bubble",instanceConstructor:Eb,tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{shape:"circle",size:7,maxSize:30,fillOpacity:.8,tooltip:{position:{type:"node"}},label:{enabled:!1,fontSize:12,fontFamily:Lt,color:Zt}}},paletteFactory:Tc},jt=class extends Yo{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.areaPlot=!1,this.aggregation="sum",this.shadow=new ur,this.label=new Kt,this.tooltip=new Gn}};b([w(q)],jt.prototype,"xKey",2);b([w(q,{optional:!0})],jt.prototype,"yKey",2);b([w(q,{optional:!0})],jt.prototype,"xName",2);b([w(q,{optional:!0})],jt.prototype,"yName",2);b([w(ze,{optional:!0})],jt.prototype,"fill",2);b([w(Ge)],jt.prototype,"fillOpacity",2);b([w(ze,{optional:!0})],jt.prototype,"stroke",2);b([w(X)],jt.prototype,"strokeWidth",2);b([w(Ge)],jt.prototype,"strokeOpacity",2);b([w(Es)],jt.prototype,"lineDash",2);b([w(X)],jt.prototype,"lineDashOffset",2);b([w(X)],jt.prototype,"cornerRadius",2);b([w(me)],jt.prototype,"areaPlot",2);b([w(gc,{optional:!0})],jt.prototype,"bins",2);b([w(st(["count","sum","mean"],"a histogram aggregation"))],jt.prototype,"aggregation",2);b([w(X,{optional:!0})],jt.prototype,"binCount",2);b([w(le)],jt.prototype,"shadow",2);b([w(le)],jt.prototype,"label",2);b([w(le)],jt.prototype,"tooltip",2);var fD=10,Tb=class extends Go{constructor(e){super({moduleCtx:e,directionKeys:ja,directionNames:Wa,pickModes:[3,0],datumSelectionGarbageCollection:!1,animationResetFns:{datum:_d,label:Rs}}),this.properties=new jt,this.calculatedBins=[]}deriveBins(e){const t=Tg(e[0],e[1],fD),n=tc(e[0],e[1],fD),[i]=t,r=s=>[s,s+n];return[[i-n,i],...t.map(r)]}calculateNiceBins(e,t){const n=Math.floor(e[0]),i=e[1],r=t||1,{start:s,binSize:o}=this.calculateNiceStart(n,i,r);return this.getBins(s,i,o,r)}getBins(e,t,n,i){const r=[],s=this.calculatePrecision(n);for(let o=0;o<i;o++){const a=Math.round((e+o*n)*s)/s;let l=Math.round((e+(o+1)*n)*s)/s;o===i-1&&(l=Math.max(l,t)),r[o]=[a,l]}return r}calculatePrecision(e){let t=10;if(isFinite(e)&&e>0)for(;e<1;)t*=10,e*=10;return t}calculateNiceStart(e,t,n){const i=Math.abs(t-e)/n,r=Math.floor(Math.log10(i)),s=Math.pow(10,r);return{start:Math.floor(e/s)*s,binSize:i}}async processData(e){var d,h;this.visible||(this.processedData=void 0,this.animationState.transition("updateData"));const{xKey:t,yKey:n,areaPlot:i,aggregation:r}=this.properties,s=(d=this.axes.x)==null?void 0:d.scale,o=(h=this.axes.y)==null?void 0:h.scale,{xScaleType:a,yScaleType:l}=this.getScaleInformation({yScale:o,xScale:s}),c=[pn(t,a),xT];if(n){let p=Ov("groupAgg");r==="count"||(r==="sum"?p=hT("groupAgg"):r==="mean"&&(p=fT("groupAgg"))),i&&(p=_v("groupAgg",p)),c.push(Ke(n,l,{invalidValue:void 0}),p)}else{let p=Ov("groupAgg");i&&(p=_v("groupAgg",p)),c.push(p)}const u=p=>{const f=qn(p.domain.keys[0]);if(f.length===0)return p.domain.groups=[],()=>[];const g=ci(this.properties.binCount)?this.calculateNiceBins(f,this.properties.binCount):this.properties.bins??this.deriveBins(f),v=g.length;return this.calculatedBins=[...g],y=>{const m=y.keys[0];for(let x=0;x<v;x++){const S=g[x];if(m>=S[0]&&m<S[1]||x===v-1&&m<=S[1])return S}return[]}};!this.ctx.animationManager.isSkipped()&&this.processedData&&c.push(Ga(this.processedData,!1)),await this.requestDataModel(e,this.data,{props:c,groupByFn:u}),this.animationState.transition("updateData")}getSeriesDomain(e){var o,a,l;const{processedData:t,dataModel:n}=this;if(!t||!n||!this.calculatedBins.length)return[];const i=n.getDomain(this,"groupAgg","aggregate",t),r=(o=this.calculatedBins)==null?void 0:o[0][0],s=(l=this.calculatedBins)==null?void 0:l[(((a=this.calculatedBins)==null?void 0:a.length)??0)-1][1];return qn(e==="x"?[r,s]:i)}async createNodeData(){const{id:e,axes:t,processedData:n,ctx:{callbackCache:i}}=this,r=t.x,s=t.y;if(!r||!s)return;const{scale:o}=r,{scale:a}=s,{xKey:l,yKey:c,xName:u,yName:d,fill:h,stroke:p,strokeWidth:f,cornerRadius:g}=this.properties,{formatter:v=k=>String(k.value),fontStyle:y,fontWeight:m,fontSize:x,fontFamily:S,color:D}=this.properties.label,M=[],C={itemId:this.properties.yKey??this.id,nodeData:M,labelData:M,scales:this.calculateScaling(),animationValid:!0,visible:this.visible};return!this.visible||!n||n.type!=="grouped"||(n.data.forEach(k=>{const{aggValues:[[L,T]]=[[0,0]],datum:O,datum:{length:Y},keys:E,keys:[_,R]}=k,z=o.convert(_),P=o.convert(R),F=L+T,G=a.convert(0),H=a.convert(F),Z=Math.abs(P-z),J=Math.abs(H-G),he=Math.min(z,P),pe=Math.min(G,H);let Te;F!==0&&(Te={text:i.call(v,{value:F,datum:O,seriesId:e,xKey:l,yKey:c,xName:u,yName:d})??String(F),fontStyle:y,fontWeight:m,fontSize:x,fontFamily:S,fill:D,x:he+Z/2,y:pe+J/2});const V={x:he+Z/2,y:pe+J/2},ue=s.isReversed();M.push({series:this,datum:O,aggregatedValue:F,frequency:Y,domain:E,yKey:c,xKey:l,x:he,y:pe,xValue:z,yValue:H,width:Z,height:J,midPoint:V,fill:h,stroke:p,cornerRadius:g,topLeftCornerRadius:!ue,topRightCornerRadius:!ue,bottomRightCornerRadius:ue,bottomLeftCornerRadius:ue,opacity:1,strokeWidth:f,label:Te})}),M.sort((k,L)=>k.x-L.x)),C}nodeFactory(){return new Yn}async updateDatumSelection(e){const{nodeData:t,datumSelection:n}=e;return n.update(t,i=>{i.tag=0,i.crisp=!0},i=>i.domain.join("_"))}async updateDatumNodes(e){const{isHighlight:t}=e,{fillOpacity:n,strokeOpacity:i,lineDash:r,lineDashOffset:s,shadow:o,highlightStyle:{item:{fill:a,fillOpacity:l=n,stroke:c,strokeWidth:u}}}=this.properties;e.datumSelection.each((d,h,p)=>{const{cornerRadius:f,topLeftCornerRadius:g,topRightCornerRadius:v,bottomRightCornerRadius:y,bottomLeftCornerRadius:m}=h,x=t&&u!==void 0?u:h.strokeWidth,S=t?l:n;d.fill=(t?a:void 0)??h.fill,d.stroke=(t?c:void 0)??h.stroke,d.fillOpacity=S,d.strokeOpacity=i,d.strokeWidth=x,d.lineDash=r,d.lineDashOffset=s,d.topLeftCornerRadius=g?f:0,d.topRightCornerRadius=v?f:0,d.bottomRightCornerRadius=y?f:0,d.bottomLeftCornerRadius=m?f:0,d.fillShadow=o,d.zIndex=t?Dc.highlightedZIndex:p,d.visible=h.height>0})}async updateLabelSelection(e){const{labelData:t,labelSelection:n}=e;return n.update(t,i=>{i.tag=1,i.pointerEvents=1,i.textAlign="center",i.textBaseline="middle"})}async updateLabelNodes(e){const t=this.isLabelEnabled();e.labelSelection.each((n,i)=>{const r=i.label;r&&t?(n.text=r.text,n.x=r.x,n.y=r.y,n.fontStyle=r.fontStyle,n.fontWeight=r.fontWeight,n.fontSize=r.fontSize,n.fontFamily=r.fontFamily,n.fill=r.fill,n.visible=!0):n.visible=!1})}initQuadTree(e){Sb(e,gI(this.contentGroup.children[0]))}pickNodeClosestDatum(e){return Mb(this,e)}getTooltipHtml(e){const t=this.axes.x,n=this.axes.y;if(!this.properties.isValid()||!t||!n)return Ts;const{xKey:i,yKey:r,xName:s,yName:o,fill:a,aggregation:l,tooltip:c}=this.properties,{aggregatedValue:u,frequency:d,domain:[h,p],itemId:f}=e,g=`${ht(s??i)}: ${t.formatDatum(h)} - ${t.formatDatum(p)}`;let v=r?`<b>${ht(o??r)} (${l})</b>: ${n.formatDatum(u)}<br>`:"";v+=`<b>Frequency</b>: ${d}`;const y={title:g,backgroundColor:a,content:v};return c.toTooltipHtml(y,{datum:{data:e.datum,aggregatedValue:e.aggregatedValue,domain:e.domain,frequency:e.frequency},itemId:f,xKey:i,xName:s,yKey:r,yName:o,color:a,title:g,seriesId:this.id})}getLegendData(e){var c;if(!((c=this.data)!=null&&c.length)||e!=="category")return[];const{xKey:t,yName:n,fill:i,fillOpacity:r,stroke:s,strokeWidth:o,strokeOpacity:a,visible:l}=this.properties;return[{legendType:"category",id:this.id,itemId:t,seriesId:this.id,enabled:l,label:{text:n??t??"Frequency"},symbols:[{marker:{fill:i??"rgba(0, 0, 0, 0)",stroke:s??"rgba(0, 0, 0, 0)",fillOpacity:r,strokeOpacity:a,strokeWidth:o}}]}]}animateEmptyUpdateReady({datumSelection:e,labelSelection:t}){const n=Od(Pd(!0,this.axes,"normal"));Et(this.id,"datums",this.ctx.animationManager,[e],n),Fe(this,"labels",this.ctx.animationManager,t)}animateWaitingUpdateReady(e){var i,r;const t=(r=(i=this.processedData)==null?void 0:i.reduced)==null?void 0:r.diff,n=Od(Pd(!0,this.axes,"normal"));Et(this.id,"datums",this.ctx.animationManager,[e.datumSelection],n,(s,o)=>Co(o.domain),t),Fe(this,"labels",this.ctx.animationManager,e.labelSelection)}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds({datumIndex:e,seriesRect:t}){var n;return kb((n=this.contextNodeData)==null?void 0:n.nodeData[e],this.contentGroup,t)}};Tb.className="HistogramSeries";Tb.type="histogram";var uG={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"histogram",instanceConstructor:Tb,tooltipDefaults:{range:"exact"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontSize:12,fontFamily:Lt,color:Va},shadow:{enabled:!1,color:Ka,xOffset:3,yOffset:3,blur:5}}},paletteFactory:({takeColors:e})=>{const{fills:[t],strokes:[n]}=e(1);return{fill:t,stroke:n}}},rn=class extends Yo{constructor(){super(...arguments),this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new Ic,this.marker=new ni,this.label=new Kt,this.tooltip=new Gn,this.connectMissingData=!1}};b([w(q)],rn.prototype,"xKey",2);b([w(q)],rn.prototype,"yKey",2);b([w(q,{optional:!0})],rn.prototype,"xName",2);b([w(q,{optional:!0})],rn.prototype,"yName",2);b([w(q,{optional:!0})],rn.prototype,"stackGroup",2);b([w(X,{optional:!0})],rn.prototype,"normalizedTo",2);b([w(q,{optional:!0})],rn.prototype,"title",2);b([w(ze)],rn.prototype,"stroke",2);b([w(X)],rn.prototype,"strokeWidth",2);b([w(Ge)],rn.prototype,"strokeOpacity",2);b([w(Es)],rn.prototype,"lineDash",2);b([w(X)],rn.prototype,"lineDashOffset",2);b([w(le)],rn.prototype,"interpolation",2);b([w(le)],rn.prototype,"marker",2);b([w(le)],rn.prototype,"label",2);b([w(le)],rn.prototype,"tooltip",2);b([w(me)],rn.prototype,"connectMissingData",2);var Ib=class extends Go{constructor(e){super({moduleCtx:e,directionKeys:ja,directionNames:Wa,hasMarkers:!0,pickModes:[2,3,0],markerSelectionGarbageCollection:!1,animationResetFns:{path:vb({getOpacity:()=>this.getOpacity()}),label:Rs,marker:(t,n)=>({...uh(),...Nd(t,n)})}}),this.properties=new rn}async processData(e){var y,m;if(this.data==null||!this.properties.isValid())return;const{data:t,visible:n,seriesGrouping:{groupIndex:i=this.id,stackCount:r=1}={}}=this,{xKey:s,yKey:o,connectMissingData:a,normalizedTo:l}=this.properties,c=!this.ctx.animationManager.isSkipped(),u=(y=this.axes.x)==null?void 0:y.scale,d=(m=this.axes.y)==null?void 0:m.scale,{isContinuousX:h,xScaleType:p,yScaleType:f}=this.getScaleInformation({xScale:u,yScale:d}),g={invalidValue:null};a&&r>1&&(g.invalidValue=0),n||(g.forceValue=0);const v=[];if(h||v.push(pn(s,p,{id:"xKey"})),v.push(Ke(s,p,{id:"xValue"}),Ke(o,f,{id:"yValueRaw",...g,invalidValue:void 0})),r>1){const x=[`line-stack-${i}-yValues`,`line-stack-${i}-yValues-trailing`,`line-stack-${i}-yValues-marker`];v.push(...nr(o,"window","current",{id:"yValueEnd",...g,groupId:x[0]},f),...nr(o,"window-trailing","current",{id:"yValueStart",...g,groupId:x[1]},f),...nr(o,"normal","current",{id:"yValueCumulative",...g,groupId:x[2]},f)),vd(l)&&v.push(Ld([x[0],x[1],x[2]],l,"range"))}c&&(v.push(Mc(h?["xValue"]:void 0)),this.processedData&&v.push(Ga(this.processedData))),await this.requestDataModel(e,t,{props:v}),this.animationState.transition("updateData")}getSeriesDomain(e){var a;const{processedData:t,dataModel:n,axes:i}=this;if(!t||!n||t.data.length===0)return[];const r=i.x,s=i.y,o=n.resolveProcessedDataDefById(this,"xValue");if(e==="x"){const l=n.getDomain(this,"xValue","value",t);return(o==null?void 0:o.def.type)==="value"&&o.def.valueType==="category"?l:qn(Kr(l),r)}else{const c=(((a=this.seriesGrouping)==null?void 0:a.stackCount)??1)>1?n.getDomain(this,"yValueEnd","value",t):n.getDomain(this,"yValueRaw","value",t);return qn(c,s)}}async createNodeData(){var L,T;const{processedData:e,dataModel:t,axes:n}=this,i=n.x,r=n.y;if(!e||!t||!i||!r)return;const{xKey:s,yKey:o,xName:a,yName:l,marker:c,label:u,connectMissingData:d,legendItemName:h}=this.properties,p=(((L=this.seriesGrouping)==null?void 0:L.stackCount)??1)>1,f=i.scale,g=r.scale,v=(f.bandwidth??0)/2,y=(g.bandwidth??0)/2,m=[],x=c.enabled?c.size:0,S=t.resolveProcessedDataIndexById(this,"xValue"),D=t.resolveProcessedDataIndexById(this,"yValueRaw"),M=p?t.resolveProcessedDataIndexById(this,"yValueCumulative"):D,C=p?t.resolveProcessedDataIndexById(this,"yValueEnd"):void 0;let k=!0;return(T=e.data)==null||T.forEach(({datum:O,values:Y})=>{const E=Y[S],_=Y[D],R=Y[M],z=C!=null?Y[C]:void 0;if(_==null){k||(k=!d);return}const P=f.convert(E)+v;if(isNaN(P)){k||(k=!d);return}const F=g.convert(R)+y,G=this.getLabelText(u,{value:_,datum:O,xKey:s,yKey:o,xName:a,yName:l,legendItemName:h},H=>Pe(H)?H.toFixed(2):String(H));m.push({series:this,datum:O,yKey:o,xKey:s,point:{x:P,y:F,moveTo:k,size:x},midPoint:{x:P,y:F},cumulativeValue:z,yValue:_,xValue:E,capDefaults:{lengthRatioMultiplier:this.properties.marker.getDiameter(),lengthMax:1/0},label:G?{text:G,fontStyle:u.fontStyle,fontWeight:u.fontWeight,fontSize:u.fontSize,fontFamily:u.fontFamily,textAlign:"center",textBaseline:"bottom",fill:u.color}:void 0}),k=!1}),{itemId:o,nodeData:m,labelData:m,scales:this.calculateScaling(),visible:this.visible}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}markerFactory(){const{shape:e}=this.properties.marker,t=jr(e);return new t}async updatePathNodes(e){const{paths:[t],opacity:n,visible:i,animationEnabled:r}=e;t.setProperties({fill:void 0,lineJoin:"round",pointerEvents:1,opacity:n,stroke:this.properties.stroke,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.properties.strokeOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset}),r||(t.visible=i),Bf(this,t)}async updateMarkerSelection(e){let{nodeData:t}=e;const{markerSelection:n}=e,{shape:i,enabled:r}=this.properties.marker;return t=i&&r?t:[],this.properties.marker.isDirty()&&(n.clear(),n.cleanup()),n.update(t,void 0,s=>Co(s.xValue))}async updateMarkerNodes(e){const{markerSelection:t,isHighlight:n}=e,{xKey:i,yKey:r,stroke:s,strokeWidth:o,strokeOpacity:a,marker:l,highlightStyle:c}=this.properties,u=Ie(n&&c.item,l.getStyle(),{stroke:s,strokeWidth:o,strokeOpacity:a}),d=this.ctx.animationManager.isSkipped();t.each((h,p)=>{this.updateMarkerStyle(h,l,{datum:p,highlighted:n,xKey:i,yKey:r},u,{applyTranslation:d})}),n||l.markClean()}async updateLabelSelection(e){return e.labelSelection.update(this.isLabelEnabled()?e.labelData:[])}async updateLabelNodes(e){const{enabled:t,fontStyle:n,fontWeight:i,fontSize:r,fontFamily:s,color:o}=this.properties.label;e.labelSelection.each((a,l)=>{const{point:c,label:u}=l;l&&u&&t?(a.fontStyle=n,a.fontWeight=i,a.fontSize=r,a.fontFamily=s,a.textAlign=u.textAlign,a.textBaseline=u.textBaseline,a.text=u.text,a.x=c.x,a.y=c.y-10,a.fill=o,a.visible=!0):a.visible=!1})}getTooltipHtml(e){const t=this.axes.x,n=this.axes.y;if(!this.properties.isValid()||!t||!n)return Ts;const{xKey:i,yKey:r,xName:s,yName:o,strokeWidth:a,marker:l,tooltip:c}=this.properties,{datum:u,xValue:d,yValue:h,itemId:p}=e,f=t.formatDatum(d),g=n.formatDatum(h),v=ht(this.properties.title??o),y=ht(f+": "+g),m=Ie({fill:l.stroke},l.getStyle(),{strokeWidth:a}),{fill:x}=this.getMarkerStyle(l,{datum:e,xKey:i,yKey:r,highlighted:!1},m);return c.toTooltipHtml({title:v,content:y,backgroundColor:x},{datum:u,itemId:p,xKey:i,xName:s,yKey:r,yName:o,title:v,color:x,seriesId:this.id,...this.getModuleTooltipParams()})}getLegendData(e){var h;if(!((h=this.data)!=null&&h.length&&this.properties.isValid()&&e==="category"))return[];const{yKey:t,yName:n,stroke:i,strokeOpacity:r,strokeWidth:s,lineDash:o,title:a,marker:l,visible:c,legendItemName:u}=this.properties,d="rgba(0, 0, 0, 0)";return[{legendType:"category",id:this.id,itemId:t,legendItemName:u,seriesId:this.id,enabled:c,label:{text:u??a??n??t},symbols:[{marker:{shape:l.shape,fill:l.fill??d,stroke:l.stroke??i??d,fillOpacity:l.fillOpacity??1,strokeOpacity:l.strokeOpacity??r??1,strokeWidth:l.strokeWidth??0,enabled:l.enabled},line:{stroke:i??d,strokeOpacity:r,strokeWidth:s,lineDash:o}}]}]}async updatePaths(e){this.updateLinePaths(e.paths,e.contextData)}updateLinePaths(e,t){const{interpolation:n}=this.properties,{nodeData:i}=t,[r]=e;r.path.clear(!0);for(const s of zf(i))mo(Yf(i,s),r,n);r.checkPathDirty()}animateEmptyUpdateReady(e){const{markerSelection:t,labelSelection:n,annotationSelections:i,contextData:r,paths:s}=e,{animationManager:o}=this.ctx;this.updateLinePaths(s,r),yb(this,o,...s),zt([t],Nd),fb(this,o,t),Fe(this,"labels",o,n),Fe(this,"annotations",o,...i)}animateReadyResize(e){const{contextData:t,paths:n}=e;this.updateLinePaths(n,t),super.animateReadyResize(e)}animateWaitingUpdateReady(e){var h,p;const{animationManager:t}=this.ctx,{markerSelection:n,labelSelection:i,annotationSelections:r,contextData:s,paths:o,previousContextData:a}=e,[l]=o;super.resetAllAnimation(e);const c=()=>{this.updateLinePaths(o,s)},u=()=>{t.skipCurrentBatch(),c()};if(s==null||a==null){c(),Id(this,t,"added",n),Hu(this,"path_properties",t,"add",l),Fe(this,"labels",t,i),Fe(this,"annotations",t,...r);return}const d=dI(s,a,(p=(h=this.processedData)==null?void 0:h.reduced)==null?void 0:p.diff,this.properties.interpolation);if(d===void 0){u();return}else if(d.status==="no-op")return;Id(this,t,void 0,n),Et(this.id,"path_properties",t,[l],d.pathProperties),nI(this.id,"path_update",t,[l],d.path),d.hasMotion&&(Fe(this,"labels",t,i),Fe(this,"annotations",t,...r))}isLabelEnabled(){return this.properties.label.enabled}getBandScalePadding(){return{inner:1,outer:.1}}nodeFactory(){return new ge}getFormattedMarkerStyle(e){const{xKey:t,yKey:n}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:e,xKey:t,yKey:n,highlighted:!0})}computeFocusBounds(e){return dh(this,e)}};Ib.className="LineSeries";Ib.type="line";var dG={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"line",instanceConstructor:Ib,stackable:!0,tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{tooltip:{position:{type:"node"}},strokeWidth:2,strokeOpacity:1,lineDash:[0],lineDashOffset:0,interpolation:{type:"linear",tension:1,position:"end"},marker:{shape:"circle",size:7,strokeWidth:0},label:{enabled:!1,fontSize:12,fontFamily:Lt,color:Zt}}},enterpriseThemeTemplate:{series:{errorBar:{cap:{lengthRatio:1}}}},paletteFactory:e=>{const{marker:t}=Gg(e);return{stroke:t.fill,marker:t}}},DI=class extends Kt{constructor(){super(...arguments),this.placement="top"}};b([w(kx)],DI.prototype,"placement",2);var Nt=class extends Yo{constructor(){super(...arguments),this.colorRange=["#ffff00","#00ff00","#0000ff"],this.label=new DI,this.tooltip=new Gn,this.marker=new ni}};b([w(q)],Nt.prototype,"xKey",2);b([w(q)],Nt.prototype,"yKey",2);b([w(q,{optional:!0})],Nt.prototype,"labelKey",2);b([w(q,{optional:!0})],Nt.prototype,"colorKey",2);b([w(q,{optional:!0})],Nt.prototype,"xName",2);b([w(q,{optional:!0})],Nt.prototype,"yName",2);b([w(q,{optional:!0})],Nt.prototype,"labelName",2);b([w(q,{optional:!0})],Nt.prototype,"colorName",2);b([w(kg,{optional:!0})],Nt.prototype,"colorDomain",2);b([w(Wi)],Nt.prototype,"colorRange",2);b([w(q,{optional:!0})],Nt.prototype,"title",2);b([$t("marker.shape")],Nt.prototype,"shape",2);b([$t("marker.size")],Nt.prototype,"size",2);b([$t("marker.fill")],Nt.prototype,"fill",2);b([$t("marker.fillOpacity")],Nt.prototype,"fillOpacity",2);b([$t("marker.stroke")],Nt.prototype,"stroke",2);b([$t("marker.strokeWidth")],Nt.prototype,"strokeWidth",2);b([$t("marker.strokeOpacity")],Nt.prototype,"strokeOpacity",2);b([$t("marker.itemStyler",{optional:!0})],Nt.prototype,"itemStyler",2);b([w(le)],Nt.prototype,"label",2);b([w(le)],Nt.prototype,"tooltip",2);var Nb=class extends Go{constructor(e){super({moduleCtx:e,directionKeys:ja,directionNames:Wa,pickModes:[2,3,0],pathsPerSeries:0,hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{marker:uh,label:Rs}}),this.properties=new Nt,this.colorScale=new $a}async processData(e){var f,g;if(!this.properties.isValid()||this.data==null||!this.visible)return;const t=(f=this.axes.x)==null?void 0:f.scale,n=(g=this.axes.y)==null?void 0:g.scale,{xScaleType:i,yScaleType:r}=this.getScaleInformation({xScale:t,yScale:n}),s=this.colorScale.type,{xKey:o,yKey:a,labelKey:l,colorKey:c,colorDomain:u,colorRange:d}=this.properties,{dataModel:h,processedData:p}=await this.requestDataModel(e,this.data,{props:[pn(o,i,{id:"xKey-raw"}),pn(a,r,{id:"yKey-raw"}),...l?[pn(l,"band",{id:"labelKey-raw"})]:[],Ke(o,i,{id:"xValue"}),Ke(a,r,{id:"yValue"}),...c?[Ke(c,s,{id:"colorValue"})]:[],...l?[Ke(l,"band",{id:"labelValue"})]:[]]});if(c){const v=h.resolveProcessedDataIndexById(this,"colorValue");this.colorScale.domain=u??p.domain.values[v]??[],this.colorScale.range=d,this.colorScale.update()}this.animationState.transition("updateData")}getSeriesDomain(e){const{dataModel:t,processedData:n}=this;if(!n||!t)return[];const i=e==="x"?"xValue":"yValue",r=t.resolveProcessedDataDefById(this,i),s=t.getDomain(this,i,"value",n);if((r==null?void 0:r.def.type)==="value"&&(r==null?void 0:r.def.valueType)==="category")return s;const o=this.axes[e];return qn(Kr(s),o)}async createNodeData(){const{axes:e,dataModel:t,processedData:n,colorScale:i}=this,{xKey:r,yKey:s,labelKey:o,colorKey:a,xName:l,yName:c,labelName:u,marker:d,label:h,visible:p}=this.properties,{placement:f}=h,g=jr(d.shape),v=e.x,y=e.y;if(!(t&&n&&p&&v&&y))return;const m=t.resolveProcessedDataIndexById(this,"xValue"),x=t.resolveProcessedDataIndexById(this,"yValue"),S=a?t.resolveProcessedDataIndexById(this,"colorValue"):-1,D=o?t.resolveProcessedDataIndexById(this,"labelValue"):-1,M=v.scale,C=y.scale,k=(M.bandwidth??0)/2,L=(C.bandwidth??0)/2,T=[],O=h.getFont();for(const{values:Y,datum:E}of n.data??[]){const _=Y[m],R=Y[x],z=M.convert(_)+k,P=C.convert(R)+L,F=this.getLabelText(h,{value:o?Y[D]:R,datum:E,xKey:r,yKey:s,labelKey:o,xName:l,yName:c,labelName:u}),G=Ye.getTextSize(F,O),H=a?i.convert(Y[S]):void 0;T.push({series:this,itemId:s,yKey:s,xKey:r,datum:E,xValue:_,yValue:R,capDefaults:{lengthRatioMultiplier:d.getDiameter(),lengthMax:1/0},point:{x:z,y:P,size:d.size},midPoint:{x:z,y:P},fill:H,label:{text:F,...G},marker:g,placement:f})}return{itemId:s,nodeData:T,labelData:T,scales:this.calculateScaling(),visible:this.visible}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){var e;return((e=this.contextNodeData)==null?void 0:e.labelData)??[]}markerFactory(){const{shape:e}=this.properties.marker,t=jr(e);return new t}async updateMarkerSelection(e){const{nodeData:t,markerSelection:n}=e;return this.properties.marker.isDirty()&&(n.clear(),n.cleanup()),n.update(this.properties.marker.enabled?t:[])}async updateMarkerNodes(e){const{markerSelection:t,isHighlight:n}=e,{xKey:i,yKey:r,labelKey:s,marker:o,highlightStyle:a}=this.properties,l=Ie(n&&a.item,o.getStyle());t.each((c,u)=>{this.updateMarkerStyle(c,o,{datum:u,highlighted:n,xKey:i,yKey:r,labelKey:s},l)}),n||o.markClean()}async updateLabelSelection(e){var n;const t=this.isLabelEnabled()?((n=this.chart)==null?void 0:n.placeLabels().get(this))??[]:[];return e.labelSelection.update(t.map(({datum:i,x:r,y:s})=>({...i,point:{x:r,y:s,size:i.point.size},placement:"top"})),i=>{i.pointerEvents=1})}async updateLabelNodes(e){const{label:t}=this.properties;e.labelSelection.each((n,i)=>{var r,s;n.text=i.label.text,n.fill=t.color,n.x=((r=i.point)==null?void 0:r.x)??0,n.y=((s=i.point)==null?void 0:s.y)??0,n.fontStyle=t.fontStyle,n.fontWeight=t.fontWeight,n.fontSize=t.fontSize,n.fontFamily=t.fontFamily,n.textAlign="left",n.textBaseline="top"})}getTooltipHtml(e){const t=this.axes.x,n=this.axes.y;if(!this.properties.isValid()||!t||!n)return Ts;const{xKey:i,yKey:r,labelKey:s,xName:o,yName:a,labelName:l,title:c=a,marker:u,tooltip:d}=this.properties,{datum:h,xValue:p,yValue:f,label:g,itemId:v}=e,y=Ie({fill:e.fill,strokeWidth:this.getStrokeWidth(u.strokeWidth)},u.getStyle()),{fill:m="gray"}=this.getMarkerStyle(u,{datum:e,highlighted:!1,xKey:i,yKey:r,labelKey:s},y),x=ht(t.formatDatum(p)),S=ht(n.formatDatum(f));let D=`<b>${ht(o??i)}</b>: ${x}<br><b>${ht(a??r)}</b>: ${S}`;return s&&(D=`<b>${ht(l??s)}</b>: ${ht(g.text)}<br>`+D),d.toTooltipHtml({title:c,content:D,backgroundColor:m},{datum:h,itemId:v,xKey:i,xName:o,yKey:r,yName:a,labelKey:s,labelName:l,title:c,color:m,seriesId:this.id,...this.getModuleTooltipParams()})}getLegendData(e){var d;const{yKey:t,yName:n,title:i,marker:r,visible:s}=this.properties,{fill:o,stroke:a,fillOpacity:l,strokeOpacity:c,strokeWidth:u}=r;return!((d=this.data)!=null&&d.length)||!this.properties.isValid()||e!=="category"?[]:[{legendType:"category",id:this.id,itemId:t,seriesId:this.id,enabled:s,label:{text:i??n??t},symbols:[{marker:{shape:r.shape,fill:r.fill??o??"rgba(0, 0, 0, 0)",stroke:r.stroke??a??"rgba(0, 0, 0, 0)",fillOpacity:l??1,strokeOpacity:c??1,strokeWidth:u??0}}]}]}animateEmptyUpdateReady(e){const{markerSelection:t,labelSelection:n,annotationSelections:i}=e;pb(this,this.ctx.animationManager,t),Fe(this,"labels",this.ctx.animationManager,n),Fe(this,"annotations",this.ctx.animationManager,...i)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new ge}getFormattedMarkerStyle(e){const{xKey:t,yKey:n,labelKey:i}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:e,xKey:t,yKey:n,labelKey:i,highlighted:!0})}computeFocusBounds(e){return dh(this,e)}};Nb.className="ScatterSeries";Nb.type="scatter";var hG={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"scatter",instanceConstructor:Nb,tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{shape:"circle",size:7,fillOpacity:.8,tooltip:{position:{type:"node"}},label:{enabled:!1,fontSize:12,fontFamily:Lt,color:Zt}}},enterpriseThemeTemplate:{series:{errorBar:{cap:{lengthRatio:1}}}},paletteFactory:Tc},kI=class zv{constructor(t,n,i,r){this.startAngle=t,this.endAngle=n,this.innerRadius=i,this.outerRadius=r}clone(){const{startAngle:t,endAngle:n,innerRadius:i,outerRadius:r}=this;return new zv(t,n,i,r)}[gg](t,n){return new zv(this.startAngle*(1-n)+t.startAngle*n,this.endAngle*(1-n)+t.endAngle*n,this.innerRadius*(1-n)+t.innerRadius*n,this.outerRadius*(1-n)+t.outerRadius*n)}};function Rb({startAngle:e,endAngle:t,innerRadius:n,outerRadius:i}){let r=1/0,s=1/0,o=-1/0,a=-1/0;const l=(c,u)=>{r=Math.min(c,r),s=Math.min(u,s),o=Math.max(c,o),a=Math.max(u,a)};return l(n*Math.cos(e),n*Math.sin(e)),l(n*Math.cos(t),n*Math.sin(t)),l(i*Math.cos(e),i*Math.sin(e)),l(i*Math.cos(t),i*Math.sin(t)),qs(0,e,t)&&l(i,0),qs(Math.PI*.5,e,t)&&l(0,i),qs(Math.PI,e,t)&&l(-i,0),qs(Math.PI*1.5,e,t)&&l(0,-i),new re(r,s,o-r,a-s)}function jf(e,t,n){const i=Math.sqrt(Math.pow(e,2)+Math.pow(t,2)),{innerRadius:r,outerRadius:s}=n;if(n.startAngle===n.endAngle||i<Math.min(r,s)||i>Math.max(r,s))return!1;const o=Md(n.startAngle),a=Md(n.endAngle),l=Math.atan2(t,e);return o<a?l<=a&&l>=o:l<=a&&l>=-Math.PI||l>=o&&l<=Math.PI}function gD(e,t){const{startAngle:n,endAngle:i,innerRadius:r,outerRadius:s}=t,o={x:s*Math.cos(n),y:s*Math.sin(n)},a={x:s*Math.cos(i),y:s*Math.sin(i)},l=r===0?{x:0,y:0}:{x:r*Math.cos(n),y:r*Math.sin(n)},c=r===0?{x:0,y:0}:{x:r*Math.cos(i),y:r*Math.sin(i)};return Ml(e.start.x,e.start.y,e.end.x,e.end.y,o.x,o.y,l.x,l.y)||Ml(e.start.x,e.start.y,e.end.x,e.end.y,a.x,a.y,c.x,c.y)||BE(0,0,s,n,i,!0,e.start.x,e.start.y,e.end.x,e.end.y)}function CI(e,t){const n={x:e.x,y:e.y},i={x:e.x+e.width,y:e.y},r={x:e.x,y:e.y+e.height},s={x:e.x+e.width,y:e.y+e.height};return gD({start:n,end:i},t)||gD({start:r,end:s},t)}function mD(e,t,n,i){if(n===0&&i===0)return 0;if(Math.asin(Math.abs(1*n)/(e+1*n))+Math.asin(Math.abs(1*i)/(e+1*i))-t<0)return 1;let s=0,o=1;for(let a=0;a<8;a+=1){const l=(s+o)/2;Math.asin(Math.abs(l*n)/(e+l*n))+Math.asin(Math.abs(l*i)/(e+l*i))-t<0?s=l:o=l}return s}var pG=1e-6;function yo(e,t){return Ng(e,t)<pG?t:pt(e-t)+t}function ep(e,t,n=0){const r=Math.abs(t-e)>=2*Math.PI?2*Math.PI:pt(t-e);return e=yo(e,n),t=e+r,{startAngle:e,endAngle:t}}function tp(e,t,n,i,r,s){const o=Math.sin(s),a=Math.cos(s),l=e**2+t**2-n**2;let c=NaN,u=NaN,d=NaN,h=NaN;if(a>.5){const x=o/a,S=1+x**2,D=-2*(e+t*x),M=D**2-4*S*l;if(M<0)return;const C=(-D+Math.sqrt(M))/(2*S),k=(-D-Math.sqrt(M))/(2*S);c=C,u=C*x,d=k,h=k*x}else{const x=a/o,S=1+x**2,D=-2*(t+e*x),M=D**2-4*S*l;if(M<0)return;const C=(-D+Math.sqrt(M))/(2*S),k=(-D-Math.sqrt(M))/(2*S);c=C*x,u=C,d=k*x,h=k}const p=a,f=o,g=c*p+u*f,v=d*p+h*f,y=g>0?yo(Math.atan2(u-t,c-e),i):NaN,m=v>0?yo(Math.atan2(h-t,d-e),i):NaN;if(y>=i&&y<=r)return y;if(m>=i&&m<=r)return m}function np(e,t,n,i,r,s){const o=Math.hypot(e,t),a=(o**2-n**2+s**2)/(2*o),l=o-a,c=Math.atan2(t,e),u=Math.acos(-l/n),d=yo(c+u,i),h=yo(c-u,i);if(d>=i&&d<=r)return d;if(h>=i&&h<=r)return h}var Xm=class{constructor(e,t,n,i,r){this.cx=e,this.cy=t,this.r=n,this.a0=i,this.a1=r,this.a0>=this.a1&&(this.a0=NaN,this.a1=NaN)}isValid(){return Number.isFinite(this.a0)&&Number.isFinite(this.a1)}pointAt(e){return{x:this.cx+this.r*Math.cos(e),y:this.cy+this.r*Math.sin(e)}}clipStart(e){e==null||!this.isValid()||e<this.a0||(this.a0=e,(Number.isNaN(e)||this.a0>=this.a1)&&(this.a0=NaN,this.a1=NaN))}clipEnd(e){e==null||!this.isValid()||e>this.a1||(this.a1=e,(Number.isNaN(e)||this.a0>=this.a1)&&(this.a0=NaN,this.a1=NaN))}},mn=class extends zn{constructor(){super(...arguments),this.centerX=0,this.centerY=0,this.innerRadius=10,this.outerRadius=20,this.startAngle=0,this.endAngle=Math.PI*2,this.clipSector=void 0,this.concentricEdgeInset=0,this.radialEdgeInset=0,this.startOuterCornerRadius=0,this.endOuterCornerRadius=0,this.startInnerCornerRadius=0,this.endInnerCornerRadius=0}set inset(e){this.concentricEdgeInset=e,this.radialEdgeInset=e}set cornerRadius(e){this.startOuterCornerRadius=e,this.endOuterCornerRadius=e,this.startInnerCornerRadius=e,this.endInnerCornerRadius=e}computeBBox(){return Rb(this).translate(this.centerX,this.centerY)}normalizedRadii(){const{concentricEdgeInset:e}=this;return{innerRadius:Math.max(Math.min(this.innerRadius,this.outerRadius)+e,0),outerRadius:Math.max(Math.max(this.innerRadius,this.outerRadius)-e,0)}}normalizedClipSector(){const{clipSector:e}=this;if(e==null)return;const{startAngle:t,endAngle:n}=ep(this.startAngle,this.endAngle),{innerRadius:i,outerRadius:r}=this.normalizedRadii(),s=ep(e.startAngle,e.endAngle,t);return new kI(Math.max(t,s.startAngle),Math.min(n,s.endAngle),Math.max(i,e.innerRadius),Math.min(r,e.outerRadius))}getAngleOffset(e){return e>0?this.radialEdgeInset/e:0}arc(e,t,n,i,r,s,o,a){if(e<=0)return;const{startAngle:l,endAngle:c}=ep(this.startAngle,this.endAngle),{innerRadius:u,outerRadius:d}=this.normalizedRadii(),h=this.normalizedClipSector();if(a&&u<=0)return;const p=this.getAngleOffset(u),f=this.getAngleOffset(d),g=a?this.getAngleOffset(u+e):this.getAngleOffset(d-e),v=o?l+g+t:c-g-t,y=a?u+e:d-e,m=y*Math.cos(v),x=y*Math.sin(v);if(h!=null&&(!o&&!(v>=l-1e-6&&v<=h.endAngle-1e-6)||o&&!(v>=h.startAngle+1e-6&&v<=c-1e-6)||a&&!(y>=h.innerRadius-1e-6)||!a&&!(y<=h.outerRadius+1e-6)))return;const S=new Xm(m,x,e,n,i);if(h!=null){a?(S.clipStart(tp(m,x,e,n,i,h.endAngle-p)),S.clipEnd(tp(m,x,e,n,i,h.startAngle+p))):(S.clipStart(tp(m,x,e,n,i,h.startAngle+f)),S.clipEnd(tp(m,x,e,n,i,h.endAngle-f)));let L,T;if(o?(L=np(m,x,e,n,i,h.innerRadius),T=np(m,x,e,n,i,h.outerRadius)):(L=np(m,x,e,n,i,h.outerRadius),T=np(m,x,e,n,i,h.innerRadius)),S.clipStart(L),S.clipEnd(T),L!=null){const{x:O,y:Y}=S.pointAt(L),E=yo(Math.atan2(Y,O),l);o?s==null||s.clipStart(E):r.clipEnd(E)}if(T!=null){const{x:O,y:Y}=S.pointAt(T),E=yo(Math.atan2(Y,O),l);o?r.clipStart(E):s==null||s.clipEnd(E)}}if(h!=null){const{x:L,y:T}=S.pointAt((S.a0+S.a1)/2);if(!jf(L,T,h))return}const{x:D,y:M}=S.pointAt(o===a?S.a0:S.a1),C=yo(Math.atan2(M,D),l),k=a?s:r;return o?k==null||k.clipStart(C):k==null||k.clipEnd(C),S}updatePath(){const{path:t,centerX:n,centerY:i,concentricEdgeInset:r,radialEdgeInset:s}=this;let{startOuterCornerRadius:o,endOuterCornerRadius:a,startInnerCornerRadius:l,endInnerCornerRadius:c}=this;const{startAngle:u,endAngle:d}=ep(this.startAngle,this.endAngle),{innerRadius:h,outerRadius:p}=this.normalizedRadii(),f=this.normalizedClipSector(),g=d-u,v=g>=2*Math.PI-1e-6;if(t.clear(),this.innerRadius===0&&this.outerRadius===0||((f==null?void 0:f.startAngle)??u)===((f==null?void 0:f.endAngle)??d))return;if(v&&this.clipSector==null&&o===0&&a===0&&l===0&&c===0){t.moveTo(n+p*Math.cos(u),i+p*Math.sin(u)),t.arc(n,i,p,u,d),h>r&&(t.moveTo(n+h*Math.cos(d),i+h*Math.sin(d)),t.arc(n,i,h,d,u,!0)),t.closePath();return}const y=this.getAngleOffset(h),m=this.getAngleOffset(p);if(g<2*m)return;const S=((f==null?void 0:f.innerRadius)??h)>r,D=h<r||g<2*y,M=p-h,C=Math.max(o,l,a,c),k=C>0?Math.min(M/C,1):1;o*=k,a*=k,l*=k,c*=k;const L=mD(p,g-2*m,-o,-a);if(o*=L,a*=L,!D&&S){const oe=mD(h,g-2*y,l,c);l*=oe,c*=oe}else l=0,c=0;const T=Math.max(o+l,a+c),O=T>0?Math.min(M/T,1):1;o*=O,a*=O,l*=O,c*=O;let Y=0,E=0;const _=o/(p-o),R=a/(p-a);if(_>=0&&_<1-1e-6)Y=Math.asin(_);else{Y=g/2;const oe=p/(1/Math.sin(Y)+1);o=Math.min(oe,o)}if(R>=0&&R<1-1e-6)E=Math.asin(R);else{E=g/2;const oe=p/(1/Math.sin(E)+1);a=Math.min(oe,a)}const z=Math.asin(l/(h+l)),P=Math.asin(c/(h+c)),F=(f==null?void 0:f.outerRadius)??p,G=this.getAngleOffset(F),H=new Xm(0,0,F,u+G,d-G),Z=(f==null?void 0:f.innerRadius)??h,J=this.getAngleOffset(Z),he=S?new Xm(0,0,Z,u+J,d-J):void 0;f!=null&&(H.clipStart(f.startAngle),H.clipEnd(f.endAngle),he==null||he.clipStart(f.startAngle),he==null||he.clipEnd(f.endAngle));const pe=this.arc(o,Y,u-Math.PI*.5,u+Y,H,he,!0,!1),Te=this.arc(a,E,d-E,d+Math.PI*.5,H,he,!1,!1),V=this.arc(c,P,d+Math.PI*.5,d+Math.PI-P,H,he,!1,!0),ue=this.arc(l,z,u+Math.PI+z,u+Math.PI*1.5,H,he,!0,!0);if(D){const oe=g<Math.PI*.5?s*(1+Math.cos(g))/Math.sin(g):NaN;let de;oe>0&&oe<p?de=Math.max(Math.hypot(s,oe),h):de=h;const Se=u+g*.5;t.moveTo(n+de*Math.cos(Se),i+de*Math.sin(Se))}else if(!((ue==null?void 0:ue.isValid())===!0||(he==null?void 0:he.isValid())===!0)){const oe=u+g/2,de=h*Math.cos(oe),Se=h*Math.sin(oe);t.moveTo(n+de,i+Se)}if((pe==null?void 0:pe.isValid())===!0){const{cx:oe,cy:de,r:Se,a0:Oe,a1:ce}=pe;t.arc(n+oe,i+de,Se,Oe,ce)}if(H.isValid()){const{r:oe,a0:de,a1:Se}=H;t.arc(n,i,oe,de,Se)}if((Te==null?void 0:Te.isValid())===!0){const{cx:oe,cy:de,r:Se,a0:Oe,a1:ce}=Te;t.arc(n+oe,i+de,Se,Oe,ce)}if(!D){if((V==null?void 0:V.isValid())===!0){const{cx:oe,cy:de,r:Se,a0:Oe,a1:ce}=V;t.arc(n+oe,i+de,Se,Oe,ce)}if((he==null?void 0:he.isValid())===!0){const{r:oe,a0:de,a1:Se}=he;t.arc(n,i,oe,Se,de,!0)}if((ue==null?void 0:ue.isValid())===!0){const{cx:oe,cy:de,r:Se,a0:Oe,a1:ce}=ue;t.arc(n+oe,i+de,Se,Oe,ce)}}t.closePath()}isPointInPath(e,t){const n=this.transformPoint(e,t),{startAngle:i,endAngle:r,innerRadius:s,outerRadius:o}=this.clipSector??this;return jf(n.x-this.centerX,n.y-this.centerY,{startAngle:i,endAngle:r,innerRadius:Math.min(s,o),outerRadius:Math.max(s,o)})}};mn.className="Sector";b([we()],mn.prototype,"centerX",2);b([we()],mn.prototype,"centerY",2);b([we()],mn.prototype,"innerRadius",2);b([we()],mn.prototype,"outerRadius",2);b([we()],mn.prototype,"startAngle",2);b([we()],mn.prototype,"endAngle",2);b([we()],mn.prototype,"clipSector",2);b([we()],mn.prototype,"concentricEdgeInset",2);b([we()],mn.prototype,"radialEdgeInset",2);b([we()],mn.prototype,"startOuterCornerRadius",2);b([we()],mn.prototype,"endOuterCornerRadius",2);b([we()],mn.prototype,"startInnerCornerRadius",2);b([we()],mn.prototype,"endInnerCornerRadius",2);var ri={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},eo={BLUE:"#2b5c95",ORANGE:"#cc6f10",GREEN:"#1e652e",CYAN:"#18859e",YELLOW:"#a69400",VIOLET:"#603c88",GRAY:"#575757",MAGENTA:"#7d2f6d",BROWN:"#4f3508",RED:"#a82529"},LI=class extends rt{constructor(){super(...arguments),this.showInLegend=!1}};b([w(me)],LI.prototype,"showInLegend",2);var Ab=class extends Kt{constructor(){super(...arguments),this.spacing=2}set(e,t){return super.set(e)}};b([w(q)],Ab.prototype,"text",2);b([w(tt)],Ab.prototype,"spacing",2);var Pb=class extends Ce{constructor(){super(...arguments),this.fill="transparent",this.fillOpacity=1}};b([w(ze)],Pb.prototype,"fill",2);b([w(Ge)],Pb.prototype,"fillOpacity",2);var Nc=class extends Kt{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};b([w(X)],Nc.prototype,"offset",2);b([w(Ao)],Nc.prototype,"minAngle",2);b([w(X)],Nc.prototype,"minSpacing",2);b([w(X)],Nc.prototype,"maxCollisionOffset",2);b([w(me)],Nc.prototype,"avoidCollisions",2);var Ob=class extends Kt{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};b([w(tt)],Ob.prototype,"positionOffset",2);b([w(Ge)],Ob.prototype,"positionRatio",2);var jg=class extends Ce{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};b([w(Wi,{optional:!0})],jg.prototype,"colors",2);b([w(X)],jg.prototype,"length",2);b([w(X)],jg.prototype,"strokeWidth",2);var Re=class extends cr{constructor(){super(...arguments),this.fills=Object.values(ri),this.strokes=Object.values(eo),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=0,this.innerLabels=new wg(Ab),this.title=new LI,this.innerCircle=new Pb,this.shadow=new ur,this.calloutLabel=new Nc,this.sectorLabel=new Ob,this.calloutLine=new jg,this.tooltip=new Gn}isValid(){const e=super.isValid();return this.innerRadiusRatio==null&&this.innerRadiusOffset==null?($.warnOnce("Either an [innerRadiusRatio] or an [innerRadiusOffset] must be set to render a donut series."),!1):e}};b([w(q)],Re.prototype,"angleKey",2);b([w(q,{optional:!0})],Re.prototype,"angleName",2);b([w(q,{optional:!0})],Re.prototype,"radiusKey",2);b([w(q,{optional:!0})],Re.prototype,"radiusName",2);b([w(X,{optional:!0})],Re.prototype,"radiusMin",2);b([w(X,{optional:!0})],Re.prototype,"radiusMax",2);b([w(q,{optional:!0})],Re.prototype,"calloutLabelKey",2);b([w(q,{optional:!0})],Re.prototype,"calloutLabelName",2);b([w(q,{optional:!0})],Re.prototype,"sectorLabelKey",2);b([w(q,{optional:!0})],Re.prototype,"sectorLabelName",2);b([w(q,{optional:!0})],Re.prototype,"legendItemKey",2);b([w(Wi)],Re.prototype,"fills",2);b([w(Wi)],Re.prototype,"strokes",2);b([w(Ge)],Re.prototype,"fillOpacity",2);b([w(Ge)],Re.prototype,"strokeOpacity",2);b([w(Es)],Re.prototype,"lineDash",2);b([w(X)],Re.prototype,"lineDashOffset",2);b([w(X)],Re.prototype,"cornerRadius",2);b([w(Jn,{optional:!0})],Re.prototype,"itemStyler",2);b([w(Ao)],Re.prototype,"rotation",2);b([w(tt)],Re.prototype,"outerRadiusOffset",2);b([w(Ge)],Re.prototype,"outerRadiusRatio",2);b([w(tt,{optional:!0})],Re.prototype,"innerRadiusOffset",2);b([w(Ge,{optional:!0})],Re.prototype,"innerRadiusRatio",2);b([w(X)],Re.prototype,"strokeWidth",2);b([w(tt)],Re.prototype,"sectorSpacing",2);b([w(LL)],Re.prototype,"innerLabels",2);b([w(le)],Re.prototype,"title",2);b([w(le)],Re.prototype,"innerCircle",2);b([w(le)],Re.prototype,"shadow",2);b([w(le)],Re.prototype,"calloutLabel",2);b([w(le)],Re.prototype,"sectorLabel",2);b([w(le)],Re.prototype,"calloutLine",2);b([w(le)],Re.prototype,"tooltip",2);function wa(e,t,n,i){const r=[n.convert(0),n.convert(1)],s=[i.convert(0),i.convert(1)],o=Math.PI/-2+An(t),a=e?"initial":"update",l=({radius:f})=>({innerRadius:r[0],outerRadius:r[0]+(r[1]-r[0])*f}),c=({radius:f})=>({innerRadius:s[0],outerRadius:s[0]+(s[1]-s[0])*f});return{nodes:{toFn:(f,g,v,{prevLive:y})=>{var k,L;let{startAngle:m,endAngle:x,innerRadius:S,outerRadius:D}=g;const{stroke:M,fill:C}=g.sectorFormat;if(v==="removed"&&y?(m=(k=y.datum)==null?void 0:k.endAngle,x=(L=y.datum)==null?void 0:L.endAngle):v==="removed"&&!y&&(m=o,x=o),v==="removed"){const T=l(g);S=T.innerRadius,D=T.outerRadius}return{startAngle:m,endAngle:x,outerRadius:D,innerRadius:S,stroke:M,fill:C}},fromFn:(f,g,v,{prevFromProps:y})=>{let{startAngle:m,endAngle:x,innerRadius:S,outerRadius:D}=f,{fill:M,stroke:C}=g.sectorFormat;if(v==="unknown"||v==="added"&&!y?(m=o,x=o,S=g.innerRadius,D=g.outerRadius):v==="added"&&y&&(m=y.endAngle??o,x=y.endAngle??o,S=y.innerRadius??g.innerRadius,D=y.outerRadius??g.outerRadius),v==="added"&&!e){const k=c(g);S=k.innerRadius,D=k.outerRadius}return v==="updated"&&(M=f.fill??M,C=f.stroke??C),{startAngle:m,endAngle:x,innerRadius:S,outerRadius:D,fill:M,stroke:C,phase:a}}},innerCircle:{fromFn:(f,g)=>{var v;return{size:((v=f.previousDatum)==null?void 0:v.radius)??f.size??0,phase:a}},toFn:(f,g)=>({size:g.radius??0})}}}function _b(e,t){return{startAngle:t.startAngle,endAngle:t.endAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,fill:t.sectorFormat.fill,stroke:t.sectorFormat.stroke}}function Fb(e,t){const n=t.y-e.centerY,i=t.x-e.centerX,r=Math.atan2(n,i),s=e.getItemNodes();for(const o of s)if(o.datum.missing!==!0&&qs(r,o.startAngle,o.endAngle)){const a=Math.sqrt(i*i+n*n);let l=0;return a<o.innerRadius?l=o.innerRadius-a:a>o.outerRadius&&(l=a-o.outerRadius),{datum:o.datum,distance:l}}}function fG(e,t){const n=e.getNodeData();if(n!==void 0)return EI(n[t.datumIndex],e.centerX,e.centerY)}function EI(e,t,n){return Rb(e).translate(t,n)}var Wg=class extends nb{constructor({useLabelLayer:e=!1,pickModes:t=[3,0],canHaveAxes:n=!1,animationResetFns:i,...r}){super({...r,useLabelLayer:e,pickModes:t,contentGroupVirtual:!1,directionKeys:{x:["angleKey"],y:["radiusKey"]},directionNames:{x:["angleName"],y:["radiusName"]},canHaveAxes:n}),this.itemGroup=this.contentGroup.appendChild(new ge),this.nodeData=[],this.itemSelection=Tt.select(this.itemGroup,()=>this.nodeFactory(),!1),this.labelSelection=Tt.select(this.labelGroup,()=>this.labelFactory(),!1),this.highlightSelection=Tt.select(this.highlightGroup,()=>this.nodeFactory()),this.highlightLabelSelection=Tt.select(this.highlightLabel,()=>this.labelFactory()),this.centerX=0,this.centerY=0,this.radius=0,this.itemGroup.zIndexSubOrder=[()=>this._declarationOrder,1],this.animationResetFns=i,this.animationState=new th("empty",{empty:{update:{target:"ready",action:s=>this.animateEmptyUpdateReady(s)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:s=>this.animateReadyHighlight(s),highlightMarkers:s=>this.animateReadyHighlightMarkers(s),resize:s=>this.animateReadyResize(s),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:s=>this.animateWaitingUpdateReady(s)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:s=>this.animateClearingUpdateEmpty(s)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}getItemNodes(){return this.itemGroup.children}getNodeData(){return this.nodeData}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"&&this.animationState.transition("skip")}labelFactory(){const e=new Ye;return e.pointerEvents=1,e}getInnerRadius(){return 0}getLabelData(){return[]}computeLabelsBBox(e,t){return null}resetAllAnimation(){const{item:e,label:t}=this.animationResetFns??{};this.ctx.animationManager.stopByAnimationGroupId(this.id),e&&zt([this.itemSelection,this.highlightSelection],e),t&&zt([this.labelSelection,this.highlightLabelSelection],t),this.itemSelection.cleanup(),this.labelSelection.cleanup(),this.highlightSelection.cleanup(),this.highlightLabelSelection.cleanup()}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateReadyHighlight(e){const{item:t,label:n}=this.animationResetFns??{};t&&zt([this.highlightSelection],t),n&&zt([this.highlightLabelSelection],n)}animateReadyHighlightMarkers(e){}animateReadyResize(e){this.resetAllAnimation()}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animationTransitionClear(){this.animationState.transition("clear",this.getAnimationData())}getAnimationData(e){return{seriesRect:e}}computeFocusBounds(e){var n;const t=(n=this.getNodeData())==null?void 0:n[e.datumIndex];if(t!==void 0)return this.itemSelection.select(i=>i instanceof zn&&i.datum===t)[0]}},gG=class extends oh{constructor(e,t,n,i){super(e,t,n,i),this.angleKey=i.properties.angleKey,this.radiusKey=i.properties.radiusKey,this.calloutLabelKey=i.properties.calloutLabelKey,this.sectorLabelKey=i.properties.sectorLabelKey}},Bb=class extends Wg{constructor(e){super({moduleCtx:e,pickModes:[3,0],useLabelLayer:!0,animationResetFns:{item:_b,label:Rs}}),this.properties=new Re,this.previousRadiusScale=new Fr,this.radiusScale=new Fr,this.calloutLabelGroup=this.contentGroup.appendChild(new ge({name:"pieCalloutLabels"})),this.calloutLabelSelection=new Tt(this.calloutLabelGroup,ge),this.backgroundGroup=this.rootGroup.appendChild(new ge({name:`${this.id}-background`,layer:!0,zIndex:0})),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new ge({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new fo),this.zerosumInnerRing=this.zerosumRingsGroup.appendChild(new fo),this.innerLabelsGroup=this.contentGroup.appendChild(new ge({name:"innerLabels"})),this.innerCircleGroup=this.backgroundGroup.appendChild(new ge({name:`${this.id}-innerCircle`})),this.innerLabelsSelection=Tt.select(this.innerLabelsGroup,Ye),this.innerCircleSelection=Tt.select(this.innerCircleGroup,fo),this.seriesItemEnabled=[],this.surroundingRadius=void 0,this.NodeEvent=gG,this.angleScale=new Fr,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map(t=>t+Math.PI/2)}addChartEventListeners(){var e;this.destroyFns.push((e=this.ctx.chartEventManager)==null?void 0:e.addListener("legend-item-click",t=>this.onLegendItemClick(t)))}get visible(){return super.visible&&(this.seriesItemEnabled.length===0||this.seriesItemEnabled.some(e=>e))}nodeFactory(){return new mn}getSeriesDomain(e){return e==="x"?this.angleScale.domain:this.radiusScale.domain}async processData(e){var f,g;if(this.data==null||!this.properties.isValid())return;let{data:t}=this;const{visible:n,seriesItemEnabled:i}=this,{angleKey:r,radiusKey:s,calloutLabelKey:o,sectorLabelKey:a,legendItemKey:l}=this.properties,c=!this.ctx.animationManager.isSkipped(),u=[],d=[];l?u.push(pn(l,"band",{id:"legendItemKey"})):o?u.push(pn(o,"band",{id:"calloutLabelKey"})):a&&u.push(pn(a,"band",{id:"sectorLabelKey"}));const h=this.radiusScale.type,p=this.radiusScale.type;s&&d.push(Kx(s,{id:"radiusValue",min:this.properties.radiusMin??0,max:this.properties.radiusMax}),Ke(s,h,{id:"radiusRaw"}),Ed({id:"radiusValue"},[0,1],1,this.properties.radiusMin??0,this.properties.radiusMax)),o&&d.push(Ke(o,"band",{id:"calloutLabelValue"})),a&&d.push(Ke(a,"band",{id:"sectorLabelValue"})),l&&d.push(Ke(l,"band",{id:"legendItemValue"})),c&&this.processedData&&u.length>0&&d.push(Ga(this.processedData)),d.push(Mc()),t=t.map((v,y)=>n&&i[y]?v:{...v,[r]:0}),await this.requestDataModel(e,t,{props:[...u,$x(r,p,{id:"angleValue",onlyPositive:!0}),Ke(r,p,{id:"angleRaw"}),Ed({id:"angleValue"},[0,1],0,0),...d]});for(const v of((g=(f=this.processedData)==null?void 0:f.defs)==null?void 0:g.values)??[]){const{id:y,missing:m,property:x}=v,S=zx(this,m);y!=="angleRaw"&&S>0&&$.warnOnce(`no value was found for the key '${String(x)}' on ${S} data element${S>1?"s":""}`)}this.animationState.transition("updateData")}async maybeRefreshNodeData(){if(!this.nodeDataRefresh)return;const{nodeData:e=[]}=await this.createNodeData()??{};this.nodeData=e,this.nodeDataRefresh=!1}getProcessedDataIndexes(e){const t=e.resolveProcessedDataIndexById(this,"angleValue"),n=this.properties.radiusKey?e.resolveProcessedDataIndexById(this,"radiusValue"):-1,i=this.properties.calloutLabelKey?e.resolveProcessedDataIndexById(this,"calloutLabelValue"):-1,r=this.properties.sectorLabelKey?e.resolveProcessedDataIndexById(this,"sectorLabelValue"):-1,s=this.properties.legendItemKey?e.resolveProcessedDataIndexById(this,"legendItemValue"):-1;return{angleIdx:t,radiusIdx:n,calloutLabelIdx:i,sectorLabelIdx:r,legendItemIdx:s}}async createNodeData(){const{id:e,processedData:t,dataModel:n,angleScale:i}=this,{rotation:r,innerRadiusRatio:s}=this.properties;if(!this.properties.isValid())return this.zerosumOuterRing.visible=!0,this.zerosumInnerRing.visible=!0,{itemId:e,nodeData:[],labelData:[]};if(!t||!n||t.type!=="ungrouped")return;const{angleIdx:o,radiusIdx:a,calloutLabelIdx:l,sectorLabelIdx:c,legendItemIdx:u}=this.getProcessedDataIndexes(n);let d=0,h=0;const p=t.data.map((f,g)=>{const{datum:v,values:y}=f,m=y[o],x=i.convert(d)+An(r);d=m,h+=m;const S=i.convert(d)+An(r),D=Math.abs(S-x),M=x+D/2,C=y[o+1],k=a>=0?y[a]??1:1,L=a>=0?y[a+1]:void 0,T=u>=0?y[u]:void 0,O=this.getLabels(v,M,D,!0,y[l],y[c],T),Y=this.getSectorFormat(v,g,!1);return{itemId:g,series:this,datum:v,index:g,angleValue:C,midAngle:M,midCos:Math.cos(M),midSin:Math.sin(M),startAngle:x,endAngle:S,sectorFormat:Y,radiusValue:L,radius:k,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(k),0),legendItemValue:T,enabled:this.seriesItemEnabled[g],...O}});return this.zerosumOuterRing.visible=h===0,this.zerosumInnerRing.visible=h===0&&s!=null&&s!==1&&s>0,{itemId:e,nodeData:p,labelData:p}}getLabels(e,t,n,i,r,s,o){const{calloutLabel:a,sectorLabel:l,legendItemKey:c}=this.properties,u=!i||a.enabled?this.properties.calloutLabelKey:void 0,d=!i||l.enabled?this.properties.sectorLabelKey:void 0;if(!u&&!d&&!c)return{};const h={datum:e,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},p={};return u&&n>An(a.minAngle)&&(p.calloutLabel={...this.getTextAlignment(t),text:this.getLabelText(a,{...h,value:r}),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0}),d&&(p.sectorLabel={text:this.getLabelText(l,{...h,value:s})}),c!=null&&o!=null&&(p.legendItem={key:c,text:o}),p}getTextAlignment(e){const t=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],n=Md(e),i=-.75*Math.PI,r=n-i,s=Math.floor(r/(Math.PI/2)),o=vg(s,t.length);return t[o]}getSectorFormat(e,t,n){const{callbackCache:i,highlightManager:r}=this.ctx,{angleKey:s,radiusKey:o,calloutLabelKey:a,sectorLabelKey:l,legendItemKey:c,fills:u,strokes:d,itemStyler:h}=this.properties,p=r.getActiveHighlight(),f=n&&(p==null?void 0:p.series)===this&&t===p.itemId,g=d[t%d.length],{fill:v,fillOpacity:y,stroke:m,strokeWidth:x,strokeOpacity:S,lineDash:D,lineDashOffset:M,cornerRadius:C}=Ie(f&&this.properties.highlightStyle.item,{fill:u.length>0?u[t%u.length]:void 0,stroke:g,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()},this.properties);let k;return h&&(k=i.call(h,{datum:e,angleKey:s,radiusKey:o,calloutLabelKey:a,sectorLabelKey:l,legendItemKey:c,fill:v,fillOpacity:y,stroke:m,strokeWidth:x,strokeOpacity:S,lineDash:D,lineDashOffset:M,cornerRadius:C,highlighted:f,seriesId:this.id})),{fill:(k==null?void 0:k.fill)??v,fillOpacity:(k==null?void 0:k.fillOpacity)??y,stroke:(k==null?void 0:k.stroke)??m,strokeWidth:(k==null?void 0:k.strokeWidth)??x,strokeOpacity:(k==null?void 0:k.strokeOpacity)??S,lineDash:(k==null?void 0:k.lineDash)??D,lineDashOffset:(k==null?void 0:k.lineDashOffset)??M,cornerRadius:(k==null?void 0:k.cornerRadius)??C}}getInnerRadius(){const{radius:e}=this,{innerRadiusRatio:t=1,innerRadiusOffset:n=0}=this.properties,i=e*t+n;return i===e||i<0?0:i}getOuterRadius(){const{outerRadiusRatio:e,outerRadiusOffset:t}=this.properties;return Math.max(this.radius*e+t,0)}updateRadiusScale(e){const t=[this.getInnerRadius(),this.getOuterRadius()];this.radiusScale.range=t,e&&(this.previousRadiusScale.range=t),this.nodeData=this.nodeData.map(({radius:n,...i})=>({...i,radius:n,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(n),0)}))}getTitleTranslationY(){var r;const e=Math.max(0,this.radiusScale.range[1]);if(e===0)return NaN;const n=2+(((r=this.properties.title)==null?void 0:r.spacing)??0),i=Math.max(0,-e);return-e-n-i}async update({seriesRect:e}){const{title:t}=this.properties,n={seriesRectWidth:e==null?void 0:e.width,seriesRectHeight:e==null?void 0:e.height},i=pi(this.nodeDataDependencies,n)!=null;if(i&&(this._nodeDataDependencies=n),await this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(i),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),t){const r=this.getTitleTranslationY(),s=t.node.computeBBox();t.node.visible=t.enabled&&isFinite(r)&&!this.bboxIntersectsSurroundingSeries(s,0,r),t.node.translationY=isFinite(r)?r:0}for(const r of[this.zerosumInnerRing,this.zerosumOuterRing])r.fillOpacity=0,r.stroke=this.properties.calloutLabel.color,r.strokeWidth=1,r.strokeOpacity=1;this.updateNodeMidPoint(),await this.updateSelections(),await this.updateNodes(e)}updateTitleNodes(){var n,i;const{oldTitle:e}=this,{title:t}=this.properties;e!==t&&(e&&((n=this.labelGroup)==null||n.removeChild(e.node)),t&&(t.node.textBaseline="bottom",(i=this.labelGroup)==null||i.appendChild(t.node)),this.oldTitle=t)}updateNodeMidPoint(){this.nodeData.forEach(e=>{const t=e.innerRadius+(e.outerRadius-e.innerRadius)/2;e.midPoint={x:e.midCos*Math.max(0,t),y:e.midSin*Math.max(0,t)}})}async updateSelections(){await this.updateGroupSelection(),this.updateInnerCircleSelection()}async updateGroupSelection(){const{itemSelection:e,highlightSelection:t,highlightLabelSelection:n,calloutLabelSelection:i,labelSelection:r,innerLabelsSelection:s}=this,o=this.ctx.highlightManager.getActiveHighlight(),a=(o==null?void 0:o.series)===this?this.nodeData.filter(c=>c.itemId===(o==null?void 0:o.itemId)):[],l=(c,u)=>{let d=this.nodeData;u&&(d=d.map(h=>({...h,sectorFormat:{...h.sectorFormat}}))),c.update(d,void 0,h=>this.getDatumId(h)),this.ctx.animationManager.isSkipped()&&c.cleanup()};l(e,!1),l(t,!0),i.update(this.nodeData,c=>{const u=new Qt;u.tag=0,u.pointerEvents=1,c.appendChild(u);const d=new Ye;d.tag=1,d.pointerEvents=1,c.appendChild(d)}),r.update(this.nodeData),n.update(a),s.update(this.properties.innerLabels,c=>{c.pointerEvents=1})}updateInnerCircleSelection(){const{innerCircle:e}=this.properties;let t=0;const n=this.getInnerRadius();if(n>0){const r=Math.min(n,this.getOuterRadius());t=Math.ceil(r*2+1)}const i=e?[{radius:t}]:[];this.innerCircleSelection.update(i)}async updateNodes(e){const t=this.ctx.highlightManager.getActiveHighlight(),n=this.visible&&this.seriesItemEnabled.indexOf(!0)>=0;this.rootGroup.visible=n,this.backgroundGroup.visible=n,this.contentGroup.visible=n,this.highlightGroup.visible=n&&(t==null?void 0:t.series)===this,this.highlightLabel.visible=n&&(t==null?void 0:t.series)===this,this.labelGroup&&(this.labelGroup.visible=n),this.contentGroup.opacity=this.getOpacity(),this.innerCircleSelection.each((r,{radius:s})=>{var o,a;r.setProperties({fill:(o=this.properties.innerCircle)==null?void 0:o.fill,opacity:(a=this.properties.innerCircle)==null?void 0:a.fillOpacity,size:s})});const i=(r,s,o,a)=>{const l=this.getSectorFormat(s.datum,s.itemId,a);s.sectorFormat.fill=l.fill,s.sectorFormat.stroke=l.stroke;const c=this.ctx.animationManager.isSkipped();c&&(r.startAngle=s.startAngle,r.endAngle=s.endAngle,r.innerRadius=s.innerRadius,r.outerRadius=s.outerRadius),(a||c)&&(r.fill=l.fill,r.stroke=l.stroke),r.strokeWidth=l.strokeWidth,r.fillOpacity=l.fillOpacity,r.strokeOpacity=l.strokeOpacity,r.lineDash=l.lineDash,r.lineDashOffset=l.lineDashOffset,r.cornerRadius=l.cornerRadius,r.fillShadow=this.properties.shadow;const u=Math.max((this.properties.sectorSpacing+(l.stroke!=null?l.strokeWidth:0))/2,0);r.inset=u,r.lineJoin=this.properties.sectorSpacing>=0||u>0?"miter":"round"};this.itemSelection.each((r,s,o)=>i(r,s,o,!1)),this.highlightSelection.each((r,s,o)=>{const a=(t==null?void 0:t.series)===this&&r.datum.itemId===t.itemId;i(r,s,o,!0),r.visible=a}),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(e),this.updateSectorLabelNodes(),this.updateInnerLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")}updateCalloutLineNodes(){const{calloutLine:e}=this.properties,t=e.length,n=e.strokeWidth,i=e.colors??this.properties.strokes,{offset:r}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(0).forEach((s,o)=>{const a=s.datum,{calloutLabel:l,outerRadius:c}=a;if(l!=null&&l.text&&!l.hidden&&c!==0){s.visible=!0,s.strokeWidth=n,s.stroke=i[o%i.length],s.fill=void 0;const u=a.midCos*c,d=a.midSin*c;let h=a.midCos*(c+t),p=a.midSin*(c+t);if((l.collisionTextAlign??l.collisionOffsetY!==0)&&l.box!=null){const g=l.box;let v=h,y=p;h<g.x?v=g.x:h>g.x+g.width&&(v=g.x+g.width),p<g.y?y=g.y:p>g.y+g.height&&(y=g.y+g.height);const m=v-h,x=y-p,S=Math.sqrt(Math.pow(m,2)+Math.pow(x,2)),D=S-r;D>0&&(h=h+m*D/S,p=p+x*D/S)}s.x1=u,s.y1=d,s.x2=h,s.y2=p}else s.visible=!1})}getLabelOverflow(e,t,n){const i=n.x-this.centerX,r=n.x+n.width-this.centerX,s=n.y-this.centerY,o=n.y+n.height-this.centerY,a=1;let l=1;t.x+a<i?l=(t.x+t.width-i)/t.width:t.x+t.width-a>r&&(l=(r-t.x)/t.width);const c=t.y+a<s||t.y+t.height-a>o,u=l===1?e.length:Math.floor(e.length*l)-1,d=this.bboxIntersectsSurroundingSeries(t);return{textLength:u,hasVerticalOverflow:c,hasSurroundingSeriesOverflow:d}}bboxIntersectsSurroundingSeries(e,t=0,n=0){const{surroundingRadius:i}=this;if(i==null)return!1;const r=[{x:e.x+t,y:e.y+n},{x:e.x+e.width+t,y:e.y+n},{x:e.x+e.width+t,y:e.y+e.height+n},{x:e.x+t,y:e.y+e.height+n}],s=i**2;return r.some(o=>o.x**2+o.y**2>s)}computeCalloutLabelCollisionOffsets(){const{radiusScale:e}=this,{calloutLabel:t,calloutLine:n}=this.properties,{offset:i,minSpacing:r}=t,s=e.convert(0),o=m=>!m.calloutLabel||m.outerRadius===0,a=this.nodeData,l=this.nodeData.filter(m=>!o(m));if(l.forEach(m=>{const x=m.calloutLabel;x!=null&&(x.hidden=!1,x.collisionTextAlign=void 0,x.collisionOffsetY=0)}),l.length<=1)return;const c=l.filter(m=>m.midCos<0).sort((m,x)=>m.midSin-x.midSin),u=l.filter(m=>m.midCos>=0).sort((m,x)=>m.midSin-x.midSin),d=l.filter(m=>{var x;return m.midSin<0&&((x=m.calloutLabel)==null?void 0:x.textAlign)==="center"}).sort((m,x)=>m.midCos-x.midCos),h=l.filter(m=>{var x;return m.midSin>=0&&((x=m.calloutLabel)==null?void 0:x.textAlign)==="center"}).sort((m,x)=>m.midCos-x.midCos),p=new Ye,f=m=>{const x=m.calloutLabel;if(x==null)return new re(0,0,0,0);const S=m.outerRadius+n.length+i,D=m.midCos*S,M=m.midSin*S+x.collisionOffsetY;return p.text=x.text,p.x=D,p.y=M,p.setFont(this.properties.calloutLabel),p.setAlign({textAlign:x.collisionTextAlign??x.textAlign,textBaseline:x.textBaseline}),p.computeBBox()},g=(m,x,S)=>{const D=f(m).grow(r/2),M=f(x).grow(r/2);if(D.x<M.x+M.width&&D.x+D.width>M.x&&(S==="to-top"?D.y<M.y+M.height:D.y+D.height>M.y)){const k=S==="to-top"?D.y-M.y-M.height:D.y+D.height-M.y;x.calloutLabel.collisionOffsetY=k}},v=m=>{const x=m.slice().sort((D,M)=>Math.abs(D.midSin)-Math.abs(M.midSin))[0],S=m.indexOf(x);for(let D=S-1;D>=0;D--){const M=m[D+1],C=m[D];g(M,C,"to-top")}for(let D=S+1;D<m.length;D++){const M=m[D-1],C=m[D];g(M,C,"to-bottom")}},y=m=>{const x=l.some(L=>L.calloutLabel.collisionOffsetY!==0),S=m.map(L=>f(L)),D=S.map(L=>L.clone().grow(r/2));let M=!1;for(let L=0;L<D.length&&!M;L++){const T=D[L];for(let O=L+1;O<m.length;O++){const Y=D[O];if(T.collidesBBox(Y)){M=!0;break}}}const C=a.map(L=>{const{startAngle:T,endAngle:O,outerRadius:Y}=L;return{startAngle:T,endAngle:O,innerRadius:s,outerRadius:Y}}),k=S.some(L=>C.some(T=>CI(L,T)));!M&&!x&&!k||m.filter(L=>L.calloutLabel.textAlign==="center").forEach(L=>{const T=L.calloutLabel;L.midCos<0?T.collisionTextAlign="right":L.midCos>0?T.collisionTextAlign="left":T.collisionTextAlign="center"})};v(c),v(u),y(d),y(h)}updateCalloutLabelNodes(e){const{radiusScale:t}=this,{calloutLabel:n,calloutLine:i}=this.properties,r=i.length,{offset:s,color:o}=n,a=new Ye;this.calloutLabelSelection.selectByTag(1).forEach(l=>{const{datum:c}=l,u=c.calloutLabel,d=t.convert(c.radius),h=Math.max(0,d);if(!(u!=null&&u.text)||h===0||u.hidden){l.visible=!1;return}const p=h+r+s,f=c.midCos*p,g=c.midSin*p+u.collisionOffsetY,v={textAlign:u.collisionTextAlign??u.textAlign,textBaseline:u.textBaseline};a.text=u.text,a.x=f,a.y=g,a.setFont(this.properties.calloutLabel),a.setAlign(v);const y=a.computeBBox();let m=u.text,x=!0;if(n.avoidCollisions){const{textLength:S,hasVerticalOverflow:D}=this.getLabelOverflow(u.text,y,e);m=u.text.length===S?u.text:`${u.text.substring(0,S)}…`,x=!D}l.text=m,l.x=f,l.y=g,l.setFont(this.properties.calloutLabel),l.setAlign(v),l.fill=o,l.visible=x})}async computeLabelsBBox(e,t){const{calloutLabel:n,calloutLine:i}=this.properties,r=i.length,{offset:s,maxCollisionOffset:o,minSpacing:a}=n;if(!n.avoidCollisions)return null;await this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();const l=[],c=new Ye;let u;const{title:d}=this.properties;if(d!=null&&d.text&&d.enabled){const h=this.getTitleTranslationY();isFinite(h)&&(c.text=d.text,c.x=0,c.y=h,c.setFont(d),c.setAlign({textBaseline:"bottom",textAlign:"center"}),u=c.computeBBox(),l.push(u))}return this.nodeData.forEach(h=>{const p=h.calloutLabel;if(!p||h.outerRadius===0)return null;const f=h.outerRadius+r+s,g=h.midCos*f,v=h.midSin*f+p.collisionOffsetY;c.text=p.text,c.x=g,c.y=v,c.setFont(this.properties.calloutLabel),c.setAlign({textAlign:p.collisionTextAlign??p.textAlign,textBaseline:p.textBaseline});const y=c.computeBBox();if(p.box=y,Math.abs(p.collisionOffsetY)>o){p.hidden=!0;return}if(u){const m=t.y-this.centerY,x=new re(u.x-a,m,u.width+2*a,u.y+u.height+a-m);if(y.collidesBBox(x)){p.hidden=!0;return}}if(e.hideWhenNecessary){const{textLength:m,hasVerticalOverflow:x,hasSurroundingSeriesOverflow:S}=this.getLabelOverflow(p.text,y,t),D=p.text.length>2&&m<2;if(x||D||S){p.hidden=!0;return}}p.hidden=!1,l.push(y)}),l.length===0?null:re.merge(l)}updateSectorLabelNodes(){const{radiusScale:e}=this,t=e.convert(0),{fontSize:n,fontStyle:i,fontWeight:r,fontFamily:s,positionOffset:o,positionRatio:a,color:l}=this.properties.sectorLabel,c=(u,d)=>{const{sectorLabel:h,outerRadius:p}=d;let f=!1;if(h&&p!==0){const g=t*(1-a)+p*a+o;u.fill=l,u.fontStyle=i,u.fontWeight=r,u.fontSize=n,u.fontFamily=s,u.text=h.text,u.x=d.midCos*g,u.y=d.midSin*g,u.textAlign="center",u.textBaseline="middle";const v=u.computeBBox(),y=[[v.x,v.y],[v.x+v.width,v.y],[v.x+v.width,v.y+v.height],[v.x,v.y+v.height]],{startAngle:m,endAngle:x}=d,S={startAngle:m,endAngle:x,innerRadius:t,outerRadius:p};y.every(([D,M])=>jf(D,M,S))&&(f=!0)}u.visible=f};this.labelSelection.each(c),this.highlightLabelSelection.each(c)}updateInnerLabelNodes(){const e=[],t=[];this.innerLabelsSelection.each((u,d)=>{const{fontStyle:h,fontWeight:p,fontSize:f,fontFamily:g,color:v}=d;u.fontStyle=h,u.fontWeight=p,u.fontSize=f,u.fontFamily=g,u.text=d.text,u.x=0,u.y=0,u.fill=v,u.textAlign="center",u.textBaseline="alphabetic",e.push(u.computeBBox()),t.push(d.spacing)});const n=u=>u===0?0:t[u],i=u=>u===t.length-1?0:t[u],r=e.reduce((u,d,h)=>u+d.height+n(h)+i(h),0),s=Math.max(...e.map(u=>u.width)),o=this.getInnerRadius(),l=Math.sqrt(Math.pow(s/2,2)+Math.pow(r/2,2))<=(o>0?o:this.getOuterRadius()),c=[];for(let u=0,d=-r/2;u<e.length;u++){const p=e[u].height+d+n(u);c.push(p),d=p+i(u)}this.innerLabelsSelection.each((u,d,h)=>{u.y=c[h],u.visible=l})}updateZerosumRings(){this.zerosumOuterRing.size=this.getOuterRadius()*2,this.zerosumInnerRing.size=this.getInnerRadius()*2}getDatumLegendName(e){const{angleKey:t,calloutLabelKey:n,sectorLabelKey:i,legendItemKey:r}=this.properties,{sectorLabel:s,calloutLabel:o,legendItem:a}=e;if(r&&a!==void 0)return a.text;if(n&&n!==t&&(o==null?void 0:o.text)!==void 0)return o.text;if(i&&i!==t&&(s==null?void 0:s.text)!==void 0)return s.text}pickNodeClosestDatum(e){return Fb(this,e)}getTooltipHtml(e){var l;if(!this.properties.isValid())return Ts;const{datum:t,angleValue:n,sectorFormat:{fill:i},itemId:r}=e,s=ht((l=this.properties.title)==null?void 0:l.text),o=Pe(n)?yg(n):String(n),a=this.getDatumLegendName(e);return this.properties.tooltip.toTooltipHtml({title:s??a,content:s&&a?`${a}: ${o}`:o,backgroundColor:i},{datum:t,itemId:r,title:s,color:i,seriesId:this.id,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey})}getLegendData(e){var p,f,g,v,y;const{visible:t,processedData:n,dataModel:i}=this;if(!i||!(n!=null&&n.data.length)||!this.properties.isValid()||e!=="category")return[];const{angleKey:r,calloutLabelKey:s,sectorLabelKey:o,legendItemKey:a}=this.properties;if(!a&&(!s||s===r)&&(!o||o===r))return[];const{calloutLabelIdx:l,sectorLabelIdx:c,legendItemIdx:u}=this.getProcessedDataIndexes(i),d=((p=this.properties.title)==null?void 0:p.showInLegend)&&this.properties.title.text,h=[];for(let m=0;m<n.data.length;m++){const{datum:x,values:S}=n.data[m],D=[];d&&D.push(d);const M=this.getLabels(x,2*Math.PI,2*Math.PI,!1,S[l],S[c],S[u]);if(a&&M.legendItem!==void 0?D.push(M.legendItem.text):s&&s!==r&&((f=M.calloutLabel)==null?void 0:f.text)!==void 0?D.push((g=M.calloutLabel)==null?void 0:g.text):o&&o!==r&&((v=M.sectorLabel)==null?void 0:v.text)!==void 0&&D.push((y=M.sectorLabel)==null?void 0:y.text),D.length===0)continue;const C=this.getSectorFormat(x,m,!1);h.push({legendType:"category",id:this.id,itemId:m,seriesId:this.id,enabled:t&&this.seriesItemEnabled[m],label:{text:D.join(" - ")},symbols:[{marker:{fill:C.fill,stroke:C.stroke,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,strokeWidth:this.properties.strokeWidth}}],legendItemName:a!=null?x[a]:void 0})}return h}onLegendItemClick(e){const{enabled:t,itemId:n,series:i,legendItemName:r}=e;i.id===this.id?this.toggleSeriesItem(n,t):r!=null&&this.toggleOtherSeriesItems(r,t)}toggleSeriesItem(e,t){this.seriesItemEnabled[e]=t,this.nodeData[e]&&(this.nodeData[e].enabled=t),this.nodeDataRefresh=!0}toggleOtherSeriesItems(e,t){var i;if(!this.properties.legendItemKey||!this.dataModel)return;const n=this.dataModel.resolveProcessedDataIndexById(this,"legendItemValue");(i=this.processedData)==null||i.data.forEach(({values:r},s)=>{r[n]===e&&this.toggleSeriesItem(s,t)})}animateEmptyUpdateReady(e){const{animationManager:t}=this.ctx,n=wa(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);Et(this.id,"nodes",t,[this.itemSelection,this.highlightSelection],n.nodes),Et(this.id,"innerCircle",t,[this.innerCircleSelection],n.innerCircle),Fe(this,"callout",t,this.calloutLabelSelection),Fe(this,"sector",t,this.labelSelection),Fe(this,"highlight",t,this.highlightLabelSelection),Fe(this,"inner",t,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){var d,h,p;const{itemSelection:e,highlightSelection:t,processedData:n,radiusScale:i,previousRadiusScale:r}=this,{animationManager:s}=this.ctx,o=(d=n==null?void 0:n.reduced)==null?void 0:d.diff;this.ctx.animationManager.stopByAnimationGroupId(this.id);const a=((o==null?void 0:o.moved.size)??0)===0,l=((n==null?void 0:n.defs.keys.length)??0)>0,c=((p=(h=n==null?void 0:n.reduced)==null?void 0:h.animationValidation)==null?void 0:p.uniqueKeys)??!0;(!a||!l||!c)&&this.ctx.animationManager.skipCurrentBatch();const u=wa(!1,this.properties.rotation,i,r);Et(this.id,"nodes",s,[e,t],u.nodes,(f,g)=>this.getDatumId(g),o),Et(this.id,"innerCircle",s,[this.innerCircleSelection],u.innerCircle),Fe(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),Fe(this,"sector",this.ctx.animationManager,this.labelSelection),Fe(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),Fe(this,"inner",this.ctx.animationManager,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){const{itemSelection:e,highlightSelection:t,radiusScale:n,previousRadiusScale:i}=this,{animationManager:r}=this.ctx,s=wa(!1,this.properties.rotation,n,i);Et(this.id,"nodes",r,[e,t],s.nodes),Et(this.id,"innerCircle",r,[this.innerCircleSelection],s.innerCircle),Qs(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),Qs(this,"sector",this.ctx.animationManager,this.labelSelection),Qs(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),Qs(this,"inner",this.ctx.animationManager,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}getDatumIdFromData(e){var r,s,o;const{calloutLabelKey:t,sectorLabelKey:n,legendItemKey:i}=this.properties;if((o=(s=(r=this.processedData)==null?void 0:r.reduced)==null?void 0:s.animationValidation)!=null&&o.uniqueKeys){if(i)return e[i];if(t)return e[t];if(n)return e[n]}}getDatumId(e){const{index:t}=e,n=this.getDatumIdFromData(e.datum);return n!=null?String(n):`${t}`}onDataChange(){const{data:e,seriesItemEnabled:t}=this;this.seriesItemEnabled=(e==null?void 0:e.map((n,i)=>t[i]??!0))??[]}};Bb.className="DonutSeries";Bb.type="donut";var mG={series:{title:{enabled:!0,fontWeight:"normal",fontSize:14,fontFamily:Lt,color:go,spacing:5},calloutLabel:{enabled:!0,fontSize:12,fontFamily:Lt,color:Zt,offset:3,minAngle:0},sectorLabel:{enabled:!0,fontWeight:"normal",fontSize:12,fontFamily:Lt,color:Va,positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,rotation:0,sectorSpacing:1,shadow:{enabled:!1,color:Ka,xOffset:3,yOffset:3,blur:5},innerLabels:{fontSize:12,fontFamily:Lt,color:Zt,spacing:2}}},yG={series:{title:{enabled:!0,fontWeight:"normal",fontSize:14,fontFamily:Lt,color:go,spacing:5},calloutLabel:{enabled:!0,fontSize:12,fontFamily:Lt,color:Zt,offset:3,minAngle:0},sectorLabel:{enabled:!0,fontWeight:"normal",fontSize:12,fontFamily:Lt,color:Va,positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,rotation:0,sectorSpacing:1,shadow:{enabled:!1,color:Ka,xOffset:3,yOffset:3,blur:5}}},TI=({takeColors:e,colorsCount:t})=>{const{fills:n,strokes:i}=e(t);return{fills:n,strokes:i,calloutLine:{colors:i}}},vG={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"donut",instanceConstructor:Bb,tooltipDefaults:{range:"exact"},themeTemplate:mG,paletteFactory:TI},II=class extends rt{constructor(){super(...arguments),this.showInLegend=!1}};b([w(me)],II.prototype,"showInLegend",2);var Rc=class extends Kt{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};b([w(X)],Rc.prototype,"offset",2);b([w(Ao)],Rc.prototype,"minAngle",2);b([w(X)],Rc.prototype,"minSpacing",2);b([w(X)],Rc.prototype,"maxCollisionOffset",2);b([w(me)],Rc.prototype,"avoidCollisions",2);var zb=class extends Kt{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};b([w(tt)],zb.prototype,"positionOffset",2);b([w(Ge)],zb.prototype,"positionRatio",2);var Hg=class extends Ce{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};b([w(Wi,{optional:!0})],Hg.prototype,"colors",2);b([w(X)],Hg.prototype,"length",2);b([w(X)],Hg.prototype,"strokeWidth",2);var He=class extends cr{constructor(){super(...arguments),this.fills=Object.values(ri),this.strokes=Object.values(eo),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=0,this.title=new II,this.shadow=new ur,this.calloutLabel=new Rc,this.sectorLabel=new zb,this.calloutLine=new Hg,this.tooltip=new Gn}};b([w(q)],He.prototype,"angleKey",2);b([w(q,{optional:!0})],He.prototype,"angleName",2);b([w(q,{optional:!0})],He.prototype,"radiusKey",2);b([w(q,{optional:!0})],He.prototype,"radiusName",2);b([w(X,{optional:!0})],He.prototype,"radiusMin",2);b([w(X,{optional:!0})],He.prototype,"radiusMax",2);b([w(q,{optional:!0})],He.prototype,"calloutLabelKey",2);b([w(q,{optional:!0})],He.prototype,"calloutLabelName",2);b([w(q,{optional:!0})],He.prototype,"sectorLabelKey",2);b([w(q,{optional:!0})],He.prototype,"sectorLabelName",2);b([w(q,{optional:!0})],He.prototype,"legendItemKey",2);b([w(Wi)],He.prototype,"fills",2);b([w(Wi)],He.prototype,"strokes",2);b([w(Ge)],He.prototype,"fillOpacity",2);b([w(Ge)],He.prototype,"strokeOpacity",2);b([w(Es)],He.prototype,"lineDash",2);b([w(X)],He.prototype,"lineDashOffset",2);b([w(X)],He.prototype,"cornerRadius",2);b([w(Jn,{optional:!0})],He.prototype,"itemStyler",2);b([w(Ao)],He.prototype,"rotation",2);b([w(tt)],He.prototype,"outerRadiusOffset",2);b([w(Ge)],He.prototype,"outerRadiusRatio",2);b([w(X)],He.prototype,"strokeWidth",2);b([w(tt)],He.prototype,"sectorSpacing",2);b([w(le)],He.prototype,"title",2);b([w(le)],He.prototype,"shadow",2);b([w(le)],He.prototype,"calloutLabel",2);b([w(le)],He.prototype,"sectorLabel",2);b([w(le)],He.prototype,"calloutLine",2);b([w(le)],He.prototype,"tooltip",2);var xG=class extends oh{constructor(e,t,n,i){super(e,t,n,i),this.angleKey=i.properties.angleKey,this.radiusKey=i.properties.radiusKey,this.calloutLabelKey=i.properties.calloutLabelKey,this.sectorLabelKey=i.properties.sectorLabelKey}},Yb=class extends Wg{constructor(e){super({moduleCtx:e,pickModes:[3,0],useLabelLayer:!0,animationResetFns:{item:_b,label:Rs}}),this.properties=new He,this.previousRadiusScale=new Fr,this.radiusScale=new Fr,this.calloutLabelGroup=this.contentGroup.appendChild(new ge({name:"pieCalloutLabels"})),this.calloutLabelSelection=new Tt(this.calloutLabelGroup,ge),this.backgroundGroup=this.rootGroup.appendChild(new ge({name:`${this.id}-background`,layer:!0,zIndex:0})),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new ge({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new fo),this.seriesItemEnabled=[],this.surroundingRadius=void 0,this.NodeEvent=xG,this.angleScale=new Fr,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map(t=>t+Math.PI/2)}addChartEventListeners(){var e;this.destroyFns.push((e=this.ctx.chartEventManager)==null?void 0:e.addListener("legend-item-click",t=>this.onLegendItemClick(t)))}get visible(){return super.visible&&(this.seriesItemEnabled.length===0||this.seriesItemEnabled.some(e=>e))}nodeFactory(){const e=new mn;return e.miterLimit=1e9,e}getSeriesDomain(e){return e==="x"?this.angleScale.domain:this.radiusScale.domain}async processData(e){var f,g;if(this.data==null||!this.properties.isValid())return;let{data:t}=this;const{visible:n,seriesItemEnabled:i}=this,{angleKey:r,radiusKey:s,calloutLabelKey:o,sectorLabelKey:a,legendItemKey:l}=this.properties,c=!this.ctx.animationManager.isSkipped(),u=[],d=[];l?u.push(pn(l,"band",{id:"legendItemKey"})):o?u.push(pn(o,"band",{id:"calloutLabelKey"})):a&&u.push(pn(a,"band",{id:"sectorLabelKey"}));const h=this.radiusScale.type,p=this.radiusScale.type;s&&d.push(Kx(s,{id:"radiusValue",min:this.properties.radiusMin??0,max:this.properties.radiusMax}),Ke(s,h,{id:"radiusRaw"}),Ed({id:"radiusValue"},[0,1],1,this.properties.radiusMin??0,this.properties.radiusMax)),o&&d.push(Ke(o,"band",{id:"calloutLabelValue"})),a&&d.push(Ke(a,"band",{id:"sectorLabelValue"})),l&&d.push(Ke(l,"band",{id:"legendItemValue"})),c&&this.processedData&&u.length>0&&d.push(Ga(this.processedData)),d.push(Mc()),t=t.map((v,y)=>n&&i[y]?v:{...v,[r]:0}),await this.requestDataModel(e,t,{props:[...u,$x(r,p,{id:"angleValue",onlyPositive:!0}),Ke(r,p,{id:"angleRaw"}),Ed({id:"angleValue"},[0,1],0,0),...d]});for(const v of((g=(f=this.processedData)==null?void 0:f.defs)==null?void 0:g.values)??[]){const{id:y,missing:m,property:x}=v,S=zx(this,m);y!=="angleRaw"&&S>0&&$.warnOnce(`no value was found for the key '${String(x)}' on ${S} data element${S>1?"s":""}`)}this.animationState.transition("updateData")}async maybeRefreshNodeData(){if(!this.nodeDataRefresh)return;const{nodeData:e=[]}=await this.createNodeData()??{};this.nodeData=e,this.nodeDataRefresh=!1}getProcessedDataIndexes(e){const t=e.resolveProcessedDataIndexById(this,"angleValue"),n=this.properties.radiusKey?e.resolveProcessedDataIndexById(this,"radiusValue"):-1,i=this.properties.calloutLabelKey?e.resolveProcessedDataIndexById(this,"calloutLabelValue"):-1,r=this.properties.sectorLabelKey?e.resolveProcessedDataIndexById(this,"sectorLabelValue"):-1,s=this.properties.legendItemKey?e.resolveProcessedDataIndexById(this,"legendItemValue"):-1;return{angleIdx:t,radiusIdx:n,calloutLabelIdx:i,sectorLabelIdx:r,legendItemIdx:s}}async createNodeData(){const{id:e,processedData:t,dataModel:n,angleScale:i}=this,{rotation:r}=this.properties;if(!t||!n||t.type!=="ungrouped")return;const{angleIdx:s,radiusIdx:o,calloutLabelIdx:a,sectorLabelIdx:l,legendItemIdx:c}=this.getProcessedDataIndexes(n);let u=0,d=0;const h=t.data.map((p,f)=>{const{datum:g,values:v}=p,y=v[s],m=i.convert(u)+An(r);u=y,d+=y;const x=i.convert(u)+An(r),S=Math.abs(x-m),D=m+S/2,M=v[s+1],C=o>=0?v[o]??1:1,k=o>=0?v[o+1]:void 0,L=c>=0?v[c]:void 0,T=this.getLabels(g,D,S,!0,v[a],v[l],L),O=this.getSectorFormat(g,f,!1);return{itemId:f,series:this,datum:g,index:f,angleValue:M,midAngle:D,midCos:Math.cos(D),midSin:Math.sin(D),startAngle:m,endAngle:x,sectorFormat:O,radiusValue:k,radius:C,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(C),0),legendItemValue:L,enabled:this.seriesItemEnabled[f],...T}});return this.zerosumOuterRing.visible=d===0,{itemId:e,nodeData:h,labelData:h}}getLabels(e,t,n,i,r,s,o){const{calloutLabel:a,sectorLabel:l,legendItemKey:c}=this.properties,u=!i||a.enabled?this.properties.calloutLabelKey:void 0,d=!i||l.enabled?this.properties.sectorLabelKey:void 0;if(!u&&!d&&!c)return{};const h={datum:e,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},p={};return u&&n>An(a.minAngle)&&(p.calloutLabel={...this.getTextAlignment(t),text:this.getLabelText(a,{...h,value:r}),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0}),d&&(p.sectorLabel={text:this.getLabelText(l,{...h,value:s})}),c!=null&&o!=null&&(p.legendItem={key:c,text:o}),p}getTextAlignment(e){const t=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],n=Md(e),i=-.75*Math.PI,r=n-i,s=Math.floor(r/(Math.PI/2)),o=vg(s,t.length);return t[o]}getSectorFormat(e,t,n){const{callbackCache:i,highlightManager:r}=this.ctx,{angleKey:s,radiusKey:o,calloutLabelKey:a,sectorLabelKey:l,legendItemKey:c,fills:u,strokes:d,itemStyler:h}=this.properties,p=r.getActiveHighlight(),f=n&&(p==null?void 0:p.series)===this&&t===p.itemId,g=d[t%d.length],{fill:v,fillOpacity:y,stroke:m,strokeWidth:x,strokeOpacity:S,lineDash:D,lineDashOffset:M,cornerRadius:C}=Ie(f&&this.properties.highlightStyle.item,{fill:u.length>0?u[t%u.length]:void 0,stroke:g,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()},this.properties);let k;return h&&(k=i.call(h,{datum:e,angleKey:s,radiusKey:o,calloutLabelKey:a,sectorLabelKey:l,legendItemKey:c,fill:v,strokeOpacity:S,stroke:m,strokeWidth:x,fillOpacity:y,lineDash:D,lineDashOffset:M,cornerRadius:C,highlighted:f,seriesId:this.id})),{fill:(k==null?void 0:k.fill)??v,fillOpacity:(k==null?void 0:k.fillOpacity)??y,stroke:(k==null?void 0:k.stroke)??m,strokeWidth:(k==null?void 0:k.strokeWidth)??x,strokeOpacity:(k==null?void 0:k.strokeOpacity)??S,lineDash:(k==null?void 0:k.lineDash)??D,lineDashOffset:(k==null?void 0:k.lineDashOffset)??M,cornerRadius:(k==null?void 0:k.cornerRadius)??C}}getOuterRadius(){return Math.max(this.radius*this.properties.outerRadiusRatio+this.properties.outerRadiusOffset,0)}updateRadiusScale(e){const t=[0,this.getOuterRadius()];this.radiusScale.range=t,e&&(this.previousRadiusScale.range=t),this.nodeData=this.nodeData.map(({radius:n,...i})=>({...i,radius:n,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(n),0)}))}getTitleTranslationY(){var r;const e=Math.max(0,this.radiusScale.range[1]);if(e===0)return NaN;const n=2+(((r=this.properties.title)==null?void 0:r.spacing)??0),i=Math.max(0,-e);return-e-n-i}async update({seriesRect:e}){const{title:t}=this.properties,n={seriesRectWidth:e==null?void 0:e.width,seriesRectHeight:e==null?void 0:e.height},i=pi(this.nodeDataDependencies,n)!=null;if(i&&(this._nodeDataDependencies=n),await this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(i),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),t){const r=this.getTitleTranslationY(),s=t.node.computeBBox();t.node.visible=t.enabled&&isFinite(r)&&!this.bboxIntersectsSurroundingSeries(s,0,r),t.node.translationY=isFinite(r)?r:0}this.zerosumOuterRing.fillOpacity=0,this.zerosumOuterRing.stroke=this.properties.calloutLabel.color,this.zerosumOuterRing.strokeWidth=1,this.zerosumOuterRing.strokeOpacity=1,this.updateNodeMidPoint(),await this.updateSelections(),await this.updateNodes(e)}updateTitleNodes(){var n,i;const{oldTitle:e}=this,{title:t}=this.properties;e!==t&&(e&&((n=this.labelGroup)==null||n.removeChild(e.node)),t&&(t.node.textBaseline="bottom",(i=this.labelGroup)==null||i.appendChild(t.node)),this.oldTitle=t)}updateNodeMidPoint(){this.nodeData.forEach(e=>{const t=e.innerRadius+(e.outerRadius-e.innerRadius)/2;e.midPoint={x:e.midCos*Math.max(0,t),y:e.midSin*Math.max(0,t)}})}async updateSelections(){await this.updateGroupSelection()}async updateGroupSelection(){const{itemSelection:e,highlightSelection:t,highlightLabelSelection:n,calloutLabelSelection:i,labelSelection:r}=this,s=this.ctx.highlightManager.getActiveHighlight(),o=(s==null?void 0:s.series)===this?this.nodeData.filter(l=>l.itemId===(s==null?void 0:s.itemId)):[],a=(l,c)=>{let u=this.nodeData;c&&(u=u.map(d=>({...d,sectorFormat:{...d.sectorFormat}}))),l.update(u,void 0,d=>this.getDatumId(d)),this.ctx.animationManager.isSkipped()&&l.cleanup()};a(e,!1),a(t,!0),i.update(this.nodeData,l=>{const c=new Qt;c.tag=0,c.pointerEvents=1,l.appendChild(c);const u=new Ye;u.tag=1,u.pointerEvents=1,l.appendChild(u)}),r.update(this.nodeData),n.update(o)}async updateNodes(e){const t=this.ctx.highlightManager.getActiveHighlight(),n=this.visible&&this.seriesItemEnabled.indexOf(!0)>=0;this.rootGroup.visible=n,this.backgroundGroup.visible=n,this.contentGroup.visible=n,this.highlightGroup.visible=n&&(t==null?void 0:t.series)===this,this.highlightLabel.visible=n&&(t==null?void 0:t.series)===this,this.labelGroup&&(this.labelGroup.visible=n),this.contentGroup.opacity=this.getOpacity();const i=(r,s,o,a)=>{const l=this.getSectorFormat(s.datum,s.itemId,a);s.sectorFormat.fill=l.fill,s.sectorFormat.stroke=l.stroke;const c=this.ctx.animationManager.isSkipped();c&&(r.startAngle=s.startAngle,r.endAngle=s.endAngle,r.innerRadius=s.innerRadius,r.outerRadius=s.outerRadius),(a||c)&&(r.fill=l.fill,r.stroke=l.stroke),r.strokeWidth=l.strokeWidth,r.fillOpacity=l.fillOpacity,r.strokeOpacity=l.strokeOpacity,r.lineDash=l.lineDash,r.lineDashOffset=l.lineDashOffset,r.cornerRadius=l.cornerRadius,r.fillShadow=this.properties.shadow;const u=Math.max((this.properties.sectorSpacing+(l.stroke!=null?l.strokeWidth:0))/2,0);r.inset=u,r.lineJoin=this.properties.sectorSpacing>=0||u>0?"miter":"round"};this.itemSelection.each((r,s,o)=>i(r,s,o,!1)),this.highlightSelection.each((r,s,o)=>i(r,s,o,!0)),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(e),this.updateSectorLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")}updateCalloutLineNodes(){const{calloutLine:e}=this.properties,t=e.length,n=e.strokeWidth,i=e.colors??this.properties.strokes,{offset:r}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(0).forEach((s,o)=>{const a=s.datum,{calloutLabel:l,outerRadius:c}=a;if(l!=null&&l.text&&!l.hidden&&c!==0){s.visible=!0,s.strokeWidth=n,s.stroke=i[o%i.length],s.fill=void 0;const u=a.midCos*c,d=a.midSin*c;let h=a.midCos*(c+t),p=a.midSin*(c+t);if((l.collisionTextAlign??l.collisionOffsetY!==0)&&l.box!=null){const g=l.box;let v=h,y=p;h<g.x?v=g.x:h>g.x+g.width&&(v=g.x+g.width),p<g.y?y=g.y:p>g.y+g.height&&(y=g.y+g.height);const m=v-h,x=y-p,S=Math.sqrt(Math.pow(m,2)+Math.pow(x,2)),D=S-r;D>0&&(h=h+m*D/S,p=p+x*D/S)}s.x1=u,s.y1=d,s.x2=h,s.y2=p}else s.visible=!1})}getLabelOverflow(e,t,n){const i=n.x-this.centerX,r=n.x+n.width-this.centerX,s=n.y-this.centerY,o=n.y+n.height-this.centerY,a=1;let l=1;t.x+a<i?l=(t.x+t.width-i)/t.width:t.x+t.width-a>r&&(l=(r-t.x)/t.width);const c=t.y+a<s||t.y+t.height-a>o,u=l===1?e.length:Math.floor(e.length*l)-1,d=this.bboxIntersectsSurroundingSeries(t);return{textLength:u,hasVerticalOverflow:c,hasSurroundingSeriesOverflow:d}}bboxIntersectsSurroundingSeries(e,t=0,n=0){const{surroundingRadius:i}=this;if(i==null)return!1;const r=[{x:e.x+t,y:e.y+n},{x:e.x+e.width+t,y:e.y+n},{x:e.x+e.width+t,y:e.y+e.height+n},{x:e.x+t,y:e.y+e.height+n}],s=i**2;return r.some(o=>o.x**2+o.y**2>s)}computeCalloutLabelCollisionOffsets(){const{radiusScale:e}=this,{calloutLabel:t,calloutLine:n}=this.properties,{offset:i,minSpacing:r}=t,s=e.convert(0),o=m=>!m.calloutLabel||m.outerRadius===0,a=this.nodeData,l=this.nodeData.filter(m=>!o(m));if(l.forEach(m=>{const x=m.calloutLabel;x!=null&&(x.hidden=!1,x.collisionTextAlign=void 0,x.collisionOffsetY=0)}),l.length<=1)return;const c=l.filter(m=>m.midCos<0).sort((m,x)=>m.midSin-x.midSin),u=l.filter(m=>m.midCos>=0).sort((m,x)=>m.midSin-x.midSin),d=l.filter(m=>{var x;return m.midSin<0&&((x=m.calloutLabel)==null?void 0:x.textAlign)==="center"}).sort((m,x)=>m.midCos-x.midCos),h=l.filter(m=>{var x;return m.midSin>=0&&((x=m.calloutLabel)==null?void 0:x.textAlign)==="center"}).sort((m,x)=>m.midCos-x.midCos),p=new Ye,f=m=>{const x=m.calloutLabel;if(x==null)return new re(0,0,0,0);const S=m.outerRadius+n.length+i,D=m.midCos*S,M=m.midSin*S+x.collisionOffsetY;return p.text=x.text,p.x=D,p.y=M,p.setFont(this.properties.calloutLabel),p.setAlign({textAlign:x.collisionTextAlign??x.textAlign,textBaseline:x.textBaseline}),p.computeBBox()},g=(m,x,S)=>{const D=f(m).grow(r/2),M=f(x).grow(r/2);if(D.x<M.x+M.width&&D.x+D.width>M.x&&(S==="to-top"?D.y<M.y+M.height:D.y+D.height>M.y)){const k=S==="to-top"?D.y-M.y-M.height:D.y+D.height-M.y;x.calloutLabel.collisionOffsetY=k}},v=m=>{const x=m.slice().sort((D,M)=>Math.abs(D.midSin)-Math.abs(M.midSin))[0],S=m.indexOf(x);for(let D=S-1;D>=0;D--){const M=m[D+1],C=m[D];g(M,C,"to-top")}for(let D=S+1;D<m.length;D++){const M=m[D-1],C=m[D];g(M,C,"to-bottom")}},y=m=>{const x=l.some(L=>L.calloutLabel.collisionOffsetY!==0),S=m.map(L=>f(L)),D=S.map(L=>L.clone().grow(r/2));let M=!1;for(let L=0;L<D.length&&!M;L++){const T=D[L];for(let O=L+1;O<m.length;O++){const Y=D[O];if(T.collidesBBox(Y)){M=!0;break}}}const C=a.map(L=>{const{startAngle:T,endAngle:O,outerRadius:Y}=L;return{startAngle:T,endAngle:O,innerRadius:s,outerRadius:Y}}),k=S.some(L=>C.some(T=>CI(L,T)));!M&&!x&&!k||m.filter(L=>L.calloutLabel.textAlign==="center").forEach(L=>{const T=L.calloutLabel;L.midCos<0?T.collisionTextAlign="right":L.midCos>0?T.collisionTextAlign="left":T.collisionTextAlign="center"})};v(c),v(u),y(d),y(h)}updateCalloutLabelNodes(e){const{radiusScale:t}=this,{calloutLabel:n,calloutLine:i}=this.properties,r=i.length,{offset:s,color:o}=n,a=new Ye;this.calloutLabelSelection.selectByTag(1).forEach(l=>{const{datum:c}=l,u=c.calloutLabel,d=t.convert(c.radius),h=Math.max(0,d);if(!(u!=null&&u.text)||h===0||u.hidden){l.visible=!1;return}const p=h+r+s,f=c.midCos*p,g=c.midSin*p+u.collisionOffsetY,v={textAlign:u.collisionTextAlign??u.textAlign,textBaseline:u.textBaseline};a.text=u.text,a.x=f,a.y=g,a.setFont(this.properties.calloutLabel),a.setAlign(v);const y=a.computeBBox();let m=u.text,x=!0;if(n.avoidCollisions){const{textLength:S,hasVerticalOverflow:D}=this.getLabelOverflow(u.text,y,e);m=u.text.length===S?u.text:`${u.text.substring(0,S)}…`,x=!D}l.text=m,l.x=f,l.y=g,l.setFont(this.properties.calloutLabel),l.setAlign(v),l.fill=o,l.visible=x})}async computeLabelsBBox(e,t){const{calloutLabel:n,calloutLine:i}=this.properties,r=i.length,{offset:s,maxCollisionOffset:o,minSpacing:a}=n;if(!n.avoidCollisions)return null;await this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();const l=[],c=new Ye;let u;const{title:d}=this.properties;if(d!=null&&d.text&&d.enabled){const h=this.getTitleTranslationY();isFinite(h)&&(c.text=d.text,c.x=0,c.y=h,c.setFont(d),c.setAlign({textBaseline:"bottom",textAlign:"center"}),u=c.computeBBox(),l.push(u))}return this.nodeData.forEach(h=>{const p=h.calloutLabel;if(!p||h.outerRadius===0)return null;const f=h.outerRadius+r+s,g=h.midCos*f,v=h.midSin*f+p.collisionOffsetY;c.text=p.text,c.x=g,c.y=v,c.setFont(this.properties.calloutLabel),c.setAlign({textAlign:p.collisionTextAlign??p.textAlign,textBaseline:p.textBaseline});const y=c.computeBBox();if(p.box=y,Math.abs(p.collisionOffsetY)>o){p.hidden=!0;return}if(u){const m=t.y-this.centerY,x=new re(u.x-a,m,u.width+2*a,u.y+u.height+a-m);if(y.collidesBBox(x)){p.hidden=!0;return}}if(e.hideWhenNecessary){const{textLength:m,hasVerticalOverflow:x,hasSurroundingSeriesOverflow:S}=this.getLabelOverflow(p.text,y,t),D=p.text.length>2&&m<2;if(x||D||S){p.hidden=!0;return}}p.hidden=!1,l.push(y)}),l.length===0?null:re.merge(l)}updateSectorLabelNodes(){const{radiusScale:e}=this,t=e.convert(0),{fontSize:n,fontStyle:i,fontWeight:r,fontFamily:s,positionOffset:o,positionRatio:a,color:l}=this.properties.sectorLabel,c=t>0,u=this.seriesItemEnabled.filter(Boolean).length===1,d=(h,p)=>{const{sectorLabel:f,outerRadius:g}=p;let v=!1;if(f&&g!==0){const y=t*(1-a)+g*a+o;h.fill=l,h.fontStyle=i,h.fontWeight=r,h.fontSize=n,h.fontFamily=s,h.text=f.text,!c&&u?(h.x=0,h.y=0):(h.x=p.midCos*y,h.y=p.midSin*y),h.textAlign="center",h.textBaseline="middle";const x=h.computeBBox(),S=[[x.x,x.y],[x.x+x.width,x.y],[x.x+x.width,x.y+x.height],[x.x,x.y+x.height]],{startAngle:D,endAngle:M}=p,C={startAngle:D,endAngle:M,innerRadius:t,outerRadius:g};S.every(([k,L])=>jf(k,L,C))&&(v=!0)}h.visible=v};this.labelSelection.each(d),this.highlightLabelSelection.each(d)}updateZerosumRings(){this.zerosumOuterRing.size=this.getOuterRadius()*2}getDatumLegendName(e){const{angleKey:t,calloutLabelKey:n,sectorLabelKey:i,legendItemKey:r}=this.properties,{sectorLabel:s,calloutLabel:o,legendItem:a}=e;if(r&&a!==void 0)return a.text;if(n&&n!==t&&(o==null?void 0:o.text)!==void 0)return o.text;if(i&&i!==t&&(s==null?void 0:s.text)!==void 0)return s.text}pickNodeClosestDatum(e){return Fb(this,e)}getTooltipHtml(e){var l;if(!this.properties.isValid())return Ts;const{datum:t,angleValue:n,sectorFormat:{fill:i},itemId:r}=e,s=ht((l=this.properties.title)==null?void 0:l.text),o=Pe(n)?yg(n):String(n),a=this.getDatumLegendName(e);return this.properties.tooltip.toTooltipHtml({title:s??a,content:s&&a?`${a}: ${o}`:o,backgroundColor:i},{datum:t,itemId:r,title:s,color:i,seriesId:this.id,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey})}getLegendData(e){var p,f,g,v,y;const{visible:t,processedData:n,dataModel:i}=this;if(!i||!(n!=null&&n.data.length)||e!=="category")return[];const{angleKey:r,calloutLabelKey:s,sectorLabelKey:o,legendItemKey:a}=this.properties;if(!a&&(!s||s===r)&&(!o||o===r))return[];const{calloutLabelIdx:l,sectorLabelIdx:c,legendItemIdx:u}=this.getProcessedDataIndexes(i),d=((p=this.properties.title)==null?void 0:p.showInLegend)&&this.properties.title.text,h=[];for(let m=0;m<n.data.length;m++){const{datum:x,values:S}=n.data[m],D=[];d&&D.push(d);const M=this.getLabels(x,2*Math.PI,2*Math.PI,!1,S[l],S[c],S[u]);if(a&&M.legendItem!==void 0?D.push(M.legendItem.text):s&&s!==r&&((f=M.calloutLabel)==null?void 0:f.text)!==void 0?D.push((g=M.calloutLabel)==null?void 0:g.text):o&&o!==r&&((v=M.sectorLabel)==null?void 0:v.text)!==void 0&&D.push((y=M.sectorLabel)==null?void 0:y.text),D.length===0)continue;const C=this.getSectorFormat(x,m,!1);h.push({legendType:"category",id:this.id,itemId:m,seriesId:this.id,enabled:t&&this.seriesItemEnabled[m],label:{text:D.join(" - ")},symbols:[{marker:{fill:C.fill,stroke:C.stroke,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,strokeWidth:this.properties.strokeWidth}}],legendItemName:a!=null?x[a]:void 0})}return h}onLegendItemClick(e){const{enabled:t,itemId:n,series:i,legendItemName:r}=e;i.id===this.id?this.toggleSeriesItem(n,t):r!=null&&this.toggleOtherSeriesItems(r,t)}toggleSeriesItem(e,t){this.seriesItemEnabled[e]=t,this.nodeData[e]&&(this.nodeData[e].enabled=t),this.nodeDataRefresh=!0}toggleOtherSeriesItems(e,t){var i;if(!this.properties.legendItemKey||!this.dataModel)return;const n=this.dataModel.resolveProcessedDataIndexById(this,"legendItemValue");(i=this.processedData)==null||i.data.forEach(({values:r},s)=>{r[n]===e&&this.toggleSeriesItem(s,t)})}animateEmptyUpdateReady(e){const{animationManager:t}=this.ctx,n=wa(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);Et(this.id,"nodes",t,[this.itemSelection,this.highlightSelection],n.nodes),Fe(this,"callout",t,this.calloutLabelSelection),Fe(this,"sector",t,this.labelSelection),Fe(this,"highlight",t,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){var d,h,p;const{itemSelection:e,highlightSelection:t,processedData:n,radiusScale:i,previousRadiusScale:r}=this,{animationManager:s}=this.ctx,o=(d=n==null?void 0:n.reduced)==null?void 0:d.diff;this.ctx.animationManager.stopByAnimationGroupId(this.id);const a=((o==null?void 0:o.moved.size)??0)===0,l=((n==null?void 0:n.defs.keys.length)??0)>0,c=((p=(h=n==null?void 0:n.reduced)==null?void 0:h.animationValidation)==null?void 0:p.uniqueKeys)??!0;(!a||!l||!c)&&this.ctx.animationManager.skipCurrentBatch();const u=wa(!1,this.properties.rotation,i,r);Et(this.id,"nodes",s,[e,t],u.nodes,(f,g)=>this.getDatumId(g),o),Fe(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),Fe(this,"sector",this.ctx.animationManager,this.labelSelection),Fe(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){const{itemSelection:e,highlightSelection:t,radiusScale:n,previousRadiusScale:i}=this,{animationManager:r}=this.ctx,s=wa(!1,this.properties.rotation,n,i);Et(this.id,"nodes",r,[e,t],s.nodes),Qs(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),Qs(this,"sector",this.ctx.animationManager,this.labelSelection),Qs(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}getDatumIdFromData(e){var r,s,o;const{calloutLabelKey:t,sectorLabelKey:n,legendItemKey:i}=this.properties;if((o=(s=(r=this.processedData)==null?void 0:r.reduced)==null?void 0:s.animationValidation)!=null&&o.uniqueKeys){if(i)return e[i];if(t)return e[t];if(n)return e[n]}}getDatumId(e){const{index:t}=e,n=this.getDatumIdFromData(e.datum);return n!=null?String(n):`${t}`}onDataChange(){const{data:e,seriesItemEnabled:t}=this;this.seriesItemEnabled=(e==null?void 0:e.map((n,i)=>t[i]??!0))??[]}};Yb.className="PieSeries";Yb.type="pie";var bG={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"pie",instanceConstructor:Yb,tooltipDefaults:{range:"exact"},themeTemplate:yG,paletteFactory:TI},cs=class extends Ce{constructor(e,t){super(),this.onChange=e,this.onButtonsChange=t,this.align="start",this.position="top",this.size="normal"}};b([Bn(e=>{e.onChange(e.enabled)}),w(me)],cs.prototype,"enabled",2);b([Bn(e=>{e.onChange(e.enabled)}),w(st([...ZE]),{optional:!0})],cs.prototype,"align",2);b([Bn(e=>{e.onChange(e.enabled)}),w(st(Dl),{optional:!0})],cs.prototype,"position",2);b([Bn(e=>{e.onChange(e.enabled)}),w(st(["small","normal"]),{optional:!0})],cs.prototype,"size",2);b([Bn(e=>{e.onButtonsChange(e.buttons)}),w(gc,{optional:!0})],cs.prototype,"buttons",2);var Zm="ag-charts-toolbar",tu={align:"ag-charts-toolbar__align",section:"ag-charts-toolbar__section",button:"ag-charts-toolbar__button",icon:"ag-charts-toolbar__icon",label:"ag-charts-toolbar__label"},on={top:"ag-charts-toolbar--top",right:"ag-charts-toolbar--right",bottom:"ag-charts-toolbar--bottom",left:"ag-charts-toolbar--left",floating:"ag-charts-toolbar--floating","floating-top":"ag-charts-toolbar--floating-top","floating-bottom":"ag-charts-toolbar--floating-bottom",small:"ag-charts-toolbar--small",normal:"ag-charts-toolbar--normal",hidden:"ag-charts-toolbar--hidden",preventFlash:"ag-charts-toolbar--prevent-flash",floatingHidden:"ag-charts-toolbar--floating-hidden",align:{start:"ag-charts-toolbar__align--start",center:"ag-charts-toolbar__align--center",end:"ag-charts-toolbar__align--end"},button:{active:"ag-charts-toolbar__button--active",hiddenValue:"ag-charts-toolbar__button--hidden-value",hiddenToggled:"ag-charts-toolbar__button--hidden-toggled"}},wG=`.ag-charts-toolbar{align-items:center;background:none;border:none;display:flex;flex-wrap:nowrap;opacity:1;position:absolute;transform:translateY(0);transition:opacity 0.2s ease-in-out,transform 0.2s ease-in-out}.ag-charts-toolbar--hidden,
.ag-charts-toolbar--prevent-flash{visibility:hidden}.ag-charts-toolbar--floating-hidden{opacity:0;transition:opacity 0.4s ease-in-out}.ag-charts-toolbar--small{--ag-charts-toolbar-size:var(--ag-charts-toolbar-size-small);--ag-charts-toolbar-font-size:var(--ag-charts-toolbar-font-size-small);--ag-charts-toolbar-button-padding:var(--ag-charts-toolbar-button-padding-small)}.ag-charts-toolbar--top,
.ag-charts-toolbar--bottom{flex-direction:row;width:100%}.ag-charts-toolbar--left,
.ag-charts-toolbar--right{flex-direction:column}.ag-charts-toolbar--floating,
.ag-charts-toolbar--floating-top,
.ag-charts-toolbar--floating-bottom{background:none;border:none;flex-direction:row;overflow:hidden;pointer-events:none;width:100%}.ag-charts-toolbar--floating{padding:0;width:auto;z-index:var(--ag-charts-layer-toolbar)}.ag-charts-toolbar--floating-top{height:calc(var(--ag-charts-toolbar-size) + 10px);padding-top:10px}.ag-charts-toolbar--floating-bottom{height:calc(var(--ag-charts-toolbar-size) + 10px);padding-bottom:10px}.ag-charts-toolbar__align{display:flex;flex-direction:inherit;flex-wrap:inherit;gap:var(--ag-charts-toolbar-gap);max-width:100%;width:100%}.ag-charts-toolbar__align--start{justify-content:start}.ag-charts-toolbar__align--center{justify-content:center}.ag-charts-toolbar__align--end{justify-content:end}.ag-charts-toolbar__align--center,
.ag-charts-toolbar__align--end{margin-left:auto}.ag-charts-toolbar--left .ag-charts-toolbar__align--center,
.ag-charts-toolbar--left .ag-charts-toolbar__align--end,
.ag-charts-toolbar--right .ag-charts-toolbar__align--center,
.ag-charts-toolbar--right .ag-charts-toolbar__align--end{margin-left:0;margin-top:auto}.ag-charts-toolbar--floating-top .ag-charts-toolbar__align,
.ag-charts-toolbar--floating-bottom .ag-charts-toolbar__align{transition:transform 0.4s ease-in-out;width:auto}.ag-charts-toolbar__section{display:inherit;flex-direction:inherit;flex-wrap:inherit;justify-content:inherit;max-width:inherit;width:inherit}.ag-charts-toolbar__button{align-items:center;background:var(--ag-charts-toolbar-background-color);border:var(--ag-charts-toolbar-border);color:var(--ag-charts-toolbar-foreground-color);display:flex;font-size:var(--ag-charts-toolbar-font-size);font-weight:500;justify-content:center;margin:0 0 0 -1px;min-height:var(--ag-charts-toolbar-size);min-width:var(--ag-charts-toolbar-size);padding:var(--ag-charts-toolbar-button-padding);pointer-events:all;transition:background-color 0.25s ease-in-out,color 0.25s ease-in-out;white-space:nowrap}.ag-charts-toolbar__button:first-child{border-bottom-left-radius:var(--ag-charts-button-radius);border-top-left-radius:var(--ag-charts-button-radius);margin:0}.ag-charts-toolbar__button:last-child{border-bottom-right-radius:var(--ag-charts-button-radius);border-right:var(--ag-charts-toolbar-border);border-top-right-radius:var(--ag-charts-button-radius)}.ag-charts-toolbar--left .ag-charts-toolbar__button,
.ag-charts-toolbar--right .ag-charts-toolbar__button{border-left:var(--ag-charts-toolbar-border);border-right:var(--ag-charts-toolbar-border);border-radius:0;margin:-1px 0 0 0;max-width:100%;overflow:hidden}.ag-charts-toolbar--left .ag-charts-toolbar__button:first-child,
.ag-charts-toolbar--right .ag-charts-toolbar__button:first-child{border-top-left-radius:var(--ag-charts-button-radius);border-top-right-radius:var(--ag-charts-button-radius);margin:0}.ag-charts-toolbar--left .ag-charts-toolbar__button:last-child,
.ag-charts-toolbar--right .ag-charts-toolbar__button:last-child{border-bottom:var(--ag-charts-toolbar-border);border-bottom-left-radius:var(--ag-charts-button-radius);border-bottom-right-radius:var(--ag-charts-button-radius)}.ag-charts-toolbar__button--hidden-value,
.ag-charts-toolbar__button--hidden-toggled{display:none}.ag-charts-toolbar__button:hover{background:var(--ag-charts-toolbar-hover-color)}.ag-charts-toolbar .ag-charts-toolbar__button:focus-visible{border-left:var(--ag-charts-toolbar-border);border-color:var(--ag-charts-toolbar-focus-color);box-shadow:var(--ag-charts-focus-border-shadow);z-index:1}.ag-charts-toolbar__button.ag-charts-toolbar__button--active{background:var(--ag-charts-toolbar-active-background-color);color:var(--ag-charts-toolbar-active-color)}.ag-charts-toolbar__button[aria-disabled='true']{background:var(--ag-charts-toolbar-disabled-background-color);color:var(--ag-charts-toolbar-disabled-foreground-color)}.ag-charts-toolbar__button:not([aria-disabled='true']){cursor:pointer}.ag-charts-toolbar__icon{height:1.2em;width:1.2em}.ag-charts-toolbar__icon + .ag-charts-toolbar__label{margin-left:var(--ag-charts-toolbar-gap)}.ag-charts-toolbar__icon,
.ag-charts-toolbar__label{pointer-events:none}`,NI=class extends ih{constructor(e){super(),this.ctx=e,this.enabled=!0,this.annotations=new cs(this.onGroupChanged.bind(this,"annotations"),this.onGroupButtonsChanged.bind(this,"annotations")),this.annotationOptions=new cs(this.onGroupChanged.bind(this,"annotationOptions"),this.onGroupButtonsChanged.bind(this,"annotationOptions")),this.ranges=new cs(this.onGroupChanged.bind(this,"ranges"),this.onGroupButtonsChanged.bind(this,"ranges")),this.zoom=new cs(this.onGroupChanged.bind(this,"zoom"),this.onGroupButtonsChanged.bind(this,"zoom")),this.horizontalSpacing=10,this.verticalSpacing=10,this.floatingDetectionRange=38,this.positions={top:new Set,right:new Set,bottom:new Set,left:new Set,floating:new Set,"floating-top":new Set,"floating-bottom":new Set},this.positionAlignments={top:{},right:{},bottom:{},left:{},floating:{},"floating-top":{},"floating-bottom":{}},this.groupCallers={annotations:new Set,annotationOptions:new Set,ranges:new Set,zoom:new Set},this.groupButtons={annotations:[],annotationOptions:[],ranges:[],zoom:[]},this.groupDestroyFns={annotations:[],annotationOptions:[],ranges:[],zoom:[]},this.pendingButtonToggledEvents=[],this.groupProxied=new Map,this.hasNewLocale=!0,e.domManager.addStyles(Zm,wG),this.elements={};for(const t of Dl)this.elements[t]=e.domManager.addChild("canvas-overlay",`toolbar-${t}`),this.renderToolbar(t);this.toggleVisibilities(),this.destroyFns.push(e.interactionManager.addListener("hover",this.onHover.bind(this),31),e.interactionManager.addListener("leave",this.onLeave.bind(this),31),e.toolbarManager.addListener("button-toggled",this.onButtonToggled.bind(this)),e.toolbarManager.addListener("group-toggled",this.onGroupToggled.bind(this)),e.toolbarManager.addListener("floating-anchor-changed",this.onFloatingAnchorChanged.bind(this)),e.toolbarManager.addListener("proxy-group-options",this.onProxyGroupOptions.bind(this)),e.layoutService.addListener("layout-complete",this.onLayoutComplete.bind(this)),e.localeManager.addListener("locale-changed",()=>{this.hasNewLocale=!0}),()=>this.destroyElements())}destroyElements(){this.ctx.domManager.removeStyles(Zm);for(const e of Object.keys(this.elements))this.ctx.domManager.removeChild("canvas-overlay",`toolbar-${e}`)}onHover(e){const{enabled:t,elements:n,floatingDetectionRange:i,ctx:{scene:r}}=this,{offsetY:s,sourceEvent:{target:o}}=e,{FloatingBottom:a,FloatingTop:l}=Bu;if(!t)return;const c=n[a],u=n[l],d=c.offsetTop-i,h=s>d&&s<r.canvas.element.offsetHeight||o===c,p=u.offsetTop+u.offsetHeight+i,f=s>0&&s<p||o===u;this.translateFloatingElements(a,h),this.translateFloatingElements(l,f)}onLeave(e){const{enabled:t,ctx:{scene:n}}=this,{relatedElement:i,targetElement:r}=e,{FloatingBottom:s,FloatingTop:o}=Bu;!t||r!==n.canvas.element||Wm.some(l=>this.groupButtons[l].some(c=>c===i))||(this.translateFloatingElements(s,!1),this.translateFloatingElements(o,!1))}onGroupChanged(e){this[e]==null||this.groupProxied.has(e)||(this.createGroup(e),this.toggleVisibilities())}onGroupButtonsChanged(e,t){!this.enabled||this.groupProxied.has(e)||(this.createGroupButtons(e,t),this.toggleVisibilities())}onLayoutComplete(){for(const e of Dl)this.elements[e].classList.remove(on.preventFlash)}onButtonToggled(e){const{group:t,value:n,active:i,enabled:r,visible:s}=e;if(this.groupButtons[t].length===0){this.pendingButtonToggledEvents.push(e);return}for(const o of this.groupButtons[t])o.dataset.toolbarValue===`${n}`&&(o.ariaDisabled=`${!r}`,o.classList.toggle(on.button.hiddenToggled,!s),o.classList.toggle(on.button.active,i))}onGroupToggled(e){const{caller:t,group:n,visible:i}=e;this.toggleGroup(t,n,i),this.toggleVisibilities()}onFloatingAnchorChanged(e){const{elements:t,groupButtons:n,positions:i,horizontalSpacing:r,verticalSpacing:s,ctx:{domManager:o,toolbarManager:a}}=this,{group:l,anchor:c}=e;if(!i.floating.has(l))return;const u=t.floating;if(u.classList.contains(on.hidden))return;let d=c.y-u.offsetHeight-s,h=c.x-u.offsetWidth/2;c.position==="above"&&(d=c.y-u.offsetHeight/2,h=c.x+r);const p=o.getBoundingClientRect();d=ke(0,d,p.height-u.offsetHeight),h=ke(0,h,p.width-u.offsetWidth),u.style.top=`${d}px`,u.style.left=`${h}px`;for(const f of n[l]){if(f.classList.contains(on.button.hiddenToggled))return;const g=f.offsetParent;a.buttonMoved(l,f.dataset.toolbarValue,new re(f.offsetLeft-f.offsetWidth+((g==null?void 0:g.offsetLeft)??0),f.offsetTop+((g==null?void 0:g.offsetTop)??0),f.offsetWidth,f.offsetWidth))}}onProxyGroupOptions(e){if(!this.enabled)return;const{caller:t,group:n,options:i}=e;this.groupProxied.set(n,i),this[n].set(i),this.toggleGroup(t,n,i.enabled),this.createGroup(n,i.enabled,i.position),i.enabled&&this.createGroupButtons(n,i.buttons)}createGroup(e,t,n){t??(t=this[e].enabled),n??(n=this[e].position);for(const i of Dl)t&&n===i?this.positions[i].add(e):this.positions[i].delete(e)}createGroupButtons(e,t=[]){var p;for(const f of this.groupButtons[e])f.remove();if(this.groupButtons[e]=[],this.groupDestroyFns[e].forEach(f=>f()),this.groupDestroyFns[e]=[],t.length===0)return;const{align:n,position:i}=this[e],r=this.positionAlignments[i][n];if(!r)return;let s=0;const o=()=>{let f=r.children.item(s);return f||(f=un("div"),r.appendChild(f),this.destroyFns.push(()=>f.remove())),f.classList.add(tu.section,on[this[e].size]),s++,f};let a=o(),l=(p=t.at(0))==null?void 0:p.section;for(const f of t){l!==f.section&&(a=o()),l=f.section;const g=this.createButtonElement(e,f);a.appendChild(g),this.groupButtons[e].push(g)}const c=()=>{this.ctx.toolbarManager.cancel(e)};let u,d;qM(i)&&(u=()=>this.translateFloatingElements(i,!0),d=()=>this.translateFloatingElements(i,!1));const h=this.computeAriaOrientation(this[e].position);this.groupDestroyFns[e]=zg({orientation:h,toolbar:r,buttons:this.groupButtons[e],onEscape:c,onFocus:u,onBlur:d}),this.updateToolbarAriaLabel(e,r)}computeAriaOrientation(e){return{top:"horizontal",right:"vertical",bottom:"horizontal",left:"vertical",floating:"horizontal","floating-top":"horizontal","floating-bottom":"horizontal"}[e]}toggleGroup(e,t,n){n?this.groupCallers[t].add(e):this.groupCallers[t].delete(e)}processPendingEvents(){const e=(this.pendingButtonToggledEvents??[]).slice();for(const t of e)this.onButtonToggled(t);this.pendingButtonToggledEvents=[]}async performLayout(e){return this.enabled&&(this.refreshOuterLayout(e.shrinkRect),this.refreshLocale()),e}async performCartesianLayout(e){this.enabled&&this.refreshInnerLayout(e.seriesRect)}refreshOuterLayout(e){const{elements:t,horizontalSpacing:n,verticalSpacing:i}=this;t.top.classList.contains(on.hidden)||e.shrink(t.top.offsetHeight+i,"top"),t.right.classList.contains(on.hidden)||e.shrink(t.right.offsetWidth+n,"right"),t.bottom.classList.contains(on.hidden)||(e.shrink(t.bottom.offsetHeight+i,"bottom"),t.bottom.style.top=`${e.y+e.height+i}px`),t.left.classList.contains(on.hidden)||e.shrink(t.left.offsetWidth+n,"left")}refreshLocale(){const{groupButtons:e,groupProxied:t,hasNewLocale:n}=this;if(n){for(const i of Wm){const r=t.get(i);e[i].forEach(s=>this.refreshButtonLocale(s,this[i],r)),this.updateToolbarAriaLabel(i)}this.hasNewLocale=!1}}refreshInnerLayout(e){const{elements:t,verticalSpacing:n}=this,{FloatingBottom:i,FloatingTop:r}=Bu;t.top.style.top=`${e.y-t.top.offsetHeight-n}px`,t.top.style.left=`${e.x}px`,t.top.style.width=`${e.width}px`,t.bottom.style.left=`${e.x}px`,t.bottom.style.width=`${e.width}px`,t.right.style.top=`${e.y}px`,t.right.style.right="0px",t.right.style.height=`${e.height}px`,t.left.style.top=`${e.y}px`,t.left.style.left="0px",t.left.style.height=`${e.height}px`,t[r].style.top=`${e.y}px`,t[i].style.top=`${e.y+e.height-t[i].offsetHeight}px`}refreshButtonLocale(e,t,n){var s,o;const{dataset:{toolbarValue:i}}=e,r=((s=n==null?void 0:n.buttons)==null?void 0:s.find(({value:a})=>a===i))??((o=t.buttons)==null?void 0:o.find(({value:a})=>a===i));r&&this.updateButtonText(e,r)}toggleVisibilities(){var n;if(this.elements==null)return;const e=i=>this[i].enabled&&this.groupCallers[i].size>0,t=i=>r=>typeof r.value!="string"&&typeof r.value!="number"||`${r.value}`===i.dataset.toolbarValue;for(const i of Dl){const r=this.enabled&&Array.from(this.positions[i].values()).some(e);this.elements[i].classList.toggle(on.hidden,!r)}for(const i of Wm){if(this[i]==null)continue;const r=e(i);for(const s of this.groupButtons[i]){const o=r&&((n=this[i].buttons)==null?void 0:n.some(t(s)));s.classList.toggle(on.button.hiddenValue,!o)}}}translateFloatingElements(e,t){const{elements:n,verticalSpacing:i,positionAlignments:r}=this,s=n[e],o=Object.values(r[e]);s.classList.toggle(on.floatingHidden,!t);const a=e==="floating-bottom"?1:-1;for(const l of o)l.style.transform=t&&l.style.transform!==""?"translateY(0)":`translateY(${(s.offsetHeight+i)*a}px)`}renderToolbar(e="top"){const t=this.elements[e];t.classList.add(Zm,on[e],on.preventFlash),qM(e)&&t.classList.add(on.floatingHidden);for(const n of ZE){const i=un("div");i.classList.add(tu.align,on.align[n]),t.appendChild(i),this.positionAlignments[e][n]=i}}createButtonElement(e,t){const n=un("button");return n.classList.add(tu.button),n.dataset.toolbarGroup=e,n.tabIndex=-1,(typeof t.value=="string"||typeof t.value=="number")&&(n.dataset.toolbarValue=`${t.value}`),n.onclick=WT(n,this.onButtonPress.bind(this,e,t.value)),this.updateButtonText(n,t),this.destroyFns.push(()=>n.remove()),n}updateToolbarAriaLabel(e,t){if(!t){const{align:i,position:r}=this[e];if(t=this.positionAlignments[r][i],!t)return}const n={annotations:"ariaLabelAnnotationsToolbar",annotationOptions:"ariaLabelAnnotationOptionsToolbar",ranges:"ariaLabelRangesToolbar",zoom:"ariaLabelZoomToolbar"};t.ariaLabel=this.ctx.localeManager.t(n[e])}updateButtonText(e,t){if(t.tooltip){const r=this.ctx.localeManager.t(t.tooltip);e.title=r}let n="";if(t.icon!=null&&(n=`<span class="ag-charts-icon-${t.icon} ${tu.icon}"></span>`),t.label!=null){const r=this.ctx.localeManager.t(t.label);n=`${n}<span class="${tu.label}">${r}</span>`}e.innerHTML=n;const i=t.ariaLabel?this.ctx.localeManager.t(t.ariaLabel):void 0;Ra(e,"aria-label",i)}onButtonPress(e,t){this.ctx.toolbarManager.pressButton(e,t)}};b([Bn(e=>{e.processPendingEvents(),e.toggleVisibilities()}),w(me)],NI.prototype,"enabled",2);var RI=1e3*60*60*24,qm=RI*30,SG=RI*365,MG={enabled:!0,position:"left",align:"start",buttons:[{icon:"trend-line",tooltip:"toolbarAnnotationsTrendLine",value:"line",section:"create"},{icon:"parallel-channel",tooltip:"toolbarAnnotationsParallelChannel",value:"parallel-channel",section:"create"},{icon:"disjoint-channel",tooltip:"toolbarAnnotationsDisjointChannel",value:"disjoint-channel",section:"create"},{icon:"horizontal-line",tooltip:"toolbarAnnotationsHorizontalLine",value:"horizontal-line",section:"create"},{icon:"vertical-line",tooltip:"toolbarAnnotationsVerticalLine",value:"vertical-line",section:"create"},{icon:"delete",tooltip:"toolbarAnnotationsClearAll",value:"clear",section:"tools"}]},DG={enabled:!0,position:"floating",align:"start",buttons:[{icon:"line-color",tooltip:"toolbarAnnotationsColor",value:"line-color"},{icon:"lock",tooltip:"toolbarAnnotationsLock",value:"lock"},{icon:"unlock",tooltip:"toolbarAnnotationsUnlock",value:"unlock"},{icon:"delete",tooltip:"toolbarAnnotationsDelete",value:"delete"}]},kG={enabled:!1,position:ch,align:"start",buttons:[{label:"toolbarRange1Month",ariaLabel:"toolbarRange1MonthAria",value:qm},{label:"toolbarRange3Months",ariaLabel:"toolbarRange3MonthsAria",value:3*qm},{label:"toolbarRange6Months",ariaLabel:"toolbarRange6MonthsAria",value:6*qm},{label:"toolbarRangeYearToDate",ariaLabel:"toolbarRangeYearToDateAria",value:(e,t)=>[new Date(`${new Date(t).getFullYear()}-01-01`).getTime(),t]},{label:"toolbarRange1Year",ariaLabel:"toolbarRange1YearAria",value:SG},{label:"toolbarRangeAll",ariaLabel:"toolbarRangeAllAria",value:(e,t)=>[e,t]}]},CG={enabled:!0,position:"top",align:"end",buttons:[{icon:"zoom-out-alt",tooltip:"toolbarZoomZoomOut",value:"zoom-out"},{icon:"zoom-in-alt",tooltip:"toolbarZoomZoomIn",value:"zoom-in"},{icon:"pan-left",tooltip:"toolbarZoomPanLeft",value:"pan-left"},{icon:"pan-right",tooltip:"toolbarZoomPanRight",value:"pan-right"},{icon:"pan-start",tooltip:"toolbarZoomPanStart",value:"pan-start"},{icon:"pan-end",tooltip:"toolbarZoomPanEnd",value:"pan-end"},{icon:"reset",tooltip:"toolbarZoomReset",value:"reset"}]},LG={type:"root",optionsKey:"toolbar",packageType:"community",chartTypes:["cartesian"],instanceConstructor:NI,themeTemplate:{toolbar:{enabled:!0,annotations:MG,annotationOptions:DG,ranges:kG,zoom:CG}}};function EG(){po.register(zT,HY,UY,UT,LG,iG,oG,cG,dG,hG,vG,bG,uG);for(const e of[Lo,Bo,Cc,Do,Ha])ko.register(e.type,{instanceConstructor:e,hidden:e===Do})}function TG(){for(const e of po.modules){if(e.packageType==="enterprise"&&!$4(e)&&$.errorOnce("Unexpected enterprise module registered: "+e.identifier),e.type==="root"&&e.themeTemplate)for(const t of e.chartTypes)Av.set(t,e.themeTemplate);if(e.type==="series"){if(e.chartTypes.length>1)throw new Error(`AG Charts - Module definition error: ${e.identifier}`);Wn.register(e.identifier,e)}if(e.type==="series-option"&&e.themeTemplate)for(const t of e.seriesTypes)Wn.setThemeTemplate(t,e.themeTemplate);if(e.type==="axis-option"&&e.themeTemplate)for(const t of e.axisTypes){const n=e.themeTemplate[t],i={...e.themeTemplate,...n};for(const r of e.axisTypes)delete i[r];ko.setThemeTemplate(t,i)}e.type==="axis"&&ko.register(e.identifier,e),e.type==="legend"&&Yx.register(e.identifier,e)}if(po.hasEnterpriseModules()){const e=X4();e.length>0&&$.errorOnce("Enterprise modules expected but not registered: ",e)}}function IG(e){return e.type==="sankey"||e.type==="chord"}var Gb=class extends kc{async updateData(){await super.updateData();const{nodes:e}=this.getOptions();this.series.forEach(t=>{IG(t)&&t.setChartNodes(e)})}async performLayout(){const e=await super.performLayout(),{seriesArea:{padding:t},seriesRoot:n,annotationRoot:i,highlightRoot:r}=this,s=e.clone();e.shrink(t.left,"left"),e.shrink(t.top,"top"),e.shrink(t.right,"right"),e.shrink(t.bottom,"bottom"),this.seriesRect=e,this.animationRect=e,this.hoverRect=e;const o=this.series.some(a=>a.visible);n.visible=o;for(const a of[n,i,r])a.translationX=Math.floor(e.x),a.translationY=Math.floor(e.y),a.setClipRectInGroupCoordinateSpace(new re(s.x,s.y,s.width,s.height));return this.ctx.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.ctx.scene.width,height:this.ctx.scene.height},clipSeries:!1,series:{rect:s,paddedRect:e,visible:o},axes:[]}),e}};Gb.className="FlowProportionChart";Gb.type="flow-proportion";var jb=class extends kc{constructor(e,t){super(e,t)}async performLayout(){const e=await super.performLayout(),{seriesArea:{padding:t},seriesRoot:n,annotationRoot:i,highlightRoot:r}=this,s=e.clone();e.shrink(t.left,"left"),e.shrink(t.top,"top"),e.shrink(t.right,"right"),e.shrink(t.bottom,"bottom"),this.seriesRect=e,this.animationRect=e,this.hoverRect=e;for(const o of[n,i,r])o.translationX=Math.floor(e.x),o.translationY=Math.floor(e.y);return await Promise.all(this.series.map(async o=>{await o.update({seriesRect:e})})),n.visible=this.series[0].visible,n.setClipRectInGroupCoordinateSpace(new re(e.x,e.y,e.width,e.height)),this.ctx.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.ctx.scene.width,height:this.ctx.scene.height},clipSeries:!1,series:{rect:s,paddedRect:e,visible:!0},axes:[]}),e}getAriaLabel(){return`hierarchical chart, ${this.getCaptionText()}`}handleSeriesFocus(e,t){this.focus.series=this.series[0];const{focus:{series:n,seriesIndex:i,datumIndex:r},seriesRect:s}=this;if(n===void 0)return;const o=n.pickFocus({datumIndex:r,datumIndexDelta:t,otherIndex:i,otherIndexDelta:e,seriesRect:s});this.updatePickedFocus(o)}};jb.className="HierarchyChart";jb.type="hierarchy";var zl=class extends Ax{constructor(){super(...arguments),this.shape="polygon",this.innerRadiusRatio=0,this.defaultTickMinSpacing=20}computeLabelsBBox(e,t){return null}};b([w(st(["polygon","circle"],"a polar axis shape"))],zl.prototype,"shape",2);b([w(Ge)],zl.prototype,"innerRadiusRatio",2);var Wb=class extends kc{constructor(e,t){super(e,t),this.padding=new zo(40),this.ctx.axisManager.axisGroup.zIndex=6}async performLayout(){const e=await super.performLayout(),t=e.clone();return this.computeSeriesRect(e),await this.computeCircle(e),this.axes.forEach(n=>n.update()),this.hoverRect=e,this.ctx.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.ctx.scene.width,height:this.ctx.scene.height},clipSeries:!1,series:{rect:t,paddedRect:e,visible:!0},axes:[]}),e}updateAxes(e,t,n){var l,c;const i=this.axes.find(u=>u.direction==="x"),r=this.axes.find(u=>u.direction==="y");if(!(i instanceof zl)||!(r instanceof zl))return;const s=i.scale,o=(l=s.ticks)==null?void 0:l.call(s).map(u=>s.convert(u)),a=r.innerRadiusRatio;i.innerRadiusRatio=a,(c=i.computeRange)==null||c.call(i),i.gridLength=n,r.gridAngles=o,r.gridRange=i.range,r.range=[n,n*a],[i,r].forEach(u=>{u.translation.x=e,u.translation.y=t,u.calculateLayout()})}computeSeriesRect(e){const{seriesArea:{padding:t}}=this;e.shrink(t.left,"left"),e.shrink(t.top,"top"),e.shrink(t.right,"right"),e.shrink(t.bottom,"bottom"),this.seriesRect=e,this.animationRect=e}async computeCircle(e){const t=this.series.filter(c=>c instanceof Wg),n=this.axes.filter(c=>c instanceof zl),i=(c,u,d)=>{this.updateAxes(c,u,d),t.forEach(p=>{p.centerX=c,p.centerY=u,p.radius=d});const h=t.filter(p=>p.type==="donut"||p.type==="pie");if(h.length>1){const p=h.map(f=>{const g=f.getInnerRadius();return{series:f,innerRadius:g}}).sort((f,g)=>f.innerRadius-g.innerRadius);p.at(-1).series.surroundingRadius=void 0;for(let f=0;f<p.length-1;f++)p[f].series.surroundingRadius=p[f+1].innerRadius}},r=e.x+e.width/2,s=e.y+e.height/2,o=Math.max(0,Math.min(e.width,e.height)/2);let a=o;i(r,s,a);const l=async({hideWhenNecessary:c=!1}={})=>{const u=[];for(const p of[...n,...t]){const f=await p.computeLabelsBBox({hideWhenNecessary:c},e);f&&u.push(f)}if(u.length===0){i(r,s,o);return}const d=re.merge(u),h=this.refineCircle(d,a,e);i(h.centerX,h.centerY,h.radius),h.radius!==a&&(a=h.radius)};return await l(),await l(),await l(),await l({hideWhenNecessary:!0}),await l({hideWhenNecessary:!0}),{radius:a,centerX:r,centerY:s}}refineCircle(e,t,n){const r=-t,s=-t,o=t,a=t;let l=Math.max(0,r-e.x),c=Math.max(0,s-e.y),u=Math.max(0,e.x+e.width-o),d=Math.max(0,e.y+e.height-a);l=u=Math.max(l,u),c=d=Math.max(c,d);const h=n.width-l-u,p=n.height-c-d;let f=Math.min(h,p)/2;const g=.5*n.width/2,v=.5*n.height/2,y=Math.min(g,v);if(f<y){f=y;const S=l+u,D=c+d;if(2*f+D>n.height){const M=n.height-2*f;Math.min(c,d)*2>M?(c=M/2,d=M/2):c>d?c=M-d:d=M-c}if(2*f+S>n.width){const M=n.width-2*f;Math.min(l,u)*2>M?(l=M/2,u=M/2):l>u?l=M-u:u=M-l}}const m=l+2*f+u,x=c+2*f+d;return{centerX:n.x+(n.width-m)/2+l+f,centerY:n.y+(n.height-x)/2+c+f,radius:f}}};Wb.className="PolarChart";Wb.type="polar";var Ug=Math.PI/180,Qm=e=>e*Ug,Jm=e=>-Math.log(Math.tan(Math.PI*.25+e*Ug*.5)),ey=e=>e/Ug,ty=e=>(Math.atan(Math.exp(-e))-Math.PI*.25)/(Ug*.5),Yv=class Gv{constructor(t,n){this.domain=t,this.range=n,this.type="mercator",this.bounds=Gv.bounds(t)}static bounds(t){const[[n,i],[r,s]]=t,o=Qm(n),a=Jm(i),l=Qm(r),c=Jm(s);return new re(Math.min(o,l),Math.min(a,c),Math.abs(l-o),Math.abs(c-a))}static fixedScale(){return new Gv([[ey(0),ty(0)],[ey(1),ty(1)]],[[0,0],[1,1]])}convert([t,n]){const[[i,r],[s,o]]=this.range,a=(s-i)/this.bounds.width,l=(o-r)/this.bounds.height;return[(Qm(t)-this.bounds.x)*a+i,(Jm(n)-this.bounds.y)*l+r]}invert([t,n]){const[[i,r],[s,o]]=this.range,a=(s-i)/this.bounds.width,l=(o-r)/this.bounds.height;return[ey((t-i)/a+this.bounds.x),ty((n-r)/l+this.bounds.y)]}};function yD(e){return e.type==="map-shape"||e.type==="map-line"||e.type==="map-marker"||e.type==="map-shape-background"||e.type==="map-line-background"}var Hb=class extends kc{constructor(e,t){super(e,t),this.xAxis=new Lo(this.getModuleContext()),this.xAxis.position="bottom",this.yAxis=new Lo(this.getModuleContext()),this.yAxis.position="left",this.ctx.zoomManager.updateAxes([this.xAxis,this.yAxis])}async updateData(){await super.updateData();const{topology:e}=this.getOptions();this.series.forEach(t=>{yD(t)&&t.setChartTopology(e)})}async performLayout(){const e=await super.performLayout(),{seriesArea:{padding:t},seriesRoot:n,annotationRoot:i,highlightRoot:r}=this,s=e.clone();e.shrink(t.left,"left"),e.shrink(t.top,"top"),e.shrink(t.right,"right"),e.shrink(t.bottom,"bottom"),this.seriesRect=e,this.animationRect=e,this.hoverRect=e;const o=this.series.filter(yD),a=o.reduce((u,d)=>{if(!d.visible)return u;const h=d.topologyBounds;return h==null?u:u==null?h:(u.merge(h),u)},void 0);let l;if(a!=null){const{lon0:u,lat0:d,lon1:h,lat1:p}=a,f=[[u,d],[h,p]],g=Yv.bounds(f),{width:v,height:y}=e,m=Math.min(v/g.width,y/g.height),x=g.width*m,S=g.height*m,D=(v-x)/2,M=(y-S)/2,C=D,k=M,L=D+x,T=M+S,O=this.ctx.zoomManager.getAxisZoom(this.xAxis.id),Y=this.ctx.zoomManager.getAxisZoom(this.yAxis.id),E=(L-C)/(O.max-O.min),_=C-E*O.min,R=(T-k)/(1-Y.min-(1-Y.max)),z=k-R*(1-Y.max);l=new Yv(f,[[_,z],[_+E,z+R]])}o.forEach(u=>{u.scale=l});const c=this.series.some(u=>u.visible);n.visible=c;for(const u of[n,i,r])u.translationX=Math.floor(e.x),u.translationY=Math.floor(e.y),u.setClipRectInGroupCoordinateSpace(new re(e.x,e.y,e.width,e.height));return this.ctx.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.ctx.scene.width,height:this.ctx.scene.height},clipSeries:!1,series:{rect:s,paddedRect:e,visible:c},axes:[]}),e}};Hb.className="TopologyChart";Hb.type="topology";function Di(e,t){if(Pi(e))return t(e)}function NG(e,t){const{xKey:n="date",highKey:i="high",openKey:r="open",lowKey:s="low",closeKey:o="close",volumeKey:a="volume",chartType:l="candlestick",navigator:c=!1,volume:u=!0,rangeToolbar:d=!0,statusBar:h=!0,annotations:p=!0,zoom:f=!0,theme:g,data:v,...y}=e,m=AG(g,l,n,i,s,r,o),x=RG(g,t,r,o,u,a),D={navigator:{enabled:c,...u?{miniChart:{enabled:c,series:[{type:"line",xKey:"date",yKey:a,marker:{enabled:!1}}]}}:null}},M=h?{statusBar:{enabled:!0,data:v,highKey:i,openKey:r,lowKey:s,closeKey:o,volumeKey:u?a:void 0}}:null,C={zoom:{enabled:f,enableIndependentAxes:!0}},k=p||d?{toolbar:{annotationOptions:{enabled:p},annotations:{enabled:p},ranges:{enabled:d}}}:null,L=u?[{type:"number",position:"left",keys:[a],label:{enabled:!1},crosshair:{enabled:!1},gridLine:{enabled:!1},nice:!1,layoutConstraints:{stacked:!1,width:20,unit:"percentage",align:"end"},disableZoom:!0}]:[];return{theme:typeof g=="string"?g:{baseTheme:"ag-financial",...g??{}},animation:{enabled:!1},legend:{enabled:!1},series:[...x,...m],padding:{top:6,right:8},axes:[{type:"number",position:"right",keys:[r,o,i,s],interval:{maxSpacing:Di(g,T=>{var O,Y,E,_,R;return(R=(_=(E=(Y=(O=T.overrides)==null?void 0:O.common)==null?void 0:Y.axes)==null?void 0:E.number)==null?void 0:_.interval)==null?void 0:R.maxSpacing})??45},label:{format:Di(g,T=>{var O,Y,E,_,R;return(R=(_=(E=(Y=(O=T.overrides)==null?void 0:O.common)==null?void 0:Y.axes)==null?void 0:E.number)==null?void 0:_.label)==null?void 0:R.format})??".2f"},crosshair:{enabled:!0,snap:!1},layoutConstraints:{stacked:!1,width:100,unit:"percentage",align:"start"}},...L,{type:"ordinal-time",position:"bottom",line:{enabled:!1},label:{enabled:!0},crosshair:{enabled:!0}}],annotations:{enabled:p},tooltip:{enabled:!1},data:v,titlePadding:4,...D,...M,...C,...k,...y}}function RG(e,t,n,i,r,s){if(!r)return[];const o=Di(e,l=>{var c,u,d;return(d=(u=(c=l.overrides)==null?void 0:c.bar)==null?void 0:u.series)==null?void 0:d.fill}),a=o?{fill:o}:{itemStyler({datum:l}){const{up:c,down:u}=t().palette;return{fill:l[n]<l[i]?c==null?void 0:c.fill:u==null?void 0:u.fill}}};return[{type:"bar",xKey:"date",yKey:s,tooltip:{enabled:!1},fillOpacity:Di(e,l=>{var c,u,d;return(d=(u=(c=l.overrides)==null?void 0:c.bar)==null?void 0:u.series)==null?void 0:d.fillOpacity})??.5,...a}]}var ny="range-area";function AG(e,t,n,i,r,s,o){var c;const a={xKey:n,openKey:s,closeKey:o,highKey:i,lowKey:r},l={xKey:n,yKey:o};switch(t){case"ohlc":return[{type:"ohlc",...a}];case"line":return[{type:"line",...l,stroke:Di(e,p=>{var f,g,v;return(v=(g=(f=p.overrides)==null?void 0:f.line)==null?void 0:g.series)==null?void 0:v.stroke})??_f,marker:Di(e,p=>{var f,g,v;return(v=(g=(f=p.overrides)==null?void 0:f.line)==null?void 0:g.series)==null?void 0:v.marker})??{enabled:!1}}];case"step-line":return[{type:"line",...l,stroke:Di(e,p=>{var f,g,v;return(v=(g=(f=p.overrides)==null?void 0:f.line)==null?void 0:g.series)==null?void 0:v.stroke})??_f,interpolation:Di(e,p=>{var f,g,v;return(v=(g=(f=p.overrides)==null?void 0:f.line)==null?void 0:g.series)==null?void 0:v.interpolation})??{type:"step"},marker:Di(e,p=>{var f,g,v;return(v=(g=(f=p.overrides)==null?void 0:f.line)==null?void 0:g.series)==null?void 0:v.marker})??{enabled:!1}}];case ny:const u=Di(e,p=>{var f,g,v;return(v=(g=(f=p.overrides)==null?void 0:f["range-area"])==null?void 0:g.series)==null?void 0:v.fill}),d=Di(e,p=>{var f,g,v;return(v=(g=(f=p.overrides)==null?void 0:f["range-area"])==null?void 0:g.series)==null?void 0:v.stroke});return[{type:ny,xKey:n,yHighKey:i,yLowKey:o,fill:u??Pf,stroke:d??Pf},{type:ny,xKey:n,yHighKey:o,yLowKey:r,fill:u??Of,stroke:d??Of}];default:case"candlestick":return[{type:"candlestick",...a}];case"hollow-candlestick":const h=Di(e,p=>{var f,g,v;return(v=(g=(f=p.overrides)==null?void 0:f.candlestick)==null?void 0:g.series)==null?void 0:v.item});return[{type:"candlestick",...a,item:{up:{fill:((c=h==null?void 0:h.up)==null?void 0:c.fill)??"transparent"}}}]}}var iy={"price-volume":NG};function PG(e){var i,r,s,o;const t=[],n=Ht.get(Ya(e));for(const{type:a,chartTypes:l,optionsKey:c,optionsInnerKey:u,identifier:d}of Sc)if(!(n!=="unknown"&&!l.includes(n))){if(a==="root"||a==="legend"){const h=e[c];if(h==null)continue;u?h[u]&&(t.push(`${c}.${u}`),delete h[u]):(t.push(c),delete e[c])}else if(a==="axis"){if(!("axes"in e)||!((i=e.axes)!=null&&i.some(h=>h.type===d)))continue;t.push(`axis[type=${d}]`),e.axes=e.axes.filter(h=>h.type!==d)}else if(a==="axis-option"){if(!("axes"in e)||!((r=e.axes)!=null&&r.some(h=>h[c])))continue;t.push(`axis.${c}`),e.axes.forEach(h=>{h[c]&&delete h[c]})}else if(a==="series"){if(!((s=e.series)!=null&&s.some(h=>h.type===d)))continue;t.push(`series[type=${d}]`),e.series=e.series.filter(h=>h.type!==d)}else if(a==="series-option"){if(!((o=e.series)!=null&&o.some(h=>h[c])))continue;t.push(`series.${c}`),e.series.forEach(h=>{h[c]&&delete h[c]})}}if(t.length){let a="ag-charts-enterprise",l="https://charts.ag-grid.com/javascript/installation/";e.mode==="integrated"&&(a="ag-grid-charts-enterprise' or 'ag-grid-enterprise/charts-enterprise",l="https://www.ag-grid.com/javascript-data-grid/integrated-charts-installation/"),$.warnOnce([`unable to use these enterprise features as '${a}' has not been loaded:`,"",...t,"",`See: ${l}`].join(`
`))}}function jv(e){return e!=null&&e.up||e!=null&&e.down||e!=null&&e.neutral?"user-full":e!=null&&e.fills||e!=null&&e.strokes?"user-indexed":"inbuilt"}var ip="white",OG={fills:Object.values(ri),strokes:Object.values(eo)},Wv={get cartesian(){return{seriesTypes:Ht.cartesianTypes,commonOptions:["zoom","navigator"]}},get polar(){return{seriesTypes:Ht.polarTypes,commonOptions:[]}},get hierarchy(){return{seriesTypes:Ht.hierarchyTypes,commonOptions:[]}},get topology(){return{seriesTypes:Ht.topologyTypes,commonOptions:[]}},get"flow-proportion"(){return{seriesTypes:Ht.flowProportionTypes,commonOptions:[]}}},_G=Object.values(Wv).reduce((e,{commonOptions:t})=>e.concat(t),[]),wi=class AI{getPalette(){return OG}static getAxisDefaults(t){return Ie(t,{title:{enabled:!1,text:"Axis Title",spacing:25,fontWeight:"normal",fontSize:13,fontFamily:Lt,color:Zt},label:{fontSize:12,fontFamily:Lt,padding:5,color:Zt,avoidCollisions:!0},line:{enabled:!0,width:1,stroke:Pp},tick:{enabled:!1,width:1,stroke:Pp},gridLine:{enabled:!0,style:[{stroke:sc,lineDash:[]}]},crossLines:{enabled:!1,fill:Wu,stroke:Wu,fillOpacity:.1,strokeWidth:1,label:{enabled:!1,fontSize:12,fontFamily:Lt,padding:5,color:Zt}}})}getChartDefaults(){return{minHeight:300,minWidth:300,background:{visible:!0,fill:Af},padding:{top:Us,right:Us,bottom:Us,left:Us},keyboard:{enabled:!0},title:{enabled:!1,text:"Title",fontWeight:"normal",fontSize:17,fontFamily:Lt,color:Zt,wrapping:"hyphenate",layoutStyle:ca,textAlign:ua},subtitle:{enabled:!1,text:"Subtitle",spacing:20,fontSize:13,fontFamily:Lt,color:go,wrapping:"hyphenate",layoutStyle:ca,textAlign:ua},footnote:{enabled:!1,text:"Footnote",spacing:20,fontSize:13,fontFamily:Lt,color:"rgb(140, 140, 140)",wrapping:"hyphenate",layoutStyle:ca,textAlign:ua},legend:{position:"bottom",spacing:30,listeners:{},toggleSeries:!0,item:{paddingX:16,paddingY:8,marker:{size:15,padding:8},showSeriesStroke:!0,label:{color:Zt,fontSize:12,fontFamily:Lt}},reverseOrder:!1,pagination:{marker:{size:12},activeStyle:{fill:Zt},inactiveStyle:{fill:go},highlightStyle:{fill:Zt},label:{color:Zt}}},tooltip:{enabled:!0,darkTheme:ju,range:void 0,delay:0},overlays:{darkTheme:ju},listeners:{}}}constructor(t={}){const{overrides:n,palette:i}=cn(t),r=this.createChartConfigPerChartType(this.getDefaults());n&&this.mergeOverrides(r,n);const{fills:s,strokes:o,...a}=this.getDefaultColors();this.palette=Ie(i,this.getPalette(),{...a}),this.paletteType=jv(i),this.config=Object.freeze(this.templateTheme(r))}mergeOverrides(t,n){for(const{seriesTypes:i,commonOptions:r}of Object.values(Wv)){const s={...n.common};for(const o of _G)r.includes(o)||delete s[o];if(s)for(const o of i){const a=o;t[a]=Ie(s,t[a])}}Ht.seriesTypes.forEach(i=>{const r=i;n[r]&&(t[r]=Ie(n[r],t[r]))})}createChartConfigPerChartType(t){for(const[n,{seriesTypes:i}]of Object.entries(Wv)){const r=Av.get(n);for(const s of i)t[s]||(t[s]=cn(r))}return t}getDefaults(){const t=(n,i)=>{const r={},s={axes:{},...Yx.getThemeTemplates(),...this.getChartDefaults(),...Av.get(n)};for(const o of i){r[o]=Ie(Wn.getThemeTemplate(o),r[o]??cn(s));const{axes:a}=r[o];for(const l of ko.keys())a[l]=Ie(a[l],ko.getThemeTemplate(l),AI.cartesianAxisDefault[l])}return r};return Ie(t("cartesian",Ht.cartesianTypes),t("polar",Ht.polarTypes),t("hierarchy",Ht.hierarchyTypes),t("topology",Ht.topologyTypes),t("flow-proportion",Ht.flowProportionTypes))}templateTheme(t){const n=cn(t),i=this.getTemplateParameters();return Rr(n,r=>{if(Ot(r))for(let s=0;s<r.length;s++){const o=r[s];i.has(o)&&(r[s]=i.get(o))}else for(const[s,o]of Object.entries(r))i.has(o)&&(r[s]=i.get(o))}),cn(n)}getDefaultColors(){return{fills:ri,strokes:eo,up:{fill:ri.BLUE,stroke:eo.BLUE},down:{fill:ri.ORANGE,stroke:eo.ORANGE},neutral:{fill:ri.GRAY,stroke:eo.GRAY}}}getTemplateParameters(){var i,r,s,o,a,l;const t=new Map;t.set(ju,!1),t.set(Lt,"Verdana, sans-serif"),t.set(Zt,"rgb(70, 70, 70)"),t.set(QT,"white"),t.set(go,"rgb(140, 140, 140)"),t.set(sc,"rgb(224,234,241)"),t.set(Pp,"rgb(195, 195, 195)"),t.set(Wu,"rgb(70, 70, 70)"),t.set(Va,ip),t.set(Af,ip),t.set(Ka,"rgba(0, 0, 0, 0.5)"),t.set(yi,[ri.ORANGE,ri.YELLOW,ri.GREEN]),t.set(Us,20),t.set(ca,"block"),t.set(ua,"center"),t.set(cb,["#ffffff","#e0e5ea","#c1ccd5","#a3b4c1","#859cad"]),t.set(ub,["#ffffff","#c5cbd1","#a4b1bd","#8498a9","#648096"]),t.set(lb,ip),t.set(vi,ri.BLUE),t.set(xi,ri.BLUE),t.set(db,ip),t.set(ch,"top"),t.set(rs,!1);const n=this.getDefaultColors();return t.set(Pf,((i=this.palette.up)==null?void 0:i.stroke)??n.up.stroke),t.set(JT,((r=this.palette.up)==null?void 0:r.fill)??n.up.fill),t.set(Of,((s=this.palette.down)==null?void 0:s.stroke)??n.down.stroke),t.set(eI,((o=this.palette.down)==null?void 0:o.fill)??n.down.fill),t.set(_f,((a=this.palette.neutral)==null?void 0:a.stroke)??n.neutral.stroke),t.set(tI,((l=this.palette.neutral)==null?void 0:l.fill)??n.neutral.fill),t}};wi.cartesianAxisDefault={number:wi.getAxisDefaults({line:{enabled:!1}}),log:wi.getAxisDefaults({base:10,line:{enabled:!1}}),category:wi.getAxisDefaults({groupPaddingInner:.1,label:{autoRotate:!0},gridLine:{enabled:rs}}),time:wi.getAxisDefaults({gridLine:{enabled:rs}}),"ordinal-time":wi.getAxisDefaults({groupPaddingInner:0,label:{autoRotate:!1},gridLine:{enabled:rs},crosshair:{enabled:!0,snap:!0,stroke:go,strokeWidth:1,strokeOpacity:1,lineDash:[5,6],lineDashOffset:0,label:{enabled:!0}}}),"angle-category":wi.getAxisDefaults({gridLine:{enabled:rs}}),"angle-number":wi.getAxisDefaults({gridLine:{enabled:rs}}),"radius-category":wi.getAxisDefaults({line:{enabled:!1},tick:{enabled:!1}}),"radius-number":wi.getAxisDefaults({line:{enabled:!1},tick:{enabled:!1}}),"grouped-category":wi.getAxisDefaults()};var Xr=wi,rp="#192232",gr={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},yu={BLUE:"#74a8e6",ORANGE:"#ffbe70",GREEN:"#6cb176",CYAN:"#75d4ef",YELLOW:"#f6e559",VIOLET:"#aa86d8",GRAY:"#a1a1a1",MAGENTA:"#ce7ab9",BROWN:"#997b52",RED:"#ff7872"},FG={fills:Object.values(gr),strokes:Object.values(yu)},Ac=class extends Xr{getDefaultColors(){return{fills:gr,strokes:yu,up:{fill:gr.BLUE,stroke:yu.BLUE},down:{fill:gr.ORANGE,stroke:yu.ORANGE},neutral:{fill:gr.GRAY,stroke:yu.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(ju,!0),e.set(lb,rp),e.set(Zt,"white"),e.set(go,"#7D91A0"),e.set(sc,"#545A6E"),e.set(Wu,"white"),e.set(yi,[gr.ORANGE,gr.YELLOW,gr.GREEN]),e.set(cb,["#192834","#253746","#324859","#3f596c","#4d6a80"]),e.set(ub,["#192834","#3b5164","#496275","#577287","#668399"]),e.set(Af,rp),e.set(Va,rp),e.set(vi,gr.BLUE),e.set(xi,gr.BLUE),e.set(db,rp),e}getPalette(){return FG}constructor(e){super(e)}},mr={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc"},vu={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc"},BG={fills:Object.values(mr),strokes:Object.values(vu)},zG=class extends Ac{getDefaultColors(){return{fills:{...mr},strokes:{...vu},up:{fill:mr.GREEN,stroke:vu.GREEN},down:{fill:mr.RED,stroke:vu.RED},neutral:{fill:mr.BLUE,stroke:vu.BLUE}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(yi,[mr.GREEN,mr.BLUE,mr.RED]),e.set(vi,mr.BLUE),e.set(xi,mr.BLUE),e.set(sc,"#343A4E"),e.set(Us,0),e.set(ca,"overlay"),e.set(ua,"left"),e.set(ch,"bottom"),e.set(rs,!0),e}getPalette(){return BG}},yr={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc"},xu={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc"},YG={fills:Object.values(yr),strokes:Object.values(xu)},GG=class extends Xr{getDefaultColors(){return{fills:{...yr},strokes:{...xu},up:{fill:yr.GREEN,stroke:xu.GREEN},down:{fill:yr.RED,stroke:xu.RED},neutral:{fill:yr.BLUE,stroke:xu.BLUE}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(yi,[yr.GREEN,yr.BLUE,yr.RED]),e.set(vi,yr.BLUE),e.set(xi,yr.BLUE),e.set(sc,"#F2F3F3"),e.set(Us,0),e.set(ca,"overlay"),e.set(ua,"left"),e.set(ch,"bottom"),e.set(rs,!0),e}getPalette(){return YG}},vr={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},bu={BLUE:"#90CAF9",ORANGE:"#FFCC80",GREEN:"#A5D6A7",CYAN:"#80DEEA",YELLOW:"#FFF9C4",VIOLET:"#B39DDB",GRAY:"#E0E0E0",MAGENTA:"#F48FB1",BROWN:"#A1887F",RED:"#EF9A9A"},jG={fills:Object.values(vr),strokes:Object.values(bu)},WG=class extends Ac{getDefaultColors(){return{fills:vr,strokes:bu,up:{fill:vr.BLUE,stroke:bu.BLUE},down:{fill:vr.RED,stroke:bu.RED},neutral:{fill:vr.GRAY,stroke:bu.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(yi,[vr.ORANGE,vr.YELLOW,vr.GREEN]),e.set(vi,vr.BLUE),e.set(xi,vr.BLUE),e}getPalette(){return jG}},xr={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},wu={BLUE:"#1565C0",ORANGE:"#E65100",GREEN:"#2E7D32",CYAN:"#00838F",YELLOW:"#F9A825",VIOLET:"#4527A0",GRAY:"#616161",MAGENTA:"#C2185B",BROWN:"#4E342E",RED:"#B71C1C"},HG={fills:Object.values(xr),strokes:Object.values(wu)},UG=class extends Xr{getDefaultColors(){return{fills:xr,strokes:wu,up:{fill:xr.BLUE,stroke:wu.BLUE},down:{fill:xr.RED,stroke:wu.RED},neutral:{fill:xr.GRAY,stroke:wu.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(yi,[xr.ORANGE,xr.YELLOW,xr.GREEN]),e.set(vi,xr.BLUE),e.set(xi,xr.BLUE),e}getPalette(){return HG}},Bs={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4"},Op={BLUE:"#6698ff",PURPLE:"#c0a3ff",MAGENTA:"#fc8dfc",PINK:"#ff82b1",RED:"#ff9b70",ORANGE:"#ffcf4e",YELLOW:"#ffff58",GREEN:"#58dd70",CYAN:"#51e2c9",MODERATE_BLUE:"#4fd7ff"},VG="#bbbbbb",KG="#eeeeee",$G={fills:Object.values(Bs),strokes:Object.values(Op)},XG=class extends Ac{getDefaultColors(){return{fills:Bs,strokes:Op,up:{fill:Bs.BLUE,stroke:Op.BLUE},down:{fill:Bs.RED,stroke:Op.RED},neutral:{fill:VG,stroke:KG}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(yi,[Bs.BLUE,Bs.RED]),e.set(vi,Bs.BLUE),e.set(xi,Bs.BLUE),e}getPalette(){return $G}},zs={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4"},_p={BLUE:"#2346c9",PURPLE:"#7653d4",MAGENTA:"#a73da9",PINK:"#c32d66",RED:"#c84b1c",ORANGE:"#c87f00",YELLOW:"#c1b900",GREEN:"#008c1c",CYAN:"#00927c",MODERATE_BLUE:"#0087bb"},ZG="#bbbbbb",qG="#888888",QG={fills:Object.values(zs),strokes:Object.values(_p)},JG=class extends Xr{getDefaultColors(){return{fills:zs,strokes:_p,up:{fill:zs.BLUE,stroke:_p.BLUE},down:{fill:zs.RED,stroke:_p.RED},neutral:{fill:ZG,stroke:qG}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(yi,[zs.BLUE,zs.RED]),e.set(vi,zs.BLUE),e.set(xi,zs.BLUE),e}getPalette(){return QG}},Xi={BLUE:"#4472C4",ORANGE:"#ED7D31",GRAY:"#A5A5A5",YELLOW:"#FFC000",MODERATE_BLUE:"#5B9BD5",GREEN:"#70AD47",DARK_GRAY:"#7B7B7B",DARK_BLUE:"#264478",VERY_DARK_GRAY:"#636363",DARK_YELLOW:"#997300"},ll={BLUE:"#6899ee",ORANGE:"#ffa55d",GRAY:"#cdcdcd",YELLOW:"#ffea53",MODERATE_BLUE:"#82c3ff",GREEN:"#96d56f",DARK_GRAY:"#a1a1a1",DARK_BLUE:"#47689f",VERY_DARK_GRAY:"#878787",DARK_YELLOW:"#c0993d"},ej={fills:Object.values(Xi),strokes:Object.values(ll)},tj=class extends Ac{getDefaultColors(){return{fills:{...Xi,RED:Xi.ORANGE},strokes:{...ll,RED:ll.ORANGE},up:{fill:Xi.BLUE,stroke:ll.BLUE},down:{fill:Xi.ORANGE,stroke:ll.ORANGE},neutral:{fill:Xi.GRAY,stroke:ll.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(yi,[Xi.ORANGE,Xi.YELLOW,Xi.GREEN]),e.set(vi,Xi.BLUE),e.set(xi,Xi.BLUE),e}getPalette(){return ej}},Zi={BLUE:"#5281d5",ORANGE:"#ff8d44",GRAY:"#b5b5b5",YELLOW:"#ffd02f",MODERATE_BLUE:"#6aabe6",GREEN:"#7fbd57",DARK_GRAY:"#8a8a8a",DARK_BLUE:"#335287",VERY_DARK_GRAY:"#717171",DARK_YELLOW:"#a98220"},cl={BLUE:"#214d9b",ORANGE:"#c25600",GRAY:"#7f7f7f",YELLOW:"#d59800",MODERATE_BLUE:"#3575ac",GREEN:"#4b861a",DARK_GRAY:"#575757",DARK_BLUE:"#062253",VERY_DARK_GRAY:"#414141",DARK_YELLOW:"#734f00"},nj={fills:Object.values(Zi),strokes:Object.values(cl)},ij=class extends Xr{getDefaultColors(){return{fills:{...Zi,RED:Zi.ORANGE},strokes:{...cl,RED:cl.ORANGE},up:{fill:cl.BLUE,stroke:Zi.BLUE},down:{fill:cl.ORANGE,stroke:Zi.ORANGE},neutral:{fill:cl.GRAY,stroke:Zi.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(yi,[Zi.ORANGE,Zi.YELLOW,Zi.GREEN]),e.set(vi,Zi.BLUE),e.set(xi,Zi.BLUE),e}getPalette(){return nj}},br={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},Su={BLUE:"#67b7ff",ORANGE:"#ffc24d",GREEN:"#5cc86f",CYAN:"#54ebff",VIOLET:"#fff653",YELLOW:"#c18aff",GRAY:"#aeaeae",MAGENTA:"#f078d4",BROWN:"#ba8438",RED:"#ff726e"},rj={fills:Object.values(br),strokes:Object.values(Su)},sj=class extends Ac{getDefaultColors(){return{fills:br,strokes:Su,up:{fill:br.BLUE,stroke:Su.BLUE},down:{fill:br.ORANGE,stroke:Su.ORANGE},neutral:{fill:br.GRAY,stroke:Su.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(yi,[br.ORANGE,br.YELLOW,br.GREEN]),e.set(vi,br.BLUE),e.set(xi,br.BLUE),e}getPalette(){return rj}},wr={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},Mu={BLUE:"#0f68c0",ORANGE:"#d47100",GREEN:"#007922",CYAN:"#009ac2",VIOLET:"#bca400",YELLOW:"#753cac",GRAY:"#646464",MAGENTA:"#9b2685",BROWN:"#6c3b00",RED:"#cb0021"},oj={fills:Object.values(wr),strokes:Object.values(Mu)},aj=class extends Xr{getDefaultColors(){return{fills:wr,strokes:Mu,up:{fill:wr.BLUE,stroke:Mu.BLUE},down:{fill:wr.ORANGE,stroke:Mu.ORANGE},neutral:{fill:wr.GRAY,stroke:Mu.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(yi,[wr.ORANGE,wr.YELLOW,wr.GREEN]),e.set(vi,wr.BLUE),e.set(xi,wr.BLUE),e}getPalette(){return oj}},Uu=()=>new Xr,ry=()=>new Ac,lj={undefined:Uu,null:Uu,"ag-default":Uu,"ag-sheets":()=>new ij,"ag-polychroma":()=>new JG,"ag-vivid":()=>new aj,"ag-material":()=>new UG,"ag-financial":()=>new GG},cj={undefined:ry,null:ry,"ag-default-dark":ry,"ag-sheets-dark":()=>new tj,"ag-polychroma-dark":()=>new XG,"ag-vivid-dark":()=>new sj,"ag-material-dark":()=>new WG,"ag-financial-dark":()=>new zG},PI={...cj,...lj};function uj(e){if(e===null)return;let t=!0;const{baseTheme:n,palette:i,overrides:r}=e;if(n!==void 0&&typeof n!="string"&&typeof n!="object"&&($.warn(`invalid theme.baseTheme type ${typeof n}, expected (string | object).`),t=!1),r!==void 0&&typeof r!="object"&&($.warn(`invalid theme.overrides type ${typeof r}, expected object.`),t=!1),typeof i=="object"){if(i!==null){const{fills:s,strokes:o}=i;s!==void 0&&!Array.isArray(s)&&($.warn("theme.overrides.fills must be undefined or an array"),t=!1),o!==void 0&&!Array.isArray(o)&&($.warn("theme.overrides.strokes must be undefined or an array"),t=!1)}}else i!==void 0&&($.warn(`invalid theme.palette type ${typeof i}, expected object.`),t=!1);if(t)return e}function dj(e){if(e===void 0||typeof e=="string"||e instanceof Xr)return e;if(typeof e=="object")return uj(e);$.warn(`invalid theme value type ${typeof e}, expected object or string.`)}function Ub(e){let t=dj(e);if(t instanceof Xr)return t;if(t==null||typeof t=="string"){const o=PI[t];return o?o():($.warnOnce(`the theme [${t}] is invalid, using [ag-default] instead.`),Uu())}const n=[];let i;for(;typeof t=="object";)n.push(t.overrides),i??(i=t.palette),t=t.baseTheme;const r={baseTheme:t,overrides:Ie(...n),palette:i},s=r.baseTheme?Ub(r.baseTheme):Uu();return new s.constructor(r)}var hj=new Set(["map-shape-background","map-line-background"]),OI=class{constructor(e,t){var d,h;this.debug=et.create(!0,"opts");var n;const i={shallow:["data"]};this.userOptions=cn(e,i);const r=this.optionsType(this.userOptions);let s=cn(e,i);if(this.type=t==null?void 0:t.type,this.type!=null){const p=((d=iy[this.type])==null?void 0:d.call(iy,s,()=>this.activeTheme))??s;this.debug(">>> AgCharts.createOrUpdate() - applying preset",s,p),s=p}this.activeTheme=Ub(s.theme),this.type&&(s=this.activeTheme.templateTheme(s)),this.sanityCheckAndCleanup(s),this.defaultAxes=this.getDefaultAxes(s),this.specialOverrides=this.specialOverridesDefaults({...t});const{axes:o={},annotations:{axesButtons:a=void 0,...l}={},series:c,...u}=this.getSeriesThemeConfig(r);this.processedOptions=cn(Ie(s,a!=null?{annotations:{axesButtons:a}}:{},u,this.defaultAxes),i),this.processAxesOptions(this.processedOptions,o),this.processSeriesOptions(this.processedOptions),this.processMiniChartSeriesOptions(this.processedOptions),this.annotationThemes=l,(Fl(this.processedOptions)||oY(this.processedOptions))&&((h=this.processedOptions.legend)==null?void 0:h.enabled)==null&&((n=this.processedOptions).legend??(n.legend={}),this.processedOptions.legend.enabled=this.processedOptions.series.length>1),this.enableConfiguredOptions(this.processedOptions),Si.isEnterprise||PG(this.processedOptions)}getOptions(){return this.processedOptions??{}}diffOptions(e){return pi(e,this.processedOptions)}getSeriesThemeConfig(e){var t;return cn(((t=this.activeTheme)==null?void 0:t.config[e])??{})}getDefaultAxes(e){const t=this.optionsType(e),n=Wn.cloneDefaultAxes(t);return Wn.isDefaultAxisSwapNeeded(e)&&this.swapAxesPosition(n),n}optionsType(e){var t,n;return((n=(t=e.series)==null?void 0:t[0])==null?void 0:n.type)??"line"}sanityCheckAndCleanup(e){var t;this.deprecationWarnings(e),this.axesTypeIntegrity(e),this.seriesTypeIntegrity(e),this.soloSeriesIntegrity(e),this.removeDisabledOptions(e),this.removeLeftoverSymbols(e),(t=e.series)!=null&&t.some(n=>n.type==="bullet")&&e.sync!=null&&e.sync.enabled!==!1&&($.warnOnce("bullet series cannot be synced, disabling synchronization."),delete e.sync)}swapAxesPosition(e){if(Fl(e)){const[t,n]=e.axes??[];e.axes=[{...t,position:n.position},{...n,position:t.position}]}}processAxesOptions(e,t){"axes"in e&&(e.axes=e.axes.map(n=>{var d,h,p;const{crossLines:i,...r}=Ie((d=t[n.type])==null?void 0:d[n.position],t[n.type]);n.crossLines&&(n.crossLines=yv(n.crossLines,i));const s=(h=r.gridLine)==null?void 0:h.style;(p=n.gridLine)!=null&&p.style&&(s!=null&&s.length)&&(n.gridLine.style=n.gridLine.style.map((f,g)=>f.stroke!=null||f.lineDash!=null?Ie(f,s.at(g%s.length)):f));const{top:o,right:a,bottom:l,left:c,...u}=Ie(n,r);return u}))}processSeriesOptions(e){var o,a;const t=this.getDefaultSeriesType(e),n=this.getTooltipPositionDefaults(e),i=Pi(e.theme)?jv((o=e.theme)==null?void 0:o.palette):"inbuilt",r={colourIndex:0,userPalette:i},s=(a=e.series)==null?void 0:a.map(l=>{l.type??(l.type=t);const{innerLabels:c,...u}=this.getSeriesThemeConfig(l.type).series??{},d=hj.has(l.type)?{colourIndex:0,userPalette:i}:r,h=this.getSeriesPalette(l.type,d),p=this.getTooltipRangeDefaults(e,l.type),f=Ie(this.getSeriesGroupingOptions(l),l,n,p,u,h,{visible:!0});return f.innerLabels&&(f.innerLabels=yv(f.innerLabels,c)),this.activeTheme.templateTheme(f)});e.series=this.setSeriesGroupingOptions(s??[])}processMiniChartSeriesOptions(e){var i,r;let t=(r=(i=e.navigator)==null?void 0:i.miniChart)==null?void 0:r.series;if(t==null)return;const n={colourIndex:0,userPalette:Pi(e.theme)?jv(e.theme.palette):"inbuilt"};t=t.map(s=>{s.type??(s.type="line");const{innerLabels:o,...a}=this.getSeriesThemeConfig(s.type).series??{},l=Ie(this.getSeriesGroupingOptions(s),s,a,this.getSeriesPalette(s.type,n));return this.activeTheme.templateTheme(l)}),e.navigator.miniChart.series=this.setSeriesGroupingOptions(t)}getSeriesPalette(e,t){const n=Wn.getPaletteFactory(e),{colourIndex:i,userPalette:r}=t,{fills:s=[],strokes:o=[]}=this.activeTheme.palette;return n==null?void 0:n({userPalette:r,colorsCount:Math.max(s.length,o.length),themeTemplateParameters:this.activeTheme.getTemplateParameters(),palette:this.activeTheme.palette,takeColors(a){return t.colourIndex+=a,{fills:Sv(s,a,i),strokes:Sv(o,a,i)}}})}getSeriesGroupingOptions(e){const t=Wn.isGroupable(e.type),n=Wn.isStackable(e.type),i=Wn.isStackedByDefault(e.type);e.grouped&&!t&&$.warnOnce(`unsupported grouping of series type "${e.type}".`),(e.stacked||e.stackGroup)&&!n&&$.warnOnce(`unsupported stacking of series type "${e.type}".`);let{grouped:r,stacked:s}=e;return s??(s=(i||e.stackGroup!=null)&&!(t&&r)),r??(r=!0),{stacked:n&&s,grouped:t&&r&&!(n&&s)}}setSeriesGroupingOptions(e){const t=this.getSeriesGrouping(e);this.debug("setSeriesGroupingOptions() - series grouping: ",t);const n={},i=t.reduce((r,s)=>{var o;return s.groupType==="default"||(r[o=s.seriesType]??(r[o]=0),r[s.seriesType]+=s.groupType==="stack"?1:s.series.length),r},{});return t.flatMap(r=>{var s;switch(n[s=r.seriesType]??(n[s]=0),r.groupType){case"stack":const o=n[r.seriesType]++;return r.series.map((a,l)=>Object.assign(a,{seriesGrouping:{groupIndex:o,groupCount:i[r.seriesType],stackIndex:l,stackCount:r.series.length}}));case"group":return r.series.map(a=>Object.assign(a,{seriesGrouping:{groupIndex:n[r.seriesType]++,groupCount:i[r.seriesType],stackIndex:0,stackCount:0}}))}return r.series}).map(({stacked:r,grouped:s,...o})=>o)}getSeriesGroupId(e){return[e.type,e.xKey,e.stacked?e.stackGroup??"stacked":"grouped"].filter(Boolean).join("-")}getSeriesGrouping(e){const t=new Map;return e.reduce((n,i)=>{const r=i.type;if(!i.stacked&&!i.grouped)n.push({groupType:"default",seriesType:r,series:[i]});else{const s=this.getSeriesGroupId(i);if(!t.has(s)){const a={groupType:i.stacked?"stack":"group",seriesType:r,series:[]};t.set(s,a),n.push(a)}t.get(s).series.push(i)}return n},[])}getDefaultSeriesType(e){if(Fl(e))return"line";if(_g(e))return"pie";if(Wx(e))return"treemap";if(Hx(e))return"map-shape";if(Ux(e))return"sankey";throw new Error("Invalid chart options type detected.")}getTooltipPositionDefaults(e){var o;const t=(o=e.tooltip)==null?void 0:o.position;if(!Yi(t))return;const{type:n,xOffset:i,yOffset:r}=t,s={};return Oi(n)&&pL(GC,n)&&(s.type=n),Pe(i)&&(s.xOffset=i),Pe(r)&&(s.yOffset=r),{tooltip:{position:s}}}getTooltipRangeDefaults(e,t){var n,i;return{tooltip:{range:((n=e.tooltip)==null?void 0:n.range)??((i=Wn.getTooltipDefauls(t))==null?void 0:i.range)}}}deprecationWarnings(e){Object.entries({yKeys:"yKey",yNames:"yName"}).forEach(([n,i])=>{var r;(r=e.series)!=null&&r.some(s=>s[n]!=null)&&$.warnOnce(`Property [series.${n}] is deprecated, please use [series.${i}] and multiple series instead.`)})}axesTypeIntegrity(e){if("axes"in e){const t=e.axes??[];for(const{type:n}of t)if(!lY(n)){delete e.axes;const i=Array.from(ko.publicKeys()).join(", ");$.warnOnce(`unknown axis type: ${n}; expected one of: ${i}`)}}}seriesTypeIntegrity(e){var t;e.series=(t=e.series)==null?void 0:t.filter(({type:n})=>{if(n==null||aY(n)||G4(n))return!0;$.warnOnce(`unknown series type: ${n}; expected one of: ${lT.seriesTypes.join(", ")}`)})}soloSeriesIntegrity(e){const t=e.series;if(t&&t.length>1&&t.some(n=>Wn.isSolo(n.type))){const n=this.optionsType(e);if(Wn.isSolo(n))$.warn(`series[0] of type '${n}' is incompatible with other series types. Only processing series[0]`),e.series=t.slice(0,1);else{const{solo:i,nonSolo:r}=Lx(t,o=>Wn.isSolo(o.type)?"solo":"nonSolo"),s=Eg(i.map(o=>o.type)).join(", ");$.warn(`Unable to mix these series types with the lead series type: ${s}`),e.series=r}}}enableConfiguredOptions(e){Rr(this.userOptions,(t,n)=>{n&&"enabled"in n&&!n._enabledFromTheme&&t.enabled==null&&(n.enabled=!0)},{skip:["data","theme"]},e),Rr(e,t=>{t._enabledFromTheme!=null&&delete t._enabledFromTheme},{skip:["data","theme"]})}removeDisabledOptions(e){Rr(e,t=>{"enabled"in t&&t.enabled===!1&&Object.keys(t).forEach(n=>{n!=="enabled"&&delete t[n]})},{skip:["data","theme"]})}removeLeftoverSymbols(e){Rr(e,t=>{if(!(!t||!Pi(t)))for(const[n,i]of Object.entries(t))fL(i)&&delete t[n]},{skip:["data"]})}specialOverridesDefaults(e){if(e.window!=null?aE(e.window):typeof window<"u"?e.window=window:typeof global<"u"&&(e.window=global.window),e.document!=null?oE(e.document):typeof document<"u"?e.document=document:typeof global<"u"&&(e.document=global.document),e.window==null)throw new Error("AG Charts - unable to resolve global window");if(e.document==null)throw new Error("AG Charts - unable to resolve global document");return e}},nu=et.create(!0,"opts");function vD(e){if(Fl(e))return"cartesian";if(_g(e))return"polar";if(Wx(e))return"hierarchy";if(Hx(e))return"topology";if(Ux(e))return"flow-proportion";throw new Error(`AG Chart - unknown type of chart for options with type: ${e.type}`)}var Fd=class{static licenseCheck(t){var n,i,r;this.licenseChecked||(this.licenseManager=(n=Si.licenseManager)==null?void 0:n.call(Si,t),(i=this.licenseManager)==null||i.setLicenseKey(this.licenseKey,this.gridContext),(r=this.licenseManager)==null||r.validateLicense(),this.licenseChecked=!0)}static setLicenseKey(t){this.licenseKey=t}static setGridContext(t){this.gridContext=t}static getLicenseDetails(t){var n;return(n=Si.licenseManager)==null?void 0:n.call(Si,{}).getLicenseDetails(t)}static getInstance(t){return xD.getInstance(t)}static create(t){var i,r;this.licenseCheck(t);const n=xD.createOrUpdate(t);return(i=this.licenseManager)!=null&&i.isDisplayWatermark()&&((r=Si.injectWatermark)==null||r.call(Si,n.chart.ctx.domManager,this.licenseManager.getWatermarkMessage())),n}static createFinancialChart(t){return this.create({_type:"price-volume",...t})}};Fd.licenseChecked=!1;Fd.gridContext=!1;var da=class Ys{static getInstance(t){const n=kc.getInstance(t);return n?tD.chartInstances.get(n):void 0}static initialiseModules(){Ys.initialised||(EG(),TG(),Ys.initialised=!0)}static createOrUpdate(t,n){Ys.initialiseModules(),nu(">>> AgCharts.createOrUpdate() user options",t);const i=n==null?void 0:n.chart.chartOptions.type,{_type:r=i,...s}=t;let o=s;Fd.optionsMutationFn&&(o=Fd.optionsMutationFn(o,r),nu(">>> AgCharts.createOrUpdate() MUTATED user options",t));const{overrideDevicePixelRatio:a,document:l,window:c,...u}=o,d=new OI(u,{overrideDevicePixelRatio:a,document:l,window:c,type:r});let h=n==null?void 0:n.chart;return(h==null||vD(u)!==vD(h==null?void 0:h.chartOptions.processedOptions))&&(h=Ys.createChartInstance(d,h)),n==null?n=new tD(h,Ys.callbackApi):n.chart=h,nu.check()&&typeof window<"u"&&(window.agChartInstances??(window.agChartInstances={}),window.agChartInstances[h.id]=h),h.queuedUserOptions.push(u),h.requestFactoryUpdate(p=>{p.applyOptions(d);const f=p.queuedUserOptions.indexOf(u)+1;p.queuedUserOptions.splice(0,f),p.applyInitialState()}),n}static updateUserDelta(t,n){n=cn(n,{shallow:["data"]}),Rr(n,o=>{if(typeof o=="object")for(const[a,l]of Object.entries(o))typeof l>"u"&&Object.assign(o,{[a]:Symbol("UNSET")})},{skip:["data"]});const{chart:i}=t,r=i.getOptions(),s=Ie(n,r);nu(">>> AgCharts.updateUserDelta() user delta",n),nu("AgCharts.updateUserDelta() - base options",r),Ys.createOrUpdate(s,t)}static createChartInstance(t,n){const i=n==null?void 0:n.destroy({keepTransferableResources:!0}),r=Ys.getChartByOptions(t.processedOptions);return new r(t,i)}static getChartByOptions(t){if(Fl(t))return rb;if(Wx(t))return jb;if(_g(t))return Wb;if(Hx(t))return Hb;if(Ux(t))return Gb;throw new Error("AG Charts - couldn't apply configuration, check options are correctly structured and series types are specified")}};da.caretaker=new AE(RE);da.initialised=!1;da.callbackApi={caretaker:da.caretaker,createOrUpdate(e,t){return da.createOrUpdate(e,t)},updateUserDelta(e,t){return da.updateUserDelta(e,t)}};var xD=da,pj={};Wr(pj,{Arc:()=>Zr,BBox:()=>re,BandScale:()=>Mo,Caption:()=>rt,ChangeDetectableProperties:()=>hb,Circle:()=>fo,ContinuousScale:()=>Ve,Diamond:()=>TT,DropShadow:()=>ur,ExtendedPath2D:()=>Cd,Group:()=>ge,HdpiCanvas:()=>_x,Image:()=>Pc,Label:()=>Kt,Line:()=>Qt,LinearGradientFill:()=>Vg,LinearScale:()=>Fr,Marker:()=>Mn,Node:()=>pc,OrdinalTimeScale:()=>tr,Path:()=>zn,PointerEvents:()=>rL,RadialColumnShape:()=>dr,Rect:()=>Yn,RedrawType:()=>ho,Scene:()=>Fx,SceneChangeDetection:()=>ne,ScenePathChangeDetection:()=>we,Sector:()=>mn,SectorBox:()=>kI,Selection:()=>Tt,Shape:()=>Gi,Square:()=>Td,Text:()=>Ye,Tooltip:()=>Ui,Triangle:()=>Bl,easing:()=>xx,getFont:()=>xa,getMarker:()=>jr,getRadialColumnWidth:()=>fj,motion:()=>gj,sectorBox:()=>Rb,toRadians:()=>An,toTooltipHtml:()=>nc});var Zr=class extends zn{constructor(){super(),this.centerX=0,this.centerY=0,this.radius=10,this.startAngle=0,this.endAngle=Math.PI*2,this.counterClockwise=!1,this.type=0,this.restoreOwnStyles()}get fullPie(){return ya(pt(this.startAngle),pt(this.endAngle))}updatePath(){const e=this.path;e.clear(),e.arc(this.centerX,this.centerY,this.radius,this.startAngle,this.endAngle,this.counterClockwise),this.type===1?e.closePath():this.type===2&&!this.fullPie&&(e.lineTo(this.centerX,this.centerY),e.closePath())}computeBBox(){return new re(this.centerX-this.radius,this.centerY-this.radius,this.radius*2,this.radius*2)}isPointInPath(e,t){const n=this.transformPoint(e,t),i=this.computeBBox();return this.type!==0&&i.containsPoint(n.x,n.y)&&this.path.isPointInPath(n.x,n.y)}};Zr.className="Arc";Zr.defaultStyles=Object.assign({},Gi.defaultStyles,{lineWidth:1,fillStyle:null});b([we()],Zr.prototype,"centerX",2);b([we()],Zr.prototype,"centerY",2);b([we()],Zr.prototype,"radius",2);b([we()],Zr.prototype,"startAngle",2);b([we()],Zr.prototype,"endAngle",2);b([we()],Zr.prototype,"counterClockwise",2);b([we()],Zr.prototype,"type",2);var Vg=class extends Gi{constructor(){super(...arguments),this.direction="to-right",this.stops=void 0,this._mask=void 0}get mask(){return this._mask}set mask(e){this._mask!=null&&this.removeChild(this._mask),e!=null&&this.appendChild(e),this._mask=e}isPointInPath(e,t){var n;return((n=this.mask)==null?void 0:n.isPointInPath(e,t))??!1}computeBBox(){var e;return(e=this.mask)==null?void 0:e.computeBBox()}render(e){const{mask:t,stops:n}=this,{ctx:i,devicePixelRatio:r}=e,s=1/r,o=t==null?void 0:t.computeTransformedBBox();if(t==null||n==null||o==null)return;t.dirtyPath&&(t.updatePath(),t.dirtyPath=!1),i.save(),i.clip(t.path.getPath2D()),i.setTransform(r,0,0,r,0,0);const a=Math.floor(o.x),l=Math.ceil(o.x+o.width),c=Math.floor(o.y),u=Math.ceil(o.y+o.height),d=this.direction==="to-right"||this.direction==="to-left",h=this.direction==="to-top"||this.direction==="to-left",p=new $a,[f,g]=d?[a,l]:[c,u];p.domain=n.map((m,x)=>f+(g-f)*x/(n.length-1)),p.range=h?n.slice().reverse():n,p.update();const v=u-c,y=l-a;switch(this.direction){case"to-right":case"to-left":for(let m=a;m<=l;m+=s)i.fillStyle=p.convert(m),i.fillRect(m,c,s,v);break;case"to-bottom":case"to-top":for(let m=c;m<=u;m+=s)i.fillStyle=p.convert(m),i.fillRect(a,m,y,s);break}i.restore()}};b([ne({redraw:3})],Vg.prototype,"direction",2);b([ne({redraw:3})],Vg.prototype,"stops",2);b([ne({redraw:3})],Vg.prototype,"_mask",2);function sy(e,t,n){const i=Math.sqrt(e**2+t**2),s=Math.atan2(t,e)+n;return{x:Math.cos(s)*i,y:Math.sin(s)*i}}var dr=class extends zn{constructor(){super(...arguments),this.isBeveled=!0,this.columnWidth=0,this.startAngle=0,this.endAngle=0,this.outerRadius=0,this.innerRadius=0,this.axisInnerRadius=0,this.axisOuterRadius=0,this.isRadiusAxisReversed=!1}set cornerRadius(e){}computeBBox(){const{innerRadius:e,outerRadius:t,columnWidth:n}=this,i=this.getRotation(),r=-n/2,s=n/2,o=-t,a=-e;let l=1/0,c=1/0,u=-1/0,d=-1/0;for(let h=0;h<4;h+=1){const{x:p,y:f}=sy(h%2===0?r:s,h<2?o:a,i);l=Math.min(p,l),c=Math.min(f,c),u=Math.max(p,u),d=Math.max(f,d)}return new re(l,c,u-l,d-c)}getRotation(){const{startAngle:e,endAngle:t}=this,n=Ng(e,t);return pt(e+n/2+Math.PI/2)}updatePath(){const{isBeveled:e}=this;e?this.updateBeveledPath():this.updateRectangularPath(),this.checkPathDirty()}updateRectangularPath(){const{columnWidth:e,innerRadius:t,outerRadius:n,path:i}=this,r=-e/2,s=e/2,o=-n,a=-t,l=this.getRotation(),c=[[r,a],[r,o],[s,o],[s,a]].map(([u,d])=>sy(u,d,l));i.clear(!0),i.moveTo(c[0].x,c[0].y),i.lineTo(c[1].x,c[1].y),i.lineTo(c[2].x,c[2].y),i.lineTo(c[3].x,c[3].y),i.closePath()}updateBeveledPath(){const{columnWidth:e,path:t,outerRadius:n,innerRadius:i,axisInnerRadius:r,axisOuterRadius:s,isRadiusAxisReversed:o}=this,a=ya(i,r),l=Math.asin(e/2/i),c=this.getRotation(),u=(k,L)=>sy(k,L,c),d=(k,L)=>Math.sqrt(k**2+L**2),h=(k,L)=>L>k?0:Math.sqrt(k**2-L**2),p=(k,L,T)=>T?k<L:k>L,f=a&&!isNaN(l)&&l<Math.PI/6;let g=-e/2,v=e/2;const y=-n,m=-i*(f?Math.cos(l):1),x=p(s,d(i,e/2),!o);if(x){const k=h(s,i);g=-k,v=k}t.clear(!0);const S=u(g,m);t.moveTo(S.x,S.y);const D=ya(i,n),M=p(s,d(n,e/2),!o);if(D&&f)t.arc(0,0,i,pt(-l-Math.PI/2)+c,pt(l-Math.PI/2)+c,!1);else if(M){const k=-h(s,e/2),L=h(s,n);if(!x){const T=u(g,k);t.lineTo(T.x,T.y)}if(t.arc(0,0,s,Math.atan2(k,g)+c,Math.atan2(y,-L)+c,!1),!ya(L,0)){const T=u(L,y);t.lineTo(T.x,T.y)}t.arc(0,0,s,Math.atan2(y,L)+c,Math.atan2(k,v)+c,!1)}else{const k=u(g,y),L=u(v,y);t.lineTo(k.x,k.y),t.lineTo(L.x,L.y)}const C=u(v,m);if(t.lineTo(C.x,C.y),f)t.arc(0,0,i,pt(l-Math.PI/2)+c,pt(-l-Math.PI/2)+c,!0);else{const k=u(g,m);t.lineTo(k.x,k.y)}t.closePath()}};dr.className="RadialColumnShape";b([we()],dr.prototype,"isBeveled",2);b([we()],dr.prototype,"columnWidth",2);b([we()],dr.prototype,"startAngle",2);b([we()],dr.prototype,"endAngle",2);b([we()],dr.prototype,"outerRadius",2);b([we()],dr.prototype,"innerRadius",2);b([we()],dr.prototype,"axisInnerRadius",2);b([we()],dr.prototype,"axisOuterRadius",2);b([we()],dr.prototype,"isRadiusAxisReversed",2);function fj(e,t,n,i,r){const s=Ng(e,t),o=s*(1-i)/2;if(e+=o,t-=o,s<.001)return 2*n*r;if(s>=2*Math.PI){const p=e+s/2;e=p-Math.PI,t=p+Math.PI}const a=n*Math.cos(e),l=n*Math.sin(e),c=n*Math.cos(t),u=n*Math.sin(t),d=Math.floor(Math.sqrt((a-c)**2+(l-u)**2)),h=2*n*r;return Math.max(1,Math.min(h,d))}var Pc=class extends pc{constructor(e){super(),this.x=0,this.y=0,this.width=0,this.height=0,this.opacity=1,this.sourceImage=e}render(e){const{ctx:t,forceRender:n,stats:i}=e;if(this.dirty===0&&!n){i&&i.nodesSkipped++;return}this.computeTransformMatrix(),this.matrix.toContext(t);const r=this.sourceImage;t.globalAlpha=this.opacity,t.drawImage(r,0,0,r.width,r.height,this.x,this.y,this.width,this.height),super.render(e)}};b([ne({redraw:3})],Pc.prototype,"x",2);b([ne({redraw:3})],Pc.prototype,"y",2);b([ne({redraw:3})],Pc.prototype,"width",2);b([ne({redraw:3})],Pc.prototype,"height",2);b([ne({redraw:3})],Pc.prototype,"opacity",2);var gj={...nL,...iE},mj={};Wr(mj,{CARTESIAN_AXIS_TYPE:()=>XT,ChartTheme:()=>Xr,DEFAULT_ANNOTATION_BACKGROUND_FILL:()=>xi,DEFAULT_ANNOTATION_HANDLE_FILL:()=>db,DEFAULT_ANNOTATION_STROKE:()=>vi,DEFAULT_AXIS_GRID_COLOUR:()=>sc,DEFAULT_AXIS_LINE_COLOUR:()=>Pp,DEFAULT_BACKGROUND_COLOUR:()=>Af,DEFAULT_CAPTION_ALIGNMENT:()=>ua,DEFAULT_CAPTION_LAYOUT_STYLE:()=>ca,DEFAULT_COLOURS:()=>KY,DEFAULT_CROSS_LINES_COLOUR:()=>Wu,DEFAULT_DIVERGING_SERIES_COLOUR_RANGE:()=>yi,DEFAULT_FONT_FAMILY:()=>Lt,DEFAULT_GRIDLINE_ENABLED:()=>rs,DEFAULT_HIERARCHY_FILLS:()=>cb,DEFAULT_HIERARCHY_STROKES:()=>ub,DEFAULT_INSIDE_SERIES_LABEL_COLOUR:()=>Va,DEFAULT_INVERTED_LABEL_COLOUR:()=>QT,DEFAULT_LABEL_COLOUR:()=>Zt,DEFAULT_MUTED_LABEL_COLOUR:()=>go,DEFAULT_PADDING:()=>Us,DEFAULT_POLAR_SERIES_STROKE:()=>lb,DEFAULT_SHADOW_COLOUR:()=>Ka,DEFAULT_TOOLBAR_POSITION:()=>ch,FONT_SIZE:()=>VT,FONT_WEIGHT:()=>KT,IS_DARK_THEME:()=>ju,PALETTE_DOWN_FILL:()=>eI,PALETTE_DOWN_STROKE:()=>Of,PALETTE_NEUTRAL_FILL:()=>tI,PALETTE_NEUTRAL_STROKE:()=>_f,PALETTE_UP_FILL:()=>JT,PALETTE_UP_STROKE:()=>Pf,POLAR_AXIS_SHAPE:()=>qT,POLAR_AXIS_TYPE:()=>ZT,POSITION:()=>$T,getChartTheme:()=>Ub,markerPaletteFactory:()=>Gg,singleSeriesPaletteFactory:()=>Tc,themes:()=>yj});var yj=gx(PI,e=>e==null?void 0:e()),vj={};Wr(vj,{BandScale:()=>Mo,ColorScale:()=>$a,ContinuousScale:()=>Ve,Invalidating:()=>nn,LinearScale:()=>Fr,OrdinalTimeScale:()=>tr,TimeScale:()=>Ig});var xj={};Wr(xj,{Color:()=>Tr,Debug:()=>et,Logger:()=>$,Padding:()=>zo,TimeInterval:()=>Na,Vec2:()=>_I,angleBetween:()=>Ng,angleDiff:()=>XL,areArrayItemsStrictlyEqual:()=>cE,areArrayNumbersEqual:()=>uE,bifurcate:()=>BL,checkDatum:()=>Mv,clamp:()=>ke,clampArray:()=>kf,countFractionDigits:()=>xg,createId:()=>Hr,day:()=>ax,deepClone:()=>cn,displacePointFromVector:()=>g3,extent:()=>Kr,findMinMax:()=>Ai,findRangeExtent:()=>md,formatNormalizedPercentage:()=>px,formatPercentage:()=>fx,friday:()=>XC,hour:()=>ox,interpolateColor:()=>lL,interpolateNumber:()=>aL,isBetweenAngles:()=>qs,isContinuous:()=>Ag,isDate:()=>Zd,isDenseInterval:()=>Sd,isEqual:()=>ya,isNegative:()=>dc,isNumber:()=>Pe,isNumberEqual:()=>ya,isNumberObject:()=>JL,isString:()=>Oi,isStringObject:()=>QL,jsonApply:()=>ls,jsonDiff:()=>pi,jsonWalk:()=>Rr,millisecond:()=>ix,minute:()=>sx,mod:()=>vg,monday:()=>UC,month:()=>cx,normalisedExtent:()=>FL,normalisedExtentWithMetadata:()=>Jd,normalizeAngle180:()=>Md,normalizeAngle360:()=>pt,normalizeAngle360Inclusive:()=>p3,range:()=>wd,resetIds:()=>iL,round:()=>hx,sanitizeHtml:()=>ht,saturday:()=>ZC,second:()=>rx,setAttribute:()=>Ra,shallowClone:()=>Lf,sunday:()=>lx,thursday:()=>$C,tickFormat:()=>UL,tickStep:()=>tc,ticks:()=>Tg,toDegrees:()=>f3,toFixed:()=>yg,toRadians:()=>An,transformIntegratedCategoryValue:()=>_l,tuesday:()=>VC,utcDay:()=>JC,utcHour:()=>QC,utcMinute:()=>qC,utcMonth:()=>eL,utcYear:()=>tL,uuid:()=>hz,wednesday:()=>KC,year:()=>ux,zipObject:()=>Nj});var _I={add:bj,angle:kj,apply:Ij,equal:Lj,distance:Mj,distanceSquared:Dj,from:Ej,fromOffset:Tj,length:wj,lengthSquared:Sj,required:FI,rotate:Cj,sub:Vb};function bj(e,t){return{x:e.x+t.x,y:e.y+t.y}}function Vb(e,t){return{x:e.x-t.x,y:e.y-t.y}}function wj(e){return Math.sqrt(e.x*e.x+e.y*e.y)}function Sj(e){return e.x*e.x+e.y*e.y}function Mj(e,t){const n=Vb(e,t);return Math.sqrt(n.x*n.x+n.y*n.y)}function Dj(e,t){const n=Vb(e,t);return n.x*n.x+n.y*n.y}function kj(e,t){return Math.atan2(e.y,e.x)-Math.atan2(t.y,t.x)}function Cj(e,t,n=FI()){const i=_I.length(e);return{x:n.x+i*Math.cos(t),y:n.y+i*Math.sin(t)}}function Lj(e,t){return e.x===t.x&&e.y===t.y}function Ej(e,t){return{x:e,y:t}}function Tj(e){return{x:e.offsetX,y:e.offsetY}}function Ij(e,t){return e.x=t.x,e.y=t.y,e}function FI(e){return{x:(e==null?void 0:e.x)??0,y:(e==null?void 0:e.y)??0}}function Nj(e,t){const n={};if(Array.isArray(t))for(let i=0;i<e.length;i++)n[`${e[i]}`]=t[i];else for(let i=0;i<e.length;i++)n[`${e[i]}`]=t;return n}var Rj={};Wr(Rj,{AND:()=>ji,ARRAY:()=>gc,ARRAY_OF:()=>Ls,AbstractBarSeries:()=>mI,AbstractBarSeriesProperties:()=>Db,ActionOnSet:()=>Fn,Animation:()=>xL,AnimationManager:()=>YE,AreaSeriesTag:()=>hI,Axis:()=>Ax,AxisInterval:()=>xc,AxisLabel:()=>_t,AxisTick:()=>bc,BOOLEAN:()=>me,BOOLEAN_ARRAY:()=>Hz,Background:()=>lh,BackgroundModule:()=>zT,BaseModuleInstance:()=>ih,BaseProperties:()=>Ce,COLOR_STRING:()=>ze,COLOR_STRING_ARRAY:()=>Wi,CartesianAxis:()=>wc,CartesianSeries:()=>Go,CartesianSeriesNodeEvent:()=>ib,CartesianSeriesProperties:()=>Yo,CategoryAxis:()=>Bo,ChartAxisDirection:()=>Cx,ChartEventManager:()=>jE,ChartOptions:()=>OI,ChartUpdateType:()=>zu,ContextMenuRegistry:()=>WE,Cursor:()=>UE,CursorManager:()=>VE,DATE:()=>Sx,DATE_ARRAY:()=>Uz,DATE_OR_DATETIME_MS:()=>Mx,DEFAULT_CARTESIAN_DIRECTION_KEYS:()=>ja,DEFAULT_CARTESIAN_DIRECTION_NAMES:()=>Wa,DEFAULT_TOOLTIP_CLASS:()=>kr,DEFAULT_TOOLTIP_DARK_CLASS:()=>hE,DEGREE:()=>Ao,DIRECTION:()=>IL,DOMManager:()=>FE,DataController:()=>oT,DataModel:()=>rT,DataModelSeries:()=>nb,DataService:()=>Og,Default:()=>Fo,Deprecated:()=>Aj,DeprecatedAndRenamedTo:()=>Pj,EMPTY_TOOLTIP_CONTENT:()=>Ts,FONT_STYLE:()=>Po,FONT_WEIGHT:()=>Oo,FUNCTION:()=>Jn,GREATER_THAN:()=>yc,GestureDetector:()=>KE,GroupedCategoryAxis:()=>Do,HierarchyNode:()=>Du,HierarchySeries:()=>_j,HierarchySeriesProperties:()=>Uo,HighlightManager:()=>$E,HighlightStyle:()=>ah,INTERACTION_RANGE:()=>Lg,INTERPOLATION_STEP_POSITION:()=>oI,INTERPOLATION_TYPE:()=>sI,InteractionManager:()=>fE,InteractionState:()=>ic,InterpolationProperties:()=>Ic,KeyNavManager:()=>XE,LABEL_PLACEMENT:()=>kx,LARGEST_KEY_INTERVAL:()=>vT,LESS_THAN:()=>mc,LINE_CAP:()=>EL,LINE_DASH:()=>Es,LINE_JOIN:()=>Vz,Layers:()=>qL,LayoutService:()=>QE,LonLatBBox:()=>Fj,MARKER_SHAPE:()=>iI,MATCHING_CROSSLINE_TYPE:()=>Tx,MAX_SPACING:()=>AL,MIN_SPACING:()=>RL,MercatorScale:()=>Yv,ModuleRegistry:()=>TE,Motion:()=>xx,NAN:()=>Dg,NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>Nn,NUMBER:()=>tt,NUMBER_ARRAY:()=>kg,NUMBER_OR_NAN:()=>fc,Navigator:()=>Ho,NavigatorModule:()=>UT,OBJECT:()=>le,OBJECT_ARRAY:()=>LL,OR:()=>za,OVERFLOW_STRATEGY:()=>$z,ObserveChanges:()=>Bn,PHASE_METADATA:()=>bd,PHASE_ORDER:()=>ol,PLACEMENT:()=>NL,PLAIN_OBJECT:()=>DL,POINTER_INTERACTION_TYPES:()=>Rx,POSITION:()=>Dx,POSITION_TOP_COORDINATES:()=>Nf,POSITIVE_NUMBER:()=>X,PolarAxis:()=>zl,PolarSeries:()=>Wg,PropertiesArray:()=>wg,ProxyOnWrite:()=>F3,ProxyProperty:()=>$t,ProxyPropertyOnWrite:()=>Sn,QUICK_TRANSITION:()=>Ef,RATIO:()=>Ge,REGIONS:()=>gE,RepeatType:()=>vL,SKIP_JS_BUILTINS:()=>yx,SMALLEST_KEY_INTERVAL:()=>yT,SORT_DOMAIN_GROUPS:()=>xT,STRING:()=>q,STRING_ARRAY:()=>CL,Series:()=>Dc,SeriesGroupingChangedEvent:()=>Xx,SeriesItemHighlightStyle:()=>Ns,SeriesMarker:()=>ni,SeriesNodeEvent:()=>oh,SeriesNodePickMode:()=>ST,SeriesProperties:()=>cr,SeriesTooltip:()=>Gn,StateMachine:()=>th,TEXT_ALIGN:()=>TL,TEXT_WRAP:()=>Cg,TICK_INTERVAL:()=>mE,ToolbarManager:()=>qE,Tooltip:()=>Ui,TooltipManager:()=>Rf,TooltipPosition:()=>vc,UNION:()=>st,UpdateService:()=>JE,VERTICAL_ALIGN:()=>Kz,Validate:()=>w,ZoomManager:()=>cT,__FORCE_MODULE_DETECTION:()=>Bj,accumulateContinuity:()=>wT,accumulateGroup:()=>bT,accumulatedValue:()=>gT,accumulativeValueProperty:()=>$x,addHitTestersToQuadtree:()=>Sb,adjustLabelPlacement:()=>SI,allInStringUnion:()=>Cp,animationValidation:()=>Mc,area:()=>_v,arraysEqual:()=>va,assignJsonApplyConstructedArray:()=>OL,backfillPathPointData:()=>mb,basicContinuousCheckDatumValidation:()=>Vx,bifurcate:()=>BL,buildFormatter:()=>qd,buildResetPathFn:()=>vb,calculateDefaultTimeTickFormat:()=>SL,calculateLabelChartPadding:()=>tE,calculateLabelTranslation:()=>Dv,calculatePlacement:()=>dE,checkCrisp:()=>bI,childrenIter:()=>gI,circularSliceArray:()=>Sv,clamp:()=>ke,clampArray:()=>kf,collapsedStartingBarPosition:()=>Pd,computeBarFocusBounds:()=>kb,computeMarkerFocusBounds:()=>dh,computeSectorFocusBounds:()=>EI,computeSectorSeriesFocusBounds:()=>fG,convertValuesToScaleByDefs:()=>Oj,countFractionDigits:()=>xg,createDatumId:()=>Co,createDeprecationWarning:()=>Kb,createElement:()=>un,dateToNumber:()=>Hn,deconstructSelectionsOrNodes:()=>Sg,deepClone:()=>cn,deepMerge:()=>Ez,defaultTimeTickFormat:()=>wx,determinePathStatus:()=>xb,diff:()=>Ga,downloadUrl:()=>sE,enterpriseModule:()=>Si,extent:()=>Kr,extractDecoratedProperties:()=>Dz,findMinMax:()=>Ai,findQuadtreeMatch:()=>Mb,findRangeExtent:()=>md,fixNumericExtent:()=>qn,formatNormalizedPercentage:()=>px,formatPercentage:()=>fx,fromToMotion:()=>Et,getDocument:()=>gs,getMissCount:()=>zx,getPath:()=>mx,getPathComponents:()=>iT,getRectConfig:()=>xI,getWindow:()=>Gr,groupAccumulativeContinuityProperty:()=>kT,groupAccumulativeValueProperty:()=>nr,groupAverage:()=>fT,groupBy:()=>Lx,groupCount:()=>Ov,groupSum:()=>hT,initMenuKeyNav:()=>FY,initToolbarKeyNav:()=>zg,isArray:()=>Ot,isBoolean:()=>uL,isDate:()=>Xd,isDecoratedObject:()=>bg,isDefined:()=>vd,isEnumKey:()=>Lz,isEnumValue:()=>pL,isEqual:()=>ya,isFiniteNumber:()=>Pe,isFunction:()=>Ba,isHtmlElement:()=>hL,isNegative:()=>dc,isNumber:()=>ci,isObject:()=>Pi,isObjectLike:()=>Cz,isPlainObject:()=>Yi,isProperties:()=>zr,isRegExp:()=>dL,isString:()=>Oi,isSymbol:()=>fL,isValidDate:()=>Zd,jsonApply:()=>ls,jsonDiff:()=>pi,jsonWalk:()=>Rr,keyProperty:()=>pn,labelDirectionHandling:()=>nE,listDecoratedProperties:()=>Ol,makeAccessibleClickListener:()=>WT,mapIterable:()=>Jz,mapValues:()=>gx,markerFadeInAnimation:()=>Id,markerPaletteFactory:()=>Gg,markerScaleInAnimation:()=>pb,markerSwipeScaleInAnimation:()=>fb,mergeArrayDefaults:()=>yv,mergeDefaults:()=>Ie,midpointStartingBarPosition:()=>rG,minMax:()=>Bv,mod:()=>vg,moduleRegistry:()=>po,nearestSquared:()=>mg,nearestSquaredInContainer:()=>pz,normaliseGroupTo:()=>Ld,normalisePropertyTo:()=>Ed,normalisedExtent:()=>FL,normalisedExtentWithMetadata:()=>Jd,pairCategoryData:()=>Ad,pairContinuousData:()=>Rd,partialAssign:()=>la,pathFadeInAnimation:()=>Hu,pathFadeOutAnimation:()=>QY,pathRangePoints:()=>Yf,pathRangePointsReverse:()=>lI,pathRanges:()=>zf,pathSwipeInAnimation:()=>yb,pickByMatchingAngle:()=>Fb,plotPath:()=>mo,predicateWithMessage:()=>Qe,prepareAreaPathAnimation:()=>fI,prepareAreaPathAnimationFns:()=>pI,prepareAxisAnimationContext:()=>Ev,prepareAxisAnimationFunctions:()=>yE,prepareBarAnimationFunctions:()=>Od,prepareLinePathAnimation:()=>dI,prepareLinePathAnimationFns:()=>uI,prepareLinePathPropertyAnimation:()=>bb,prepareMarkerAnimation:()=>gb,preparePieSeriesAnimationFunctions:()=>wa,range:()=>pT,rangedValueProperty:()=>Kx,renderPartialPath:()=>aI,resetAxisGroupFn:()=>vE,resetAxisLabelSelectionFn:()=>bE,resetAxisLineSelectionFn:()=>wE,resetAxisSelectionFn:()=>xE,resetBarSelectionsFn:()=>_d,resetIds:()=>iL,resetLabelFn:()=>Rs,resetMarkerFn:()=>uh,resetMarkerPositionFn:()=>Nd,resetMotion:()=>zt,resetPieSelectionsFn:()=>_b,round:()=>hx,seriesLabelFadeInAnimation:()=>Fe,seriesLabelFadeOutAnimation:()=>Qs,setDocument:()=>oE,setElementBBox:()=>is,setPath:()=>vx,setWindow:()=>aE,shallowClone:()=>Lf,singleSeriesPaletteFactory:()=>Tc,splitPairData:()=>Ff,staticFromToMotion:()=>Ur,stringify:()=>_u,sum:()=>dY,sumValues:()=>Fg,times:()=>_L,toArray:()=>wv,toFixed:()=>yg,toTooltipHtml:()=>nc,trailingAccumulatedValue:()=>mT,trailingAccumulatedValueProperty:()=>vY,unique:()=>Eg,updateClipPath:()=>Bf,updateLabelNode:()=>wI,updateRect:()=>vI,validateCrossLineValues:()=>eE,valueProperty:()=>Ke,without:()=>vv});function Kb(){return(e,t)=>{const n=[`Property [${e}] is deprecated.`,t].filter(Boolean).join(" ");$.warnOnce(n)}}function Aj(e,t){const n=Kb(),i=t==null?void 0:t.default;return Ss((r,s,o)=>(o!==i&&n(s.toString(),e),o))}function Pj(e,t){const n=Kb();return Ss((i,r,s)=>(s!==i[e]&&(n(r.toString(),`Use [${e}] instead.`),vx(i,e,t?t(s):s)),Cf),(i,r)=>(n(r.toString(),`Use [${e}] instead.`),mx(i,e)))}function Oj({defs:e,values:t,xAxis:n,yAxis:i}){if(!(n&&i))throw new Error("Axes must be defined");const r={};for(const[s,{def:o}]of e)if(Object.hasOwn(t,s)){const{scale:a}=o.type==="key"?n:i;r[s]=Math.round(a.convert(t[s]))}return r}var BI=class Fp{constructor(t,n,i,r,s,o,a,l,c,u,d){this.series=t,this.index=n,this.datum=i,this.size=r,this.colorValue=s,this.fill=o,this.stroke=a,this.sumSize=l,this.depth=c,this.parent=u,this.children=d,this.midPoint={x:0,y:0}}contains(t){let n=t;for(;n!=null&&n.index>=this.index;){if(n===this)return!0;n=n.parent}return!1}walk(t,n=Fp.Walk.PreOrder){n===Fp.Walk.PreOrder&&t(this),this.children.forEach(i=>{i.walk(t,n)}),n===Fp.Walk.PostOrder&&t(this)}*[Symbol.iterator](){yield this;for(const t of this.children)yield*t}};BI.Walk={PreOrder:0,PostOrder:1};var Du=BI,_j=class extends Dc{constructor(e){super({moduleCtx:e,pickModes:[3,0],contentGroupVirtual:!1}),this.rootNode=new Du(this,0,void 0,0,void 0,void 0,void 0,0,void 0,void 0,[]),this.colorDomain=[0,0],this.maxDepth=0,this.focusPath=[],this.animationState=new th("empty",{empty:{update:{target:"ready",action:t=>this.animateEmptyUpdateReady(t)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:t=>this.animateReadyHighlight(t),resize:t=>this.animateReadyResize(t),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:t=>this.animateWaitingUpdateReady(t)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:t=>this.animateClearingUpdateEmpty(t)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"&&this.animationState.transition("skip")}async processData(){var y;const{childrenKey:e,sizeKey:t,colorKey:n,fills:i,strokes:r,colorRange:s}=this.properties;let o=0;const a=()=>(o+=1,o);let l=0,c=1/0,u=-1/0;const d=new Array((((y=this.data)==null?void 0:y.length)??0)+1).fill(void 0),h=(m,x)=>{const S=a(),D=x.depth!=null?x.depth+1:0,M=e!=null?m[e]:void 0,C=M==null||M.length===0;let k=t!=null?m[t]:void 0;Number.isFinite(k)?k=Math.max(k,0):k=C?1:0;const L=k;l=Math.max(l,D);const T=n!=null?m[n]:void 0;return typeof T=="number"&&(d[S]=T,c=Math.min(c,T),u=Math.max(u,T)),p(new Du(this,S,m,k,T,void 0,void 0,L,D,x,[]),M)},p=(m,x)=>(x==null||x.forEach(S=>{const D=h(S,m);m.children.push(D),m.sumSize+=D.sumSize}),m),f=p(new Du(this,0,void 0,0,void 0,void 0,void 0,0,void 0,void 0,[]),this.data),g=[c,u];let v;s!=null&&Number.isFinite(c)&&Number.isFinite(u)&&(v=new $a,v.domain=g,v.range=s,v.update()),f.children.forEach((m,x)=>{m.walk(S=>{let D;const M=d[S.index];M!=null&&(D=v==null?void 0:v.convert(M)),D??(D=i==null?void 0:i[x%i.length]),S.fill=D,S.stroke=v==null?r==null?void 0:r[x%r.length]:"rgba(0, 0, 0, 0.2)"})}),this.rootNode=f,this.maxDepth=l,this.colorDomain=g,this.focusPath=[{nodeDatum:this.rootNode,childIndex:0}]}async update({seriesRect:e}){await this.updateSelections(),await this.updateNodes();const t=this.getAnimationData();this.checkResize(e)&&this.animationState.transition("resize",t),this.animationState.transition("update",t)}resetAllAnimation(e){var n;const t=(n=this.animationResetFns)==null?void 0:n.datum;this.ctx.animationManager.stopByAnimationGroupId(this.id),t!=null&&zt(e.datumSelections,t)}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateReadyHighlight(e){var n;const t=(n=this.animationResetFns)==null?void 0:n.datum;t!=null&&zt([e],t)}animateReadyResize(e){this.resetAllAnimation(e)}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animationTransitionClear(){this.animationState.transition("clear",this.getAnimationData())}getAnimationData(){return{datumSelections:[this.groupSelection]}}isProcessedDataAnimatable(){return!0}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}getLabelData(){return[]}getSeriesDomain(){return[NaN,NaN]}getLegendData(e){const{colorKey:t,colorName:n,colorRange:i,visible:r}=this.properties;return e==="gradient"&&t!=null&&i!=null?[{legendType:"gradient",enabled:r,seriesId:this.id,colorName:n,colorRange:i,colorDomain:this.colorDomain}]:[]}getDatumIdFromData(e){return`${e.index}`}getDatumId(e){return this.getDatumIdFromData(e)}pickFocus(e){var s;if(this.rootNode.children.length===0)return;this.focusPath.length===0&&$.error("this.focusPath should not be empty");const{datumIndexDelta:t,otherIndexDelta:n}=e,{focusPath:i}=this,r=i.length-2;if(n!==0||i.length===1){const o=Math.max(0,r+n);if(i[o+1]!==void 0)return i.length=o+2,this.computeFocusOutputs(i[o+1]);{let a=i[i.length-1];for(;a.nodeDatum.children.length>0&&(a.nodeDatum.depth??-1)<o;){const l={nodeDatum:a.nodeDatum.children[0],childIndex:0};i.push(l),a=l}return this.computeFocusOutputs(a)}}else if(t!==0){const o=i[r+1].childIndex+t,a=i[r].nodeDatum,l=(s=a==null?void 0:a.children)==null?void 0:s.length;if(l!==void 0){const c=ke(0,o,l-1),u={nodeDatum:a.children[c],childIndex:c};return i[r+1]=u,i.length=r+2,this.computeFocusOutputs(u)}}else return this.computeFocusOutputs(i[i.length-1])}getDatumAriaText(e,t){if(!(e instanceof Du)){$.error(`datum is not HierarchyNode: ${e}`);return}return this.ctx.localeManager.t("ariaAnnounceHierarchyDatum",{level:(e.depth??-1)+1,count:e.children.length,description:t})}computeFocusOutputs({nodeDatum:e,childIndex:t}){const n=this.computeFocusBounds(e);if(n)return{datum:e,datumIndex:t,otherIndex:e.depth,bounds:n,showFocusBox:!0}}},Uo=class extends cr{constructor(){super(...arguments),this.childrenKey="children",this.fills=Object.values(ri),this.strokes=Object.values(eo)}};b([w(q)],Uo.prototype,"childrenKey",2);b([w(q,{optional:!0})],Uo.prototype,"sizeKey",2);b([w(q,{optional:!0})],Uo.prototype,"colorKey",2);b([w(q,{optional:!0})],Uo.prototype,"colorName",2);b([w(Wi)],Uo.prototype,"fills",2);b([w(Wi)],Uo.prototype,"strokes",2);b([w(Wi,{optional:!0})],Uo.prototype,"colorRange",2);var Fj=class{constructor(e,t,n,i){this.lon0=e,this.lat0=t,this.lon1=n,this.lat1=i}merge(e){this.lon0=Math.min(this.lon0,e.lon0),this.lat0=Math.min(this.lat0,e.lat0),this.lon1=Math.max(this.lon1,e.lon1),this.lat1=Math.max(this.lat1,e.lat1)}},Bj=0;function bD(e,t){return{...e,container:t.current}}function zj(e,t){const n=N.forwardRef(function(r,s){const{options:o,style:a,className:l}=r,c=N.useRef(null),u=N.useRef();N.useLayoutEffect(()=>{const h=e(bD(o,c));return u.current=h,()=>{h.destroy()}},[]);const d=u.current===void 0;return N.useEffect(()=>{var h;d||(h=u.current)==null||h.update(bD(o,c))},[o]),N.useImperativeHandle(s,()=>u.current,[]),N.useMemo(()=>N.createElement("div",{ref:c,style:a,className:l}),[a,l])});return n.displayName=t,n}var Yj=zj(e=>Fd.create(e),"AgCharts");const Gj=(e=[])=>{const t={date:[],EOD:[],MA20:[],MA50:[],delta:[],deltaMA5:[],deltaMA10:[],deltaMA20:[],P0:[],P1:[],P2:[],M1:[],M2:[],M3:[]};return e.length&&e.forEach(n=>{t.date.push(n.date),t.EOD.push(n.EOD),t.MA20.push(n.MA20),t.MA50.push(n.MA50),t.M1.push(n.M1),t.M2.push(n.M2),t.M3.push(n.M3),t.delta.push(n.delta),t.deltaMA5.push(n.deltaMA5),t.deltaMA10.push(n.deltaMA10),t.deltaMA20.push(n.deltaMA20),t.P0.push(n.P0),t.P1.push(n.P1),t.P2.push(n.P2)}),t},wD={EOD:"red",MA20:"blue",MA50:"orange",delta:"green",deltaMA5:"brown",deltaMA10:"purple",deltaMA20:"teal",M1:"black",M2:"gold",M3:"pink"},jj=(e={EOD:!0},t=[])=>{const n=Gj(t),i=[];return Object.keys(e).forEach(s=>{e[s]&&i.push({label:s,data:n[s],fill:!1,borderColor:wD[s],backgroundColor:wD[s]})}),{labels:n.date,datasets:i}},Wj=({symbol:e,symbolName:t,enabledDataPoints:n,history:i})=>{jj(n,i);const[r,s]=N.useState({data:[{month:"Jan",avgTemp:2.3,iceCreamSales:162e3},{month:"Mar",avgTemp:6.3,iceCreamSales:302e3},{month:"May",avgTemp:16.2,iceCreamSales:8e5},{month:"Jul",avgTemp:22.8,iceCreamSales:1254e3},{month:"Sep",avgTemp:14.5,iceCreamSales:95e4},{month:"Nov",avgTemp:8.9,iceCreamSales:2e5}],series:[{type:"bar",xKey:"month",yKey:"iceCreamSales"}]});return U.jsx("div",{children:U.jsx(Yj,{options:r})})},Hj=()=>U.jsx("div",{children:"Symbol picker"}),Uj=({id:e,clickHandler:t,isChecked:n})=>U.jsxs("label",{children:[U.jsx("input",{type:"checkbox",defaultChecked:n,onClick:i=>t(e,i.target.checked)})," ",e]}),Vj=({clickHandler:e,enabledDataPoints:t})=>{const n=["EOD","M1","M2","M3","MA20","MA50","delta","deltaMA5","deltaMA10","deltaMA20"],i=[];return n.forEach(r=>{i.push(U.jsx(Uj,{id:r,clickHandler:e},r))}),U.jsx(U.Fragment,{children:i})},$b=N.createContext();function Kj(e){const t=sessionStorage.getItem("tokenId")||void 0,n=sessionStorage.getItem("userId")||void 0,[i,r]=N.useState({tokenId:t,userId:n}),s=o=>{const a={...i,...o};r(a)};return U.jsx($b.Provider,{value:[i,s],children:e.children})}const SD=()=>{let{symbol:e}=MP()||"AAPL";const[t,n]=N.useState([]),[i]=N.useContext($b),{tokenId:r}=i,s=localStorage.getItem("dataPoints")||"{}",o=JSON.parse(s)||{EOD:!0},a=sessionStorage.getItem("startDate")||"",l=sessionStorage.getItem("endDate")||"";let c;a&&a!=="null"?c=new Date(a):(c=new Date,c.setFullYear(c.getFullYear()-1));const u=l&&l!=="null"?new Date(`${l}`):new Date,d=v=>{const y=(v.getMonth()+1).toString().padStart(2,"0"),m=v.getDate().toString().padStart(2,"0");return`${v.getFullYear()}${y}${m}`},[h,p]=N.useState(c),[f,g]=N.useState(u);return N.useState(o),N.useEffect(()=>{if(r){let v=new FormData;v.append("tokenId",r),v.append("task","history"),v.append("symbol",e),v.append("startDate",d(h)),v.append("endDate",d(f)),fetch("http://localhost/public_html/stracker/api.php",{body:v,method:"post"}).then(y=>{if(y.status>=200&&y.status<300)return y.json();throw new Error(y.status)}).then(y=>{if(console.log(`Historical data for ${e} was fetched`,y),y.err)throw new Error(y.err);n(y)}).catch(y=>{addMessage({message:`The request to fetch the list of symbols has failed. Please try again later.
              If this error persists, contact the site administrator.
              Error details: ${y}`,classification:"error"})})}},[e,h,f,r]),U.jsxs(U.Fragment,{children:[U.jsx("section",{className:"search-bar",children:U.jsx(Hj,{})}),U.jsxs("section",{className:"grid-container grid-sidebar",children:[U.jsxs("div",{children:[U.jsx(Al,{legend:"Data Points",children:U.jsx(Vj,{})}),U.jsx(Al,{legend:"Date Range",children:U.jsx(zC,{})}),U.jsxs(Al,{legend:"Alert History",children:[" ","for symbol: ",e," - truncate this."]})]}),U.jsx("div",{children:U.jsx(Wj,{symbol:e})})]})]})},$j=()=>U.jsx("div",{children:U.jsx("h2",{children:"404 Page Content"})}),sp={HOME:"/",SYMBOL:"/Symbol",ALERTS:"/Alerts"};var zI={exports:{}};(function(e,t){(function(n,i){e.exports=i(N)})(typeof self<"u"?self:XI,function(n){return s={},i.m=r=[function(o){o.exports=n},function(o,a,l){o.exports=l(2)()},function(o,a,l){function c(){}function u(){}var d=l(3);u.resetWarningCache=c,o.exports=function(){function h(g,v,y,m,x,S){if(S!==d){var D=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw D.name="Invariant Violation",D}}function p(){return h}var f={array:h.isRequired=h,bool:h,func:h,number:h,object:h,string:h,symbol:h,any:h,arrayOf:p,element:h,elementType:h,instanceOf:p,node:h,objectOf:p,oneOf:p,oneOfType:p,shape:p,exact:p,checkPropTypes:u,resetWarningCache:c};return f.PropTypes=f}},function(o){o.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(o,a,l){function c(E,_){return function(R){if(Array.isArray(R))return R}(E)||function(R,z){if(typeof Symbol<"u"&&Symbol.iterator in Object(R)){var P=[],F=!0,G=!1,H=void 0;try{for(var Z,J=R[Symbol.iterator]();!(F=(Z=J.next()).done)&&(P.push(Z.value),!z||P.length!==z);F=!0);}catch(he){G=!0,H=he}finally{try{F||J.return==null||J.return()}finally{if(G)throw H}}return P}}(E,_)||function(R,z){if(R){if(typeof R=="string")return u(R,z);var P=Object.prototype.toString.call(R).slice(8,-1);return P==="Object"&&R.constructor&&(P=R.constructor.name),P==="Map"||P==="Set"?Array.from(P):P==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(P)?u(R,z):void 0}}(E,_)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function u(E,_){_!=null&&_<=E.length||(_=E.length);for(var R=0,z=Array(_);R<_;R++)z[R]=E[R];return z}function d(E,_){return function(R){if(Array.isArray(R))return R}(E)||function(R,z){if(typeof Symbol<"u"&&Symbol.iterator in Object(R)){var P=[],F=!0,G=!1,H=void 0;try{for(var Z,J=R[Symbol.iterator]();!(F=(Z=J.next()).done)&&(P.push(Z.value),!z||P.length!==z);F=!0);}catch(he){G=!0,H=he}finally{try{F||J.return==null||J.return()}finally{if(G)throw H}}return P}}(E,_)||function(R,z){if(R){if(typeof R=="string")return h(R,z);var P=Object.prototype.toString.call(R).slice(8,-1);return P==="Object"&&R.constructor&&(P=R.constructor.name),P==="Map"||P==="Set"?Array.from(P):P==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(P)?h(R,z):void 0}}(E,_)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function h(E,_){_!=null&&_<=E.length||(_=E.length);for(var R=0,z=Array(_);R<_;R++)z[R]=E[R];return z}function p(E,_){return function(R){if(Array.isArray(R))return R}(E)||function(R,z){if(typeof Symbol<"u"&&Symbol.iterator in Object(R)){var P=[],F=!0,G=!1,H=void 0;try{for(var Z,J=R[Symbol.iterator]();!(F=(Z=J.next()).done)&&(P.push(Z.value),!z||P.length!==z);F=!0);}catch(he){G=!0,H=he}finally{try{F||J.return==null||J.return()}finally{if(G)throw H}}return P}}(E,_)||function(R,z){if(R){if(typeof R=="string")return f(R,z);var P=Object.prototype.toString.call(R).slice(8,-1);return P==="Object"&&R.constructor&&(P=R.constructor.name),P==="Map"||P==="Set"?Array.from(P):P==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(P)?f(R,z):void 0}}(E,_)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function f(E,_){_!=null&&_<=E.length||(_=E.length);for(var R=0,z=Array(_);R<_;R++)z[R]=E[R];return z}function g(E,_){return function(R){if(Array.isArray(R))return R}(E)||function(R,z){if(typeof Symbol<"u"&&Symbol.iterator in Object(R)){var P=[],F=!0,G=!1,H=void 0;try{for(var Z,J=R[Symbol.iterator]();!(F=(Z=J.next()).done)&&(P.push(Z.value),!z||P.length!==z);F=!0);}catch(he){G=!0,H=he}finally{try{F||J.return==null||J.return()}finally{if(G)throw H}}return P}}(E,_)||function(R,z){if(R){if(typeof R=="string")return v(R,z);var P=Object.prototype.toString.call(R).slice(8,-1);return P==="Object"&&R.constructor&&(P=R.constructor.name),P==="Map"||P==="Set"?Array.from(P):P==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(P)?v(R,z):void 0}}(E,_)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function v(E,_){_!=null&&_<=E.length||(_=E.length);for(var R=0,z=Array(_);R<_;R++)z[R]=E[R];return z}function y(E,_,R,z,P,F){var G=E.getElementsByTagName(_)[0],H=G,Z=G;(Z=E.createElement(_)).id=R,Z.src=z,H&&H.parentNode?H.parentNode.insertBefore(Z,H):E.head.appendChild(Z),Z.onerror=F,Z.onload=P}function m(E,_){var R=E.getElementById(_);R&&R.parentNode.removeChild(R)}function x(E){return C.a.createElement("span",{style:{paddingRight:10,fontWeight:500,paddingLeft:E.icon?0:10,paddingTop:10,paddingBottom:10}},E.children)}function S(E){return C.a.createElement("div",{style:{marginRight:10,background:E.active?"#eee":"#fff",padding:10,borderRadius:2}},C.a.createElement("svg",{width:"18",height:"18",xmlns:"http://www.w3.org/2000/svg"},C.a.createElement("g",{fill:"#000",fillRule:"evenodd"},C.a.createElement("path",{d:"M9 3.48c1.69 0 2.83.73 3.48 1.34l2.54-2.48C13.46.89 11.43 0 9 0 5.48 0 2.44 2.02.96 4.96l2.91 2.26C4.6 5.05 6.62 3.48 9 3.48z",fill:"#EA4335"}),C.a.createElement("path",{d:"M17.64 9.2c0-.74-.06-1.28-.19-1.84H9v3.34h4.96c-.1.83-.64 2.08-1.84 2.92l2.84 2.2c1.7-1.57 2.68-3.88 2.68-6.62z",fill:"#4285F4"}),C.a.createElement("path",{d:"M3.88 10.78A5.54 5.54 0 0 1 3.58 9c0-.62.11-1.22.29-1.78L.96 4.96A9.008 9.008 0 0 0 0 9c0 1.45.35 2.82.96 4.04l2.92-2.26z",fill:"#FBBC05"}),C.a.createElement("path",{d:"M9 18c2.43 0 4.47-.8 5.96-2.18l-2.84-2.2c-.76.53-1.78.9-3.12.9-2.38 0-4.4-1.57-5.12-3.74L.97 13.04C2.45 15.98 5.48 18 9 18z",fill:"#34A853"}),C.a.createElement("path",{fill:"none",d:"M0 0h18v18H0z"}))))}function D(E){var _=d(Object(M.useState)(!1),2),R=_[0],z=_[1],P=d(Object(M.useState)(!1),2),F=P[0],G=P[1],H=E.tag,Z=E.type,J=E.className,he=E.disabledStyle,pe=E.buttonText,Te=E.children,V=E.render,ue=E.theme,oe=E.icon,de=E.disabled,Se=k({onSuccess:E.onSuccess,onAutoLoadFinished:E.onAutoLoadFinished,onRequest:E.onRequest,onFailure:E.onFailure,onScriptLoadFailure:E.onScriptLoadFailure,clientId:E.clientId,cookiePolicy:E.cookiePolicy,loginHint:E.loginHint,hostedDomain:E.hostedDomain,autoLoad:E.autoLoad,isSignedIn:E.isSignedIn,fetchBasicProfile:E.fetchBasicProfile,redirectUri:E.redirectUri,discoveryDocs:E.discoveryDocs,uxMode:E.uxMode,scope:E.scope,accessType:E.accessType,responseType:E.responseType,jsSrc:E.jsSrc,prompt:E.prompt}),Oe=Se.signIn,ce=de||!Se.loaded;if(V)return V({onClick:Oe,disabled:ce});var be={backgroundColor:ue==="dark"?"rgb(66, 133, 244)":"#fff",display:"inline-flex",alignItems:"center",color:ue==="dark"?"#fff":"rgba(0, 0, 0, .54)",boxShadow:"0 2px 2px 0 rgba(0, 0, 0, .24), 0 0 1px 0 rgba(0, 0, 0, .24)",padding:0,borderRadius:2,border:"1px solid transparent",fontSize:14,fontWeight:"500",fontFamily:"Roboto, sans-serif"},ut={cursor:"pointer",backgroundColor:ue==="dark"?"#3367D6":"#eee",color:ue==="dark"?"#fff":"rgba(0, 0, 0, .54)",opacity:1},Dn=ce?Object.assign({},be,he):F?Object.assign({},be,ut):R?Object.assign({},be,{cursor:"pointer",opacity:.9}):be;return C.a.createElement(H,{onMouseEnter:function(){return z(!0)},onMouseLeave:function(){z(!1),G(!1)},onMouseDown:function(){return G(!0)},onMouseUp:function(){return G(!1)},onClick:Oe,style:Dn,type:Z,disabled:ce,className:J},[oe&&C.a.createElement(S,{key:1,active:F}),C.a.createElement(x,{icon:oe,key:2},Te||pe)])}l.r(a),l.d(a,"default",function(){return T}),l.d(a,"GoogleLogin",function(){return T}),l.d(a,"GoogleLogout",function(){return Y}),l.d(a,"useGoogleLogin",function(){return k}),l.d(a,"useGoogleLogout",function(){return O});var M=l(0),C=l.n(M),k=(l(1),function(E){function _(mt){var vt=mt.getBasicProfile(),jn=mt.getAuthResponse(!0);mt.googleId=vt.getId(),mt.tokenObj=jn,mt.tokenId=jn.id_token,mt.accessToken=jn.access_token,mt.profileObj={googleId:vt.getId(),imageUrl:vt.getImageUrl(),email:vt.getEmail(),name:vt.getName(),givenName:vt.getGivenName(),familyName:vt.getFamilyName()},P(mt)}function R(mt){if(mt&&mt.preventDefault(),Ko){var vt=window.gapi.auth2.getAuthInstance(),jn={prompt:Oc};he(),Xa==="code"?vt.grantOfflineAccess(jn).then(function(yn){return P(yn)},function(yn){return Z(yn)}):vt.signIn(jn).then(function(yn){return _(yn)},function(yn){return Z(yn)})}}var z=E.onSuccess,P=z===void 0?function(){}:z,F=E.onAutoLoadFinished,G=F===void 0?function(){}:F,H=E.onFailure,Z=H===void 0?function(){}:H,J=E.onRequest,he=J===void 0?function(){}:J,pe=E.onScriptLoadFailure,Te=E.clientId,V=E.cookiePolicy,ue=E.loginHint,oe=E.hostedDomain,de=E.autoLoad,Se=E.isSignedIn,Oe=E.fetchBasicProfile,ce=E.redirectUri,be=E.discoveryDocs,ut=E.uxMode,Dn=E.scope,Vi=E.accessType,Xa=E.responseType,Za=E.jsSrc,qa=Za===void 0?"https://apis.google.com/js/api.js":Za,Oc=E.prompt,Vo=c(Object(M.useState)(!1),2),Ko=Vo[0],qr=Vo[1];return Object(M.useEffect)(function(){var mt=!1,vt=pe||Z;return y(document,"script","google-login",qa,function(){var jn={client_id:Te,cookie_policy:V,login_hint:ue,hosted_domain:oe,fetch_basic_profile:Oe,discoveryDocs:be,ux_mode:ut,redirect_uri:ce,scope:Dn,access_type:Vi};Xa==="code"&&(jn.access_type="offline"),window.gapi.load("auth2",function(){var yn=window.gapi.auth2.getAuthInstance();yn?yn.then(function(){mt||(Se&&yn.isSignedIn.get()?(qr(!0),G(!0),_(yn.currentUser.get())):(qr(!0),G(!1)))},function(kn){Z(kn)}):window.gapi.auth2.init(jn).then(function(kn){if(!mt){qr(!0);var bi=Se&&kn.isSignedIn.get();G(bi),bi&&_(kn.currentUser.get())}},function(kn){qr(!0),G(!1),vt(kn)})})},function(jn){vt(jn)}),function(){mt=!0,m(document,"google-login")}},[]),Object(M.useEffect)(function(){de&&R()},[Ko]),{signIn:R,loaded:Ko}});function L(E){var _=g(Object(M.useState)(!1),2),R=_[0],z=_[1],P=g(Object(M.useState)(!1),2),F=P[0],G=P[1],H=E.tag,Z=E.type,J=E.className,he=E.disabledStyle,pe=E.buttonText,Te=E.children,V=E.render,ue=E.theme,oe=E.icon,de=E.disabled,Se=O({jsSrc:E.jsSrc,onFailure:E.onFailure,onScriptLoadFailure:E.onScriptLoadFailure,clientId:E.clientId,cookiePolicy:E.cookiePolicy,loginHint:E.loginHint,hostedDomain:E.hostedDomain,fetchBasicProfile:E.fetchBasicProfile,discoveryDocs:E.discoveryDocs,uxMode:E.uxMode,redirectUri:E.redirectUri,scope:E.scope,accessType:E.accessType,onLogoutSuccess:E.onLogoutSuccess}),Oe=Se.signOut,ce=de||!Se.loaded;if(V)return V({onClick:Oe,disabled:ce});var be={backgroundColor:ue==="dark"?"rgb(66, 133, 244)":"#fff",display:"inline-flex",alignItems:"center",color:ue==="dark"?"#fff":"rgba(0, 0, 0, .54)",boxShadow:"0 2px 2px 0 rgba(0, 0, 0, .24), 0 0 1px 0 rgba(0, 0, 0, .24)",padding:0,borderRadius:2,border:"1px solid transparent",fontSize:14,fontWeight:"500",fontFamily:"Roboto, sans-serif"},ut={cursor:"pointer",backgroundColor:ue==="dark"?"#3367D6":"#eee",color:ue==="dark"?"#fff":"rgba(0, 0, 0, .54)",opacity:1},Dn=ce?Object.assign({},be,he):F?Object.assign({},be,ut):R?Object.assign({},be,{cursor:"pointer",opacity:.9}):be;return C.a.createElement(H,{onMouseEnter:function(){return z(!0)},onMouseLeave:function(){z(!1),G(!1)},onMouseDown:function(){return G(!0)},onMouseUp:function(){return G(!1)},onClick:Oe,style:Dn,type:Z,disabled:ce,className:J},[oe&&C.a.createElement(S,{key:1,active:F}),C.a.createElement(x,{icon:oe,key:2},Te||pe)])}D.defaultProps={type:"button",tag:"button",buttonText:"Sign in with Google",scope:"profile email",accessType:"online",prompt:"",cookiePolicy:"single_host_origin",fetchBasicProfile:!0,isSignedIn:!1,uxMode:"popup",disabledStyle:{opacity:.6},icon:!0,theme:"light",onRequest:function(){}};var T=D,O=function(E){var _=E.jsSrc,R=_===void 0?"https://apis.google.com/js/api.js":_,z=E.onFailure,P=E.onScriptLoadFailure,F=E.clientId,G=E.cookiePolicy,H=E.loginHint,Z=E.hostedDomain,J=E.fetchBasicProfile,he=E.discoveryDocs,pe=E.uxMode,Te=E.redirectUri,V=E.scope,ue=E.accessType,oe=E.onLogoutSuccess,de=p(Object(M.useState)(!1),2),Se=de[0],Oe=de[1],ce=Object(M.useCallback)(function(){if(window.gapi){var be=window.gapi.auth2.getAuthInstance();be!=null&&be.then(function(){be.signOut().then(function(){be.disconnect(),oe()})},function(ut){return z(ut)})}},[oe]);return Object(M.useEffect)(function(){var be=P||z;return y(document,"script","google-login",R,function(){var ut={client_id:F,cookie_policy:G,login_hint:H,hosted_domain:Z,fetch_basic_profile:J,discoveryDocs:he,ux_mode:pe,redirect_uri:Te,scope:V,access_type:ue};window.gapi.load("auth2",function(){window.gapi.auth2.getAuthInstance()?Oe(!0):window.gapi.auth2.init(ut).then(function(){return Oe(!0)},function(Dn){return be(Dn)})})},function(ut){be(ut)}),function(){m(document,"google-login")}},[]),{signOut:ce,loaded:Se}};L.defaultProps={type:"button",tag:"button",buttonText:"Logout of Google",disabledStyle:{opacity:.6},icon:!0,theme:"light",jsSrc:"https://apis.google.com/js/api.js"};var Y=L}],i.c=s,i.d=function(o,a,l){i.o(o,a)||Object.defineProperty(o,a,{enumerable:!0,get:l})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,a){if(1&a&&(o=i(o)),8&a||4&a&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(i.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),2&a&&typeof o!="string")for(var c in o)i.d(l,c,(function(u){return o[u]}).bind(null,c));return l},i.n=function(o){var a=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(a,"a",a),a},i.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)},i.p="",i(i.s=4);function i(o){if(s[o])return s[o].exports;var a=s[o]={i:o,l:!1,exports:{}};return r[o].call(a.exports,a,a.exports,i),a.l=!0,a.exports}var r,s})})(zI);var MD=zI.exports;const DD="451536185848-p0c132ugq4jr7r08k4m6odds43qk6ipj.apps.googleusercontent.com",Xj=()=>{const[e,t]=N.useContext($b),{tokenId:n}=e,i=()=>{sessionStorage.setItem("tokenId",""),sessionStorage.setItem("userId",""),t({tokenId:""})},r=c=>{const{tokenId:u,profileObj:d}=c,{email:h}=d;sessionStorage.setItem("tokenId",u),sessionStorage.setItem("userId",h),t({tokenId:u,userId:h})},s=c=>{console.log("Auth Success: currentUser:",c),r(c),l(c)},o=c=>{console.log(" - - - -- > authResponse: ",c)},a=c=>{console.log("Logout made successfully",c),i()},l=c=>{let u=(c.tokenObj.expires_in||3300)*1e3;const d=async()=>{const h=await c.reloadAuthResponse();console.log(" - - - > newAuthRes: ",h),u=(h.expires_in||3600-5*60)*1e3,r(h),setTimeout(d,u)};setTimeout(d,u)};return n?U.jsx(MD.GoogleLogout,{clientId:DD,buttonText:"Logout",onLogoutSuccess:a}):U.jsx(MD.GoogleLogin,{clientId:DD,buttonText:"Login",onSuccess:s,onFailure:o,cookiePolicy:"single_host_origin",isSignedIn:!0})},Zj=N.createContext(null),oy={didCatch:!1,error:null};class qj extends N.Component{constructor(t){super(t),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=oy}static getDerivedStateFromError(t){return{didCatch:!0,error:t}}resetErrorBoundary(){const{error:t}=this.state;if(t!==null){for(var n,i,r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];(n=(i=this.props).onReset)===null||n===void 0||n.call(i,{args:s,reason:"imperative-api"}),this.setState(oy)}}componentDidCatch(t,n){var i,r;(i=(r=this.props).onError)===null||i===void 0||i.call(r,t,n)}componentDidUpdate(t,n){const{didCatch:i}=this.state,{resetKeys:r}=this.props;if(i&&n.error!==null&&Qj(t.resetKeys,r)){var s,o;(s=(o=this.props).onReset)===null||s===void 0||s.call(o,{next:r,prev:t.resetKeys,reason:"keys"}),this.setState(oy)}}render(){const{children:t,fallbackRender:n,FallbackComponent:i,fallback:r}=this.props,{didCatch:s,error:o}=this.state;let a=t;if(s){const l={error:o,resetErrorBoundary:this.resetErrorBoundary};if(typeof n=="function")a=n(l);else if(i)a=N.createElement(i,l);else if(r===null||N.isValidElement(r))a=r;else throw o}return N.createElement(Zj.Provider,{value:{didCatch:s,error:o,resetErrorBoundary:this.resetErrorBoundary}},a)}}function Qj(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return e.length!==t.length||e.some((n,i)=>!Object.is(n,t[i]))}function Jj({error:e,resetErrorBoundary:t}){return U.jsxs("div",{role:"alert",children:[U.jsx("p",{children:"Something went wrong:"}),U.jsx("pre",{style:{color:"red"},children:e.message})]})}const eW=(e,t)=>{};function tW(){return U.jsx(qj,{fallbackRender:Jj,onError:eW,onReset:e=>{},children:U.jsxs(Kj,{children:[U.jsxs("header",{children:[U.jsx("h1",{className:"logo",children:U.jsx(_h,{to:sp.HOME,children:"Stracker"})}),U.jsx("nav",{className:"navbar",children:U.jsxs("ul",{className:"nav-list",children:[U.jsx("li",{className:"nav-item",children:U.jsx(_h,{to:sp.SYMBOL,children:"Symbol"})}),U.jsx("li",{className:"nav-item",children:U.jsx(_h,{to:sp.ALERTS,children:"Alert History"})})]})}),U.jsx("div",{className:"auth",children:U.jsx(Xj,{})})]}),U.jsx("main",{children:U.jsx(N.Suspense,{fallback:U.jsx("div",{children:"Loading content..."}),children:U.jsx(_P,{})})}),U.jsxs("footer",{children:["Footer - ",U.jsx(_h,{to:`${sp.SYMBOL}/AAPL`,children:"AAPL"})]})]})})}const nW=()=>{const e=HP([{element:U.jsx(tW,{}),errorElement:U.jsx($j,{}),children:[{path:"/",element:U.jsx(rO,{})},{path:"/alerts",element:U.jsx(_B,{})},{path:"/symbol",element:U.jsx(SD,{})},{path:"/symbol/:symbol",element:U.jsx(SD,{})}]}]);return U.jsx(JP,{router:e})};ay.createRoot(document.getElementById("root")).render(U.jsx(j.StrictMode,{children:U.jsx(nW,{})}));
